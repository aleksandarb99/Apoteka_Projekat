(this["webpackJsonppharmacy-front"]=this["webpackJsonppharmacy-front"]||[]).push([[0],{112:function(e,t,n){},129:function(e,t,n){},139:function(e,t,n){},164:function(e,t,n){},185:function(e,t,n){},276:function(e,t,n){},306:function(e,t,n){},362:function(e,t,n){},513:function(e,t,n){},514:function(e,t,n){},589:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(55),i=n.n(r),s=(n(362),n(117),n(139),n(35)),o=n(6),l=n(3),d=n(56),j=n(123),u=n(49),b=n(52),h=n(5),O=n.n(h),p=n(9),m=n(222),x=n(326),f=n.n(x).a.create({baseURL:"https://apotekaprojekat.herokuapp.com",headers:{"Content-Type":"application/json"}});f.interceptors.request.use((function(e){var t=null;try{t=JSON.parse(localStorage.getItem("user")).token}catch(n){}return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var v=f,y=n(11);function g(e){return e.response?e.response.data.message?e.response.data.message:e.response.data:""}var _=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,C=Object(m.b)({name:"user",initialState:{user:_},reducers:{loginSuccess:function(e,t){e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},logoutSuccess:function(e,t){e.user=null,localStorage.removeItem("user")}}}),N=C.reducer,k=C.actions,w=k.loginSuccess,S=k.logoutSuccess,T=function(){return function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t(S()));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()};function I(e,t,n,a,c){var r=!0;if(!e&&t)return!1;if(n&&e){var i=n.match(/\/(.+)\/.*/)[1],s=n.match(/\/.+\/(.*)/)[1],o=new RegExp(i,s);r=r&&o.test(e)}return a&&e&&(r=r&&e.length>=a),c&&e&&(r=r&&e.length<=c),r}var D={email:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,'/^(([^<>()[\\]\\.,;:\\s@"]+(\\.[^<>()[\\]\\.,;:\\s@"]+)*)|(".+"))@(([^<>()[\\]\\.,;:\\s@"]+\\.)+[^<>()[\\]\\.,;:\\s@"]{2,})$/i',null,null)},password:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,6,255)},firstName:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,30)},lastName:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,60)},telephone:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,"/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/",1,30)},city:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,100)},street:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,150)},country:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,100)},additionalNotes:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,0,250)},medicineCode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,30)},medicineContent:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,200)},medicineName:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,50)},sideEffects:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I(e,t,null,1,250)}};function P(){try{var e=JSON.parse(localStorage.getItem("user")).token;return JSON.parse(atob(e.split(".")[1])).id}catch(t){return null}}function L(){try{var e=JSON.parse(localStorage.getItem("user")).token;return JSON.parse(atob(e.split(".")[1])).userType}catch(t){return null}}var M=n(158),E=n(0);function A(e){var t=e.name,n=e.placeholder,c=e.minLength,r=e.maxLength,i=e.defaultValue,s=e.required,j=e.pattern,u=e.onChange,b=e.disabled,h=Object(M.a)(e,["name","placeholder","minLength","maxLength","defaultValue","required","pattern","onChange","disabled"]),O=Object(a.useState)(""),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)(),v=Object(l.a)(f,2),y=v[0],g=v[1];Object(a.useEffect)((function(){if(j){var e=j.match(/\/(.+)\/.*/)[1],t=j.match(/\/.+\/(.*)/)[1],n=new RegExp(e,t);g(n)}_(i)}),[]);var _=function(e){var t="";!s||e&&""!==e?j&&y&&e?y.test(e)||(t="Input data is not in a valid format"):t=c&&e&&e.length<c?"Minimum number of characters is "+c+".":r&&e&&e.length>r?"Maximum number of characters is "+r+".":"":t="This field cannot be blank!",x(t)};return Object(E.jsxs)(d.a.Group,Object(o.a)(Object(o.a)({},h),{},{children:[Object(E.jsx)(d.a.Label,{children:t}),Object(E.jsx)(d.a.Control,{type:"text",placeholder:n,defaultValue:i,isInvalid:!!m,onChange:function(e){u(e),_(e.target.value)}.bind(this),required:s,disabled:b}),Object(E.jsx)(d.a.Control.Feedback,{type:"invalid",children:m})]}))}A.defaultProps={required:!1,minLength:0,onChange:function(){},maxLength:100,pattern:"",disabled:!1};var H=A;var R=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"E-mail",placeholder:"Enter e-mail...",minLength:1,maxLength:30,required:!0,onChange:function(t){return e.onChange(t)},pattern:'/^(([^<>()[\\]\\.,;:\\s@"]+(\\.[^<>()[\\]\\.,;:\\s@"]+)*)|(".+"))@(([^<>()[\\]\\.,;:\\s@"]+\\.)+[^<>()[\\]\\.,;:\\s@"]{2,})$/i'}))};function G(e){var t=e.name,n=e.minLength,c=e.maxLength,r=e.onChange,i=Object(M.a)(e,["name","minLength","maxLength","onChange"]),s=Object(a.useState)(""),j=Object(l.a)(s,2),u=j[0],b=j[1],h=function(e){var t="";t=e&&""!==e?n&&e.length<n?"Minimum number of characters is "+n+".":c&&e.length>c?"Maximum number of characters is "+c+".":"":"Password cannot be blank!",b(t)};Object(a.useEffect)(h,[]);return Object(E.jsxs)(d.a.Group,Object(o.a)(Object(o.a)({},i),{},{children:[Object(E.jsx)(d.a.Label,{children:t}),Object(E.jsx)(d.a.Control,{type:"password",isInvalid:!!u,onChange:function(e){r(e),h(e.target.value)}.bind(this),required:!0}),Object(E.jsx)(d.a.Control.Feedback,{type:"invalid",children:u})]}))}G.defaultProps={minLength:6,onChange:function(){},maxLength:255,name:"Password"};var Y=G;var B=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(u.b)(),i=Object(u.c)((function(e){return e.user})),h=Object(y.useToasts)().addToast,m=function(e,t){c(Object(o.a)(Object(o.a)({},n),{},Object(s.a)({},e,t)))};return i.user?Object(E.jsx)(b.a,{to:"/"}):Object(E.jsxs)(d.a,{noValidate:!0,onSubmit:function(e){(e.preventDefault(),e.stopPropagation(),D.email(n.email)&&D.password(n.password))&&r(function(e){var t=e.email,n=e.password;return function(){var e=Object(p.a)(O.a.mark((function e(a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/api/auth/login/",{email:t,password:n});case 3:c=e.sent,a(w(c.data)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(n)).then((function(){P()||h("User not found",{appearance:"warning"})}))},className:"my__login__form",children:[Object(E.jsx)(R,{onChange:function(e){return m("email",e.target.value)}}),Object(E.jsx)(Y,{onChange:function(e){return m("password",e.target.value)}}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})};var F=function(){return Object(E.jsx)("main",{className:"home__page my__login__container",children:Object(E.jsx)(B,{})})};var q=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"First Name",placeholder:"Enter first name...",minLength:1,maxLength:30,onChange:function(t){e.onChange(t)},required:!0}))};var V=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Last Name",placeholder:"Enter last name...",minLength:1,maxLength:60,onChange:function(t){e.onChange(t)},required:!0}))};var K=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Phone Number",placeholder:"Enter phone number...",minLength:1,maxLength:30,required:!0,onChange:function(t){return e.onChange(t)},pattern:"/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/"}))};var z=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"City",placeholder:"Enter city...",minLength:1,maxLength:100,onChange:function(t){e.onChange(t)},required:!0}))};var U=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Country",placeholder:"Enter country...",minLength:1,maxLength:100,onChange:function(t){e.onChange(t)},required:!0}))};var W=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Street",placeholder:"Enter street...",minLength:1,maxLength:150,onChange:function(t){e.onChange(t)},required:!0}))};var Q=function(){var e=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",repeatPassword:"",telephone:"",city:"",street:"",country:""}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(y.useToasts)().addToast,i=Object(a.useRef)(null),u=function(e,t){c(Object(o.a)(Object(o.a)({},n),{},Object(s.a)({},e,t)))},h=function(){var e=O(n);v.post("/api/users/",e).then((function(){return c({firstName:"",lastName:"",email:"",password:"",repeatPassword:"",telephone:"",city:"",street:"",country:""}),i.current.reset(),r("Successfully registred. Please confirm your email.",{appearance:"success"}),Object(E.jsx)(b.a,{to:{pathname:"/login"}})})).catch((function(e){r(g(e),{appearance:"error"})}))},O=function(){var e={city:n.city,street:n.street,country:n.country},t=Object(o.a)(Object(o.a)({},n),{},{address:e,roleName:"PATIENT"});return delete t.city,delete t.street,delete t.country,t};return Object(E.jsxs)("main",{className:"mylogincontainer",style:{minHeight:"100vh",padding:"0px",paddingBottom:"50px"},children:[Object(E.jsxs)(d.a,{ref:i,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),D.firstName(n.firstName)&&D.lastName(n.lastName)&&D.email(n.email)&&D.password(n.password)&&D.password(n.repeatPassword)&&D.telephone(n.telephone)&&D.city(n.city)&&D.street(n.street)&&D.country(n.country)){if(n.password!==n.repeatPassword)return void r("Passwords do not match",{appearance:"warning"});h()}},className:"my__login__form",children:[Object(E.jsx)(q,{value:n.firstName,onChange:function(e){return u("firstName",e.target.value)}}),Object(E.jsx)(V,{onChange:function(e){return u("lastName",e.target.value)}}),Object(E.jsx)(R,{onChange:function(e){return u("email",e.target.value)}}),Object(E.jsx)(Y,{onChange:function(e){return u("password",e.target.value)}}),Object(E.jsx)(Y,{name:"Repeat password",onChange:function(e){return u("repeatPassword",e.target.value)}}),Object(E.jsx)(K,{onChange:function(e){return u("telephone",e.target.value)}}),Object(E.jsx)(z,{onChange:function(e){return u("city",e.target.value)}}),Object(E.jsx)(W,{onChange:function(e){return u("street",e.target.value)}}),Object(E.jsx)(U,{onChange:function(e){return u("country",e.target.value)}}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})," "]})},J=n(134),$=n(86),Z=n(65),X=n(95),ee=(n(276),n(164),n(221)),te=n(155),ne=n(157),ae=n(156),ce=n(27);var re=function(e){var t=e.pharmacyDetails,n=e.changedPharmacy,c=Object(y.useToasts)().addToast,r=Object(a.useState)(null),i=Object(l.a)(r,2),u=i[0],b=i[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(a.useState)(!0),f=Object(l.a)(x,2),_=f[0],C=f[1],N=Object(a.useState)({name:"",description:"",country:"",city:"",street:"",longitude:0,latitude:0}),k=Object(l.a)(N,2),w=k[0],S=k[1],T=function(e){var t=e.target.name,n=e.target.value;D(t,n),S(Object(o.a)(Object(o.a)({},w),{},Object(s.a)({},t,n)))},I=function(e,t){S(Object(o.a)(Object(o.a)({},w),{},{latitude:t,longitude:e})),"longitude"!==u&&"latitude"!==u||(b(null),C(!0)),v.get("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(e,"&localityLanguage=en")).then((function(n){S(Object(o.a)(Object(o.a)({},w),{},{country:n.data.countryName,latitude:t,longitude:e,street:n.data.locality}))})).catch((function(e){c(g(e),{appearance:"error"})}))},D=function(e,t){var n=!0,a="";if(""==t&&(n=!1,a="Value '".concat(e,"' is required.")),"longitude"===e||"latitude"===e){var r=t.split(/\./);(n=2===r.length&&(Number.parseInt(r[0]).toString()===r[0]&&Number.parseInt(r[1]).toString()===r[1]))||(a="Value '".concat(e,"' is not valid. Example of valid value is '19.833549'"))}b(n?null:e),C(n),""!=a&&c(a,{appearance:"warning"})};return Object(a.useEffect)((function(){var e,n,a,c,r,i,s;S({name:null===t||void 0===t?void 0:t.name,description:null===t||void 0===t?void 0:t.description,country:null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.country,city:null===t||void 0===t||null===(n=t.address)||void 0===n?void 0:n.city,street:null===t||void 0===t||null===(a=t.address)||void 0===a?void 0:a.street,longitude:null===t||void 0===t||null===(c=t.address)||void 0===c||null===(r=c.location)||void 0===r?void 0:r.longitude,latitude:null===t||void 0===t||null===(i=t.address)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.latitude})}),[t]),Object(a.useEffect)((function(){var e,n,a,c;document.getElementById("divForMap").innerHTML="";var r=new ee.a({target:"divForMap",layers:[new ne.a({source:new te.a})],view:new ae.a({center:Object(ce.d)([null===t||void 0===t||null===(e=t.address)||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude,null===t||void 0===t||null===(a=t.address)||void 0===a||null===(c=a.location)||void 0===c?void 0:c.latitude]),zoom:10,minZoom:5,maxZoom:12})});return p?r.on("click",(function(e){var t=Object(ce.l)(e.coordinate),n=t[1],a=t[0];I(a,n)})):r.removeEventListener("click"),r}),[t,p,I]),Object(E.jsxs)(J.a.Pane,{eventKey:"first",children:[Object(E.jsx)("h1",{className:"content-header",children:"Basic informations"}),Object(E.jsx)("hr",{}),Object(E.jsxs)(d.a,{children:[Object(E.jsxs)($.a,{className:"row-content",children:[Object(E.jsxs)(Z.a,{lg:6,md:12,sm:12,children:[Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalName",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"Name"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"name",placeholder:"Name",disabled:!p||null!==u&&"name"!==u,value:null===w||void 0===w?void 0:w.name,onChange:T})})]}),Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalDescription",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"Description"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"description",placeholder:"Description",disabled:!p||null!==u&&"description"!==u,value:null===w||void 0===w?void 0:w.description,onChange:T})})]}),Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalCountry",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"Country"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"country",placeholder:"Country",disabled:!p||null!==u&&"country"!==u,value:null===w||void 0===w?void 0:w.country,onChange:T})})]}),Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalCity",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"City"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"city",placeholder:"City",disabled:!p||null!==u&&"city"!==u,value:null===w||void 0===w?void 0:w.city,onChange:T})})]}),Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalStreet",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"Street"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"street",placeholder:"Street",disabled:!p||null!==u&&"street"!==u,value:null===w||void 0===w?void 0:w.street,onChange:T})})]}),Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalLongitude",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"Longitude"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"longitude",placeholder:"Longitude",disabled:!p||null!==u&&"longitude"!==u,value:null===w||void 0===w?void 0:w.longitude,onChange:T})})]}),Object(E.jsxs)(d.a.Group,{as:$.a,controlId:"formHorizontalLatitude",children:[Object(E.jsx)(d.a.Label,{column:!0,sm:2,children:"Latitude"}),Object(E.jsx)(Z.a,{sm:10,children:Object(E.jsx)(d.a.Control,{type:"text",name:"latitude",placeholder:"Latitude",disabled:!p||null!==u&&"latitude"!==u,value:null===w||void 0===w?void 0:w.latitude,onChange:T})})]})]}),Object(E.jsx)(Z.a,{lg:6,md:12,sm:12,children:Object(E.jsx)("div",{id:"divForMap"})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{className:"center",children:[Object(E.jsx)(j.a,{variant:"primary",size:"lg",disabled:!p||!_,onClick:function(){_&&m(!1);var e={id:t.id,name:w.name,description:w.description,address:{id:t.address.id,country:w.country,city:w.city,street:w.street,location:{id:t.address.location.id,longitude:w.longitude,latitude:w.latitude}}};v.put("/api/pharmacy/".concat(t.id),e).then((function(e){n(),c(e.data,{appearance:"success"})})).catch((function(e){c(g(e),{appearance:"error"})}))},children:"Save"})," ",Object(E.jsx)(j.a,{variant:"secondary",size:"lg",disabled:p,onClick:function(){m(!0)},children:"Edit"}),Object(E.jsx)(j.a,{variant:"secondary",size:"lg",disabled:!p,onClick:function(){var e,n,a,c,r,i,s;C(!0),m(!1),S({name:null===t||void 0===t?void 0:t.name,description:null===t||void 0===t?void 0:t.description,country:null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.country,city:null===t||void 0===t||null===(n=t.address)||void 0===n?void 0:n.city,street:null===t||void 0===t||null===(a=t.address)||void 0===a?void 0:a.street,longitude:null===t||void 0===t||null===(c=t.address)||void 0===c||null===(r=c.location)||void 0===r?void 0:r.longitude,latitude:null===t||void 0===t||null===(i=t.address)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.latitude})},children:"Cancel"})]})})]})]})},ie=n(36),se=n(623),oe=n(624),le=n(605),de=n(606),je=n(603),ue=n(16),be=n(14),he=n.n(be),Oe=n(621),pe=n(330),me=n(604);var xe=function(e){var t,n,c=Object(y.useToasts)().addToast,r=Object(a.useState)(-1),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),O=h[0],p=h[1],m=Object(a.useState)(100),x=Object(l.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)([]),_=Object(l.a)(g,2),C=_[0],N=_[1],k=Object(a.useState)([]),w=Object(l.a)(k,2),S=w[0],T=w[1],I=Object(a.useState)(null),D=Object(l.a)(I,2),P=D[0],L=D[1];return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){u(-1),v(100),N([]),T([]),p(""),L(null)}},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add order items"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(pe.a,{children:[Object(E.jsxs)($.a,{children:[Object(E.jsxs)(Z.a,{xs:12,md:8,lg:8,children:[Object(E.jsxs)(je.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Avg. grade"}),Object(E.jsx)("th",{children:"Amount"})]})}),Object(E.jsx)("tbody",{children:0!=(null===e||void 0===e||null===(t=e.medicineList)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.medicineList)||void 0===n?void 0:n.map((function(e,t){return Object(E.jsxs)("tr",{onClick:function(){var t,n;S.includes(e.medicine.id)||(t=e.medicine.id,n=e.medicine.name,u(t),p(n))},className:"".concat(s==e.medicine.id&&"selectedRow","  ").concat(S.includes(e.medicine.id)?"disabledRow":"pointer"," "),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.medicine.code}),Object(E.jsx)("td",{children:e.medicine.name}),Object(E.jsx)("td",{children:e.medicine.avgGrade}),Object(E.jsx)("td",{children:e.amount})]})})))})]}),Object(E.jsxs)(d.a.Group,{controlId:"amountPicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Order amount"}),Object(E.jsx)(d.a.Control,{type:"number",value:f,disabled:-1==s,onChange:function(e){return v(Number.parseInt(e.target.value))},min:"1"})]}),Object(E.jsx)(j.a,{disabled:-1==s,onClick:function(){N([].concat(Object(ie.a)(C),[{medicineId:s,amount:f,name:O}])),T([].concat(Object(ie.a)(S),[s])),u(-1),p("")},variant:"success",children:"Add item"})]}),Object(E.jsx)(Z.a,{children:Object(E.jsx)(me.a,{variant:"flush",children:null===C||void 0===C?void 0:C.map((function(e){return Object(E.jsxs)(me.a.Item,{onClick:function(){return t=e.medicineId,T(S.filter((function(e){return e!=t}))),void N(C.filter((function(e){return e.medicineId!=t})));var t},className:"pointer",variant:"dark",children:[null===e||void 0===e?void 0:e.name," ",null===e||void 0===e?void 0:e.amount]})}))})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a.Group,{controlId:"datePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Deadline date"}),Object(E.jsx)(d.a.Control,{type:"date",onChange:function(e){return function(e){var t=e.split("-"),n=new Date(Number.parseInt(t[0]),Number.parseInt(t[1])-1,Number.parseInt(t[2]));n.setHours(0,0,0);var a=new Date;n.getTime()>a.getTime()?L(n):(L(null),c("End date should be in future!",{appearance:"warning"}))}(e.target.value)}})]})})})]})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:0==(null===C||void 0===C?void 0:C.length)||null===P,variant:"primary",onClick:function(){e.handleAdd({orders:C,startDate:P})},children:"Save Changes"})]})]}))};var fe=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(-1),s=Object(l.a)(i,2),d=s[0],u=s[1];function b(){return(b=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/suppliers/offers/byorderid/".concat(e.orderId)).catch((function(){}));case 2:return n=t.sent,r(n?n.data:[]),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=e.orderId&&function(){b.apply(this,arguments)}()}),[e.orderId]),Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){u(-1)}},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Choose offer"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(je.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Price"}),Object(E.jsx)("th",{children:"Delivery date"}),Object(E.jsx)("th",{children:"Supplier"})]})}),Object(E.jsx)("tbody",{children:0!=(null===c||void 0===c?void 0:c.length)&&(null===c||void 0===c?void 0:c.map((function(e,t){return Object(E.jsxs)("tr",{onClick:function(){var t;t=e.id,u(t)},className:"".concat(d==e.id?"selectedRow":"pointer"),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.price}),Object(E.jsx)("td",{children:he()(e.deliveryDat).format("DD MMM YYYY   hh:mm a")}),Object(E.jsx)("td",{children:e.worker})]})})))})]})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:-1==d,variant:"primary",onClick:function(){e.handleSelect(d)},children:"Save Changes"})]})]}))};var ve=function(e){var t=Object(y.useToasts)().addToast,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){i(null)}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Edit deadline"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(pe.a,{children:[Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)("h4",{children:["Old deadline is"," ",he()(e.order.deliveryDat).format("DD MMM YYYY")]})})}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a.Group,{controlId:"datePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Deadline date"}),Object(E.jsx)(d.a.Control,{type:"date",onChange:function(e){return function(e){var n=e.split("-"),a=new Date(Number.parseInt(n[0]),Number.parseInt(n[1])-1,Number.parseInt(n[2]));a.setHours(0,0,0);var c=new Date;a.getTime()>c.getTime()?i(a):(i(null),t("The date must be in the future.",{appearance:"warning"}))}(e.target.value)}})]})})})]})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:null===r,variant:"primary",onClick:function(){e.handleEdit(r)},children:"Save Changes"})]})]}))};var ye=function(e){var t=e.idOfPharmacy,n=e.priceListId,c=e.refresh,r=e.refreshInq,i=e.setRefreshInq,s=Object(y.useToasts)().addToast,o=Object(a.useState)([]),d=Object(l.a)(o,2),u=d[0],b=d[1],h=Object(a.useState)("All"),m=Object(l.a)(h,2),x=m[0],f=m[1],_=Object(a.useState)([]),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)(null),S=Object(l.a)(w,2),T=S[0],I=S[1],D=Object(a.useState)(0),L=Object(l.a)(D,2),M=L[0],A=L[1],H=Object(a.useState)(0),R=Object(l.a)(H,2),G=R[0],Y=R[1],B=Object(a.useState)("All"),F=Object(l.a)(B,2),q=F[0],V=F[1],K=Object(a.useState)(!1),z=Object(l.a)(K,2),U=z[0],W=z[1],Q=Object(a.useState)(!1),X=Object(l.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)(!1),ae=Object(l.a)(ne,2),ce=ae[0],re=ae[1],be=Object(a.useState)(!1),Oe=Object(l.a)(be,2),pe=Oe[0],me=Oe[1],ye=Object(a.useState)([]),ge=Object(l.a)(ye,2),_e=ge[0],Ce=ge[1];function Ne(){return(Ne=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pricelist/".concat(n)).then((function(e){Ce(e.data.medicineItems)})).catch((function(e){s(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return we.apply(this,arguments)}function we(){return(we=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/orders/bypharmacyid/".concat(t),{params:{filter:x}}).catch((function(){}));case 2:return n=e.sent,b(n?n.data:[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=n&&function(){Ne.apply(this,arguments)}()}),[n,c]),Object(a.useEffect)((function(){void 0!=t&&ke()}),[t,x]);var Se=function(e){I(null),A(0),f(e)};function Te(){return(Te=Object(p.a)(O.a.mark((function e(n){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pharmacyId:t,deadline:n.startDate.getTime(),items:Object(ie.a)(n.orders),adminId:P()},e.next=3,v.post("/api/orders/addorder",a).then((function(e){ke(),s(e.data,{appearance:"success"})})).catch((function(e){s(g(e),{appearance:"error"})}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return(Ie=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/api/orders/".concat(T.id)).then((function(e){ke(),s(e.data,{appearance:"success"})})).catch((function(e){s(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=Math.floor((null===u||void 0===u?void 0:u.length)/4)-1;(null===u||void 0===u?void 0:u.length)/4-1>e&&(e+=1),Y(e)}),[u]),Object(a.useEffect)((function(){var e=4*M,t=u.length<e+4?null===u||void 0===u?void 0:u.length:e+4;k(null===u||void 0===u?void 0:u.slice(e,t))}),[u,M]);var De=function(){!function(){Ie.apply(this,arguments)}()};function Pe(){return(Pe=Object(p.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={selectedOfferId:t,orderId:T.id,adminId:P()},re(!0),e.next=4,v.post("/api/suppliers/offers/accept/",n).then((function(e){re(!1),Se("All"),V("All"),i(!r),s(e.data,{appearance:"success"})})).catch((function(e){s(g(e),{appearance:"error"})}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.put("/api/orders/".concat(T.id,"/").concat(t.getTime(),"/")).then((function(e){ke(),s(e.data,{appearance:"success"})})).catch((function(e){s(g(e),{appearance:"error"})}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsxs)(J.a.Pane,{eventKey:"seventh",children:[Object(E.jsx)("h1",{className:"content-header",children:"Purchase orders"}),Object(E.jsx)("hr",{}),Object(E.jsxs)($.a,{children:[" ",Object(E.jsxs)(ue.a,{children:[Object(E.jsxs)(ue.a.Toggle,{variant:"primary",id:"dropdown-basic",children:["Filter : ",q]}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){Se("All"),V("All")},children:"All"}),Object(E.jsx)(ue.a.Item,{onClick:function(){Se("InProgress"),V("InProgress")},children:"In progress"}),Object(E.jsx)(ue.a.Item,{onClick:function(){Se("OnHold"),V("OnHold")},children:"On hold"}),Object(E.jsx)(ue.a.Item,{onClick:function(){Se("Processed"),V("Processed")},children:"Ended"})]})]}),Object(E.jsx)(j.a,{variant:"success",size:"md",onClick:function(){me(!0)},children:"Add purchase order"}),Object(E.jsx)(xe,{medicineList:_e,idOfPharmacy:t,show:pe,onHide:function(){me(!1)},handleAdd:function(e){me(!1),function(e){Te.apply(this,arguments)}(e)}})]}),Object(E.jsx)($.a,{children:N!=[]&&(null===N||void 0===N?void 0:N.map((function(e,t){return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:4,children:Object(E.jsxs)(se.a,{onClick:function(){I(e)},className:"my__card",style:{width:"22rem",height:"10rem"},children:[Object(E.jsx)(se.a.Body,{children:Object(E.jsxs)(se.a.Title,{children:["Order ",e.id]})}),Object(E.jsx)(se.a.Footer,{children:he()(e.deadline).format("DD MMM YYYY   hh:mm a")})]})},t)})))}),Object(E.jsx)($.a,{className:"my__row__pagination",children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===M,onClick:function(){0!==M&&A(M-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:M}),Object(E.jsx)(oe.a.Next,{disabled:M===G,onClick:function(){M!==G&&A(M+1)}})]})})}),null!=T&&Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{children:Object(E.jsx)(le.a,{variant:"secondary",children:Object(E.jsxs)(le.a.Heading,{children:["Order ",T.id]})})}),Object(E.jsxs)(Z.a,{className:"center",children:[Object(E.jsx)(j.a,{disabled:null==T||T.adminId!=P(),variant:"info",size:"lg",onClick:function(){te(!0)},children:"Edit"}),Object(E.jsx)(ve,{order:T,show:ee,onHide:function(){te(!1)},handleEdit:function(e){te(!1),function(e){Le.apply(this,arguments)}(e)}}),Object(E.jsx)(j.a,{disabled:null==T||"OnHold"!==q||T.adminId!=P(),variant:"primary",size:"lg",onClick:function(){W(!0)},children:"Choose offer"}),Object(E.jsx)(j.a,{disabled:null==T||T.adminId!=P(),variant:"danger",size:"lg",onClick:function(){De()},children:"Delete"})]})]}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{}),Object(E.jsxs)(Z.a,{className:"center",children:[" ",Object(E.jsx)(de.a,{style:{display:ce?"block":"none"},animation:"border"}),Object(E.jsx)("hr",{})]}),Object(E.jsx)(Z.a,{})]}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:T&&Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Amount"})]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsx)(fe,{orderId:T.id,show:U,onHide:function(){W(!1)},handleSelect:function(e){W(!1),function(e){Pe.apply(this,arguments)}(e)}}),T&&T.orderItem.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.medicine.code}),Object(E.jsx)("td",{children:e.medicine.name}),Object(E.jsx)("td",{children:e.amount})]})}))]})]})})})]})};var ge=function(e){var t=e.idOfPharmacy,n=Object(y.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),b=u[0],h=u[1],m=Object(a.useState)(new Date),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)("10:00"),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(0),T=Object(l.a)(S,2),I=T[0],D=T[1],P=Object(a.useState)(15),L=Object(l.a)(P,2),M=L[0],A=L[1],H=Object(a.useState)(2e3),R=Object(l.a)(H,2),G=R[0],Y=R[1],B=Object(a.useState)(!0),F=Object(l.a)(B,2),q=F[0],V=F[1];Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/workplace/dermatologists/bypharmacyid/".concat(t)).catch((function(){}));case 2:return n=e.sent,s(n?n.data:[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){0!=I?function(){var e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/appointment/all/bydermatologistid/".concat(I),{params:{date:f.getTime()}}).then((function(e){h(e.data)})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():h([])}),[f,I,q]),Object(a.useEffect)((function(){if(i!==[]){var e,t=!1;for(e=0;e<i.length;e++)if(i[e].worker.id==I){var a=void 0;for(a=0;a<i[e].workDays.length;a++)if(!i[e].workDays[a].weekday.localeCompare(f.toString().substring(0,3).toUpperCase())){var c=new Date,r=new Date;c.setHours(i[e].workDays[a].startTime),r.setHours(i[e].workDays[a].endTime),n("Workshedule : ".concat(he()(c.getTime()).format("hh:00 a")," - ").concat(he()(r.getTime()).format("hh:00 a")),{appearance:"info"}),t=!0;break}}t||0!=I&&n("It's a non-working day",{appearance:"info"})}}),[I,f]);var K=function(){w("10:00"),A(15),V(!q),Y(2e3)};return Object(E.jsxs)(J.a.Pane,{eventKey:"fourth",children:[Object(E.jsx)("h1",{className:"content-header",children:"Add appointment"}),Object(E.jsx)("hr",{}),Object(E.jsxs)($.a,{children:[Object(E.jsxs)(Z.a,{lg:4,md:4,sm:12,children:[Object(E.jsxs)(d.a.Group,{controlId:"dermatologistSelect",children:[Object(E.jsx)(d.a.Label,{children:"Dermatologist"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return D(e.target.value)},defaultValue:"0",children:[Object(E.jsx)("option",{value:"0",children:"Not Selected"}),i!=[]&&(null===i||void 0===i?void 0:i.map((function(e){return Object(E.jsxs)("option",{value:e.worker.id,children:[e.worker.lastName," ",e.worker.firstName]})})))]})]}),Object(E.jsxs)(d.a.Group,{controlId:"datePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Date"}),Object(E.jsx)(d.a.Control,{type:"date",disabled:0==I,onChange:function(e){return function(e){var t=e.split("-"),n=new Date(Number.parseInt(t[0]),Number.parseInt(t[1])-1,Number.parseInt(t[2]));_(n)}(e.target.value)}})]}),Object(E.jsxs)(d.a.Group,{controlId:"timePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Start time"}),Object(E.jsx)(d.a.Control,{type:"time",value:k,disabled:0==I,onChange:function(e){return w(e.target.value)}})]}),Object(E.jsxs)(d.a.Group,{controlId:"durationPicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Duration (in minutes)"}),Object(E.jsx)(d.a.Control,{type:"number",value:M,disabled:0==I,onChange:function(e){return A(Number.parseInt(e.target.value))},min:"0"})]}),Object(E.jsxs)(d.a.Group,{controlId:"pricePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Price"}),Object(E.jsx)(d.a.Control,{type:"number",value:G,disabled:0==I,onChange:function(e){return Y(Number.parseInt(e.target.value))},min:"0"})]}),Object(E.jsx)(j.a,{disabled:0==I,variant:"primary",type:"submit",onClick:function(){var e=f,a=k.split(":");e.setHours(Number.parseInt(a[0]),Number.parseInt(a[1]),0);var c=e.getTime(),r={duration:M,price:G,startTime:c};console.log(r),v.post("/api/appointment/".concat(t,"/").concat(I),r).then((function(e){n(e.data,{appearance:"success"}),K()})).catch((function(e){n(g(e),{appearance:"error"})}))},children:"Submit"})]}),Object(E.jsx)(Z.a,{children:0!=b.length&&Object(E.jsxs)("div",{children:[Object(E.jsxs)(le.a,{variant:"primary",children:[Object(E.jsx)(le.a.Heading,{children:"Appointments on that date"}),Object(E.jsx)("p",{children:"These are already created meetings that day. Try to find free time for your meeting."})]}),Object(E.jsxs)(je.a,{bordered:!0,striped:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Start time"}),Object(E.jsx)("th",{children:"End time"}),Object(E.jsx)("th",{children:"State"})]})}),Object(E.jsx)("tbody",{children:b!=[]&&b.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:he()(e.startTime).format("hh:mm a")}),Object(E.jsx)("td",{children:he()(e.endTime).format("hh:mm a")}),Object(E.jsx)("td",{children:e.appointmentState})]})}))})]})]})})]})]})};var _e=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(-1),s=Object(l.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)(2e3),m=Object(l.a)(h,2),x=m[0],f=m[1];function y(){return(y=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/medicine/notexistingmedicinebypharmacyid/".concat(e.idOfPharmacy)).catch((function(){}));case 2:return n=t.sent,r(n?n.data:[]),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=e.idOfPharmacy&&function(){y.apply(this,arguments)}()}),[e.idOfPharmacy,e.medicineItemsLength]),Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){b(-1),f(2e3)}},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Choose medicine"})}),Object(E.jsxs)(Oe.a.Body,{children:[Object(E.jsxs)(je.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Content"}),Object(E.jsx)("th",{children:"Avg. grade"})]})}),Object(E.jsx)("tbody",{children:0!=(null===c||void 0===c?void 0:c.length)&&(null===c||void 0===c?void 0:c.map((function(e,t){return Object(E.jsxs)("tr",{onClick:function(){var t;t=e.id,b(t)},className:"".concat(u==e.id?"selectedRow":"pointer"),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.content}),Object(E.jsx)("td",{children:e.avgGrade})]})})))})]}),Object(E.jsxs)(d.a.Group,{controlId:"pricePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Starting price"}),Object(E.jsx)(d.a.Control,{type:"number",value:x,disabled:-1==u,onChange:function(e){return f(Number.parseInt(e.target.value))},min:"0"})]})]}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:-1==u,variant:"primary",onClick:function(){e.handleAdd(u,x)},children:"Save Changes"})]})]}))};var Ce=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){r(0)},onEntered:function(){r(e.oldPrice)}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Change price"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a.Group,{controlId:"pricePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Price"}),Object(E.jsx)(d.a.Control,{type:"number",value:c,onChange:function(e){return r(Number.parseInt(e.target.value))},min:"0"})]})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{variant:"primary",onClick:function(){e.handleChange(c)},children:"Save Changes"})]})]}))};var Ne=function(e){var t=e.idOfPharmacy,n=e.priceListId,c=e.refreshPriceList,r=e.setRefreshPriceList,i=Object(y.useToasts)().addToast,s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],u=o[1],b=Object(a.useState)(-1),h=Object(l.a)(b,2),m=h[0],x=h[1],f=Object(a.useState)(-1),_=Object(l.a)(f,2),C=_[0],N=_[1],k=Object(a.useState)(!1),w=Object(l.a)(k,2),S=w[0],T=w[1],I=Object(a.useState)(!1),D=Object(l.a)(I,2),P=D[0],L=D[1],M=Object(a.useState)(!1),A=Object(l.a)(M,2),H=A[0],R=A[1];function G(){return Y.apply(this,arguments)}function Y(){return(Y=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pricelist/".concat(n)).then((function(e){u(e.data.medicineItems)})).catch((function(e){i(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(p.a)(O.a.mark((function e(t,a){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/api/pricelist/".concat(n,"/addmedicine/").concat(t,"/").concat(a)).then((function(e){G(),r(!c),i(e.data,{appearance:"success"})})).catch((function(e){i(g(e),{appearance:"error"})}));case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/api/pricelist/".concat(n,"/removemedicine/").concat(m)).then((function(e){G(),r(!c),i(e.data,{appearance:"success"})})).catch((function(e){i(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(p.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/api/pricelist/".concat(n,"/changeprice/").concat(m,"/").concat(t)).then((function(e){G(),i(e.data,{appearance:"success"})})).catch((function(e){i(g(e),{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=n&&G()}),[n]);var V=function(){!function(){F.apply(this,arguments)}(),x(-1)};return Object(E.jsxs)(J.a.Pane,{eventKey:"third",children:[Object(E.jsx)("h1",{className:"content-header",children:"Medicine"}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{children:[Object(E.jsxs)(je.a,{bordered:!0,striped:!0,hover:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Content"}),Object(E.jsx)("th",{children:"Avg. grade"}),Object(E.jsx)("th",{children:"Price"}),Object(E.jsx)("th",{children:"Amount"})]})}),Object(E.jsx)("tbody",{children:0!=(null===d||void 0===d?void 0:d.length)&&(null===d||void 0===d?void 0:d.map((function(e,t){return Object(E.jsxs)("tr",{onClick:function(){var t,n;t=e.id,n=e.price2,x(t),N(n)},className:"".concat(m==e.id?"selectedRow":"pointer"," "),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.medicine.code}),Object(E.jsx)("td",{children:e.medicine.name}),Object(E.jsx)("td",{children:e.medicine.content}),Object(E.jsx)("td",{children:e.medicine.avgGrade}),Object(E.jsxs)("td",{children:[e.price2,"$"]}),Object(E.jsx)("td",{children:e.amount})]})})))})]}),Object(E.jsxs)("div",{className:"center",children:[Object(E.jsx)(j.a,{disabled:-1==m,variant:"secondary",onClick:function(){L(!0)},children:"Change price"}),Object(E.jsx)(j.a,{variant:"success",onClick:function(){T(!0),x(-1)},children:"Add"}),Object(E.jsx)(j.a,{disabled:-1==m,variant:"danger",onClick:function(){R(!0)},children:"Remove"})]}),Object(E.jsx)(_e,{medicineItemsLength:null===d||void 0===d?void 0:d.length,idOfPharmacy:t,show:S,onHide:function(){T(!1)},handleAdd:function(e,t){T(!1),function(e,t){B.apply(this,arguments)}(e,t)}}),Object(E.jsx)(Ce,{oldPrice:C,show:P,onHide:function(){L(!1)},handleChange:function(e){L(!1),C!=e&&function(e){q.apply(this,arguments)}(e),x(-1)}}),Object(E.jsxs)(Oe.a,{oldPrice:t,show:H,onHide:function(){R(!1)},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{children:"Attention"})}),Object(E.jsx)(Oe.a.Body,{children:"Are you sure you want to delete the medicine?"}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:function(){R(!1)},children:"Close"}),Object(E.jsx)(j.a,{variant:"primary",onClick:function(){V(),R(!1)},children:"Remove"})]})]})]})})]})};var ke=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){r("")}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Reason for rejecting request"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(E.jsx)(d.a.Label,{children:"Write a reason for rejecting request"}),Object(E.jsx)(d.a.Control,{onChange:function(e){return r(e.target.value)},as:"textarea",rows:3})]})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:""===c,variant:"primary",onClick:function(){e.rejectRequest(c)},children:"Save Changes"})]})]}))};var we=function(e){var t=e.idOfPharmacy,n=Object(y.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(-1),d=Object(l.a)(o,2),u=d[0],b=d[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),x=m[0],f=m[1];function _(){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/vacation/getunresolvedrequestsbypharmacyid/".concat(t)).catch((function(){}));case 2:return n=e.sent,s(n?n.data:[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(p.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/api/vacation/rejectrequest/".concat(u),t).then((function(e){_(),n(e.data,{appearance:"success"})})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/api/vacation/acceptrequest/".concat(u)).then((function(e){_(),n(e.data,{appearance:"success"})})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=t&&_()}),[t]),Object(E.jsxs)(J.a.Pane,{eventKey:"fifth",children:[Object(E.jsx)("h1",{className:"content-header",children:"Requests for vacations and absences"}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{children:[Object(E.jsxs)(je.a,{bordered:!0,striped:!0,hover:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Type"}),Object(E.jsx)("th",{children:"State"}),Object(E.jsx)("th",{children:"Start time"}),Object(E.jsx)("th",{children:"End time"}),Object(E.jsx)("th",{children:"Worker details"})]})}),Object(E.jsxs)("tbody",{children:[" ",0!=(null===i||void 0===i?void 0:i.length)&&(null===i||void 0===i?void 0:i.map((function(e,t){return Object(E.jsxs)("tr",{onClick:function(){var t;t=e.id,b(t)},className:"".concat(u==e.id?"selectedRow":"pointer"," "),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.absenceType}),Object(E.jsx)("td",{children:e.requestState}),Object(E.jsx)("td",{children:he()(e.start).format("DD-MM-YYYY")}),Object(E.jsx)("td",{children:he()(e.end).format("DD-MM-YYYY")}),Object(E.jsx)("td",{children:e.workerDetails})]})})))]})]}),Object(E.jsx)(ke,{show:x,onHide:function(){return f(!1)},rejectRequest:function(e){f(!1),function(e){N.apply(this,arguments)}(e),b(-1)}}),Object(E.jsxs)("div",{className:"center",children:[Object(E.jsx)(j.a,{disabled:-1==u,onClick:function(){!function(){k.apply(this,arguments)}(),b(-1)},variant:"primary",children:"Accept request"}),Object(E.jsx)(j.a,{disabled:-1==u,onClick:function(){return f(!0)},variant:"secondary",children:"Reject request"})]})]})})]})},Se=n(607),Te=n(608);n(88);var Ie=function(e){var t=Object(y.useToasts)().addToast,n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(-1),u=Object(l.a)(s,2),b=u[0],h=u[1],m=Object(a.useState)(10),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)(17),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(!1),T=Object(l.a)(S,2),I=T[0],D=T[1],P=Object(a.useState)(!1),L=Object(l.a)(P,2),M=L[0],A=L[1],H=Object(a.useState)(!1),R=Object(l.a)(H,2),G=R[0],Y=R[1],B=Object(a.useState)(!1),F=Object(l.a)(B,2),q=F[0],V=F[1],K=Object(a.useState)(!1),z=Object(l.a)(K,2),U=z[0],W=z[1],Q=Object(a.useState)(!1),J=Object(l.a)(Q,2),X=J[0],ee=J[1],te=Object(a.useState)(!1),ne=Object(l.a)(te,2),ae=ne[0],ce=ne[1];function re(){return(re=Object(p.a)(O.a.mark((function n(){var a,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(-1),a={startHour:f,endHour:k,enable1:I,enable2:M,enable3:G,enable4:q,enable5:U,enable6:X,enable7:ae},n.next=4,v.post("/api/workers/notexistingworkplacebypharmacyid/".concat(e.idOfPharmacy),a).then((function(e){i(e.data)})).catch((function(e){t(g(e),{appearance:"error"})}));case 4:return c=n.sent,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){i([]),h(-1),_(10),w(17),D(!1),A(!1),Y(!1),V(!1),W(!1),ee(!1),ce(!1)}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Adding worker"})}),Object(E.jsxs)(Oe.a.Body,{children:[Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{children:[Object(E.jsxs)(d.a.Group,{controlId:"startPicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Shift start"}),Object(E.jsx)(d.a.Control,{type:"number",value:f,onChange:function(e){return _(e.target.value)}})]}),Object(E.jsxs)(d.a.Group,{controlId:"endPicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Shift end"}),Object(E.jsx)(d.a.Control,{type:"number",value:k,onChange:function(e){return w(e.target.value)}})]})]})}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{children:[Object(E.jsx)("p",{children:"Mark days"}),Object(E.jsxs)(je.a,{bordered:!0,hover:!0,striped:!0,size:"sm",variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Weekday"})]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{className:"".concat(I&&"selectedRow"," pointer"),onClick:function(){return D(!I)},children:[Object(E.jsx)("td",{children:"1"}),Object(E.jsx)("td",{children:"Monday"})]}),Object(E.jsxs)("tr",{className:"".concat(M&&"selectedRow"," pointer"),onClick:function(){return A(!M)},children:[Object(E.jsx)("td",{children:"2"}),Object(E.jsx)("td",{children:"Tuesday"})]}),Object(E.jsxs)("tr",{className:"".concat(G&&"selectedRow"," pointer"),onClick:function(){return Y(!G)},children:[Object(E.jsx)("td",{children:"3"}),Object(E.jsx)("td",{children:"Wednesday"})]}),Object(E.jsxs)("tr",{className:"".concat(q&&"selectedRow"," pointer"),onClick:function(){return V(!q)},children:[Object(E.jsx)("td",{children:"4"}),Object(E.jsx)("td",{children:"Thursday"})]}),Object(E.jsxs)("tr",{className:"".concat(U&&"selectedRow"," pointer"),onClick:function(){return W(!U)},children:[Object(E.jsx)("td",{children:"5"}),Object(E.jsx)("td",{children:"Friday"})]}),Object(E.jsxs)("tr",{className:"".concat(X&&"selectedRow"," pointer"),onClick:function(){return ee(!X)},children:[Object(E.jsx)("td",{children:"6"}),Object(E.jsx)("td",{children:"Saturday"})]}),Object(E.jsxs)("tr",{className:"".concat(ae&&"selectedRow"," pointer"),onClick:function(){return ce(!ae)},children:[Object(E.jsx)("td",{children:"7"}),Object(E.jsx)("td",{children:"Sunday"})]})]})]})]})}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{className:"center",children:Object(E.jsx)(j.a,{disabled:!I&&!M&&!G&&!q&&!U&&!X&&!ae,variant:"primary",onClick:function(){return re.apply(this,arguments)},children:"Check"})})}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)(je.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Type"}),Object(E.jsx)("th",{children:"Firstname"}),Object(E.jsx)("th",{children:"LastName"}),Object(E.jsx)("th",{children:"Avg. grade"})]})}),Object(E.jsx)("tbody",{children:0!=(null===r||void 0===r?void 0:r.length)&&(null===r||void 0===r?void 0:r.map((function(e,t){return Object(E.jsxs)("tr",{onClick:function(){var t;t=e.id,h(t)},className:"".concat(b==e.id?"selectedRow":"pointer"),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:null===e||void 0===e?void 0:e.roleName}),Object(E.jsx)("td",{children:e.firstName}),Object(E.jsx)("td",{children:e.lastName}),Object(E.jsx)("td",{children:e.avgGrade})]})})))})]})})})]}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:-1==b,variant:"primary",onClick:function(){e.handleAdd(b,{startHour:f,endHour:k,enable1:I,enable2:M,enable3:G,enable4:q,enable5:U,enable6:X,enable7:ae})},children:"Save Changes"})]})]}))};var De=function(e){var t,n,a;return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Worker pharmacies"})}),Object(E.jsxs)(Oe.a.Body,{children:[0==(null===e||void 0===e||null===(t=e.map[null===e||void 0===e?void 0:e.workerId])||void 0===t?void 0:t.length)&&Object(E.jsx)("h4",{children:"He does not work in any pharmacy."}),0!=(null===e||void 0===e||null===(n=e.map[null===e||void 0===e?void 0:e.workerId])||void 0===n?void 0:n.length)&&(null===e||void 0===e||null===(a=e.map[null===e||void 0===e?void 0:e.workerId])||void 0===a?void 0:a.map((function(e){return Object(E.jsx)(me.a.Item,{children:e})})))]}),Object(E.jsx)(Oe.a.Footer,{children:Object(E.jsx)(j.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]}))};var Pe=function(e){var t=e.idOfPharmacy,n=Object(y.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)([]),u=Object(l.a)(o,2),b=u[0],h=u[1],m=Object(a.useState)([]),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)([]),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(-1),T=Object(l.a)(S,2),I=T[0],D=T[1],P=Object(a.useState)(-1),L=Object(l.a)(P,2),M=L[0],A=L[1],H=Object(a.useState)(!1),R=Object(l.a)(H,2),G=R[0],Y=R[1],B=Object(a.useState)(!1),F=Object(l.a)(B,2),q=F[0],V=F[1],K=Object(a.useState)(""),z=Object(l.a)(K,2),U=z[0],W=z[1],Q=Object(a.useState)(""),X=Object(l.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)(""),ae=Object(l.a)(ne,2),ce=ae[0],re=ae[1];function ie(){return(ie=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/workplace/pharmacies/all/").catch((function(){}));case 2:return t=e.sent,h(t?t.data:[]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return oe.apply(this,arguments)}function oe(){return(oe=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/workplace/bypharmacyid/".concat(t)).then((function(e){_(e.data)})).catch((function(){}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(p.a)(O.a.mark((function e(a,c){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/api/workplace/addworker/bypharmacyid/".concat(t,"/").concat(a),c).then((function(e){se(),n(e.data,{appearance:"success"})})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(p.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/api/workplace/removeworker/bypharmacyid/".concat(t,"/").concat(I)).then((function(e){se(),n(e.data,{appearance:"success"})})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pharmacy/").catch((function(){}));case 2:return t=e.sent,s(t?t.data:[]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){void 0!=t&&(se(),function(){ie.apply(this,arguments)}())}),[t]),Object(a.useEffect)((function(){ue()}),[f]),Object(a.useEffect)((function(){if(null==k)w(f);else{if(""===ce&&""==ee)return;if(""!=ce){var e=k.filter((function(e){return!!b[e.worker.id].includes(ce)}));k.length!=e.length&&w(e)}if(""!=ee)if("LOW"===ee){var t=k.filter((function(e){return e.worker.avgGrade<3}));k.length!=t.length&&w(t)}else if("MEDIUM"===ee){var n=k.filter((function(e){return 3==e.worker.avgGrade}));k.length!=n.length&&w(n)}else if("HIGH"===ee){var a=k.filter((function(e){return e.worker.avgGrade>3}));k.length!=a.length&&w(a)}}}),[k]);var ue=function(){w(null)};return Object(E.jsxs)(J.a.Pane,{eventKey:"second",children:[Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{children:Object(E.jsx)(d.a,{onSubmit:function(e){e.preventDefault(),0===U.length?se():v.get("/api/workplace/search/".concat(t),{params:{searchValue:U}}).then((function(e){_(e.data)})).catch((function(){}))},children:Object(E.jsxs)(d.a.Group,{className:"my__flex",style:{marginTop:"20px"},children:[Object(E.jsx)(d.a.Control,{type:"text",name:"searchValue",value:U,onChange:function(e){return W(e.target.value)},placeholder:"Enter name or lastname..."}),Object(E.jsx)(j.a,{type:"submit",className:"my__search__buttons",children:Object(E.jsx)(Se.a,{})}),Object(E.jsxs)(j.a,{className:"my__search__buttons my__flex",onClick:function(){W(""),se()},children:["Reset ",Object(E.jsx)(Te.a,{})]})]})})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a,{onSubmit:function(e){e.preventDefault(),ue()},className:"my__div__filter",children:[Object(E.jsxs)(d.a.Group,{controlId:"gradeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Grade"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return te(e.target.value)},defaultValue:"",children:[Object(E.jsx)("option",{value:"",children:"Not Selected"}),Object(E.jsx)("option",{value:"LOW",children:"Low"}),Object(E.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(E.jsx)("option",{value:"HIGH",children:"High"})]})]}),Object(E.jsxs)(d.a.Group,{controlId:"pharmacySelect",children:[Object(E.jsx)(d.a.Label,{children:"Pharmacy name"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return re(e.target.value)},defaultValue:"",children:[Object(E.jsx)("option",{value:"",children:"Not Selected"}),0!=(null===i||void 0===i?void 0:i.length)&&(null===i||void 0===i?void 0:i.map((function(e,t){return Object(E.jsx)("option",{value:e.name,children:e.name})})))]})]}),Object(E.jsx)(j.a,{type:"submit",className:"my__search__buttons",children:Object(E.jsx)(Se.a,{})})]})})]}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{children:[Object(E.jsxs)(je.a,{bordered:!0,striped:!0,hover:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Type"}),Object(E.jsx)("th",{children:"Firstname"}),Object(E.jsx)("th",{children:"Lastname"}),Object(E.jsx)("th",{children:"Email"}),Object(E.jsx)("th",{children:"Phone"}),Object(E.jsx)("th",{children:"Avg. grade"})]})}),Object(E.jsxs)("tbody",{children:[" ",0!=(null===k||void 0===k?void 0:k.length)&&(null===k||void 0===k?void 0:k.map((function(e,t){var n,a,c,r,i,s;return Object(E.jsxs)("tr",{onClick:function(){var t,n;t=e.id,n=e.worker.id,D(t),A(n)},className:"".concat(I==e.id?"selectedRow":"pointer"," "),children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:null===e||void 0===e||null===(n=e.worker)||void 0===n?void 0:n.roleName}),Object(E.jsx)("td",{children:null===e||void 0===e||null===(a=e.worker)||void 0===a?void 0:a.firstName}),Object(E.jsx)("td",{children:null===e||void 0===e||null===(c=e.worker)||void 0===c?void 0:c.lastName}),Object(E.jsx)("td",{children:null===e||void 0===e||null===(r=e.worker)||void 0===r?void 0:r.email}),Object(E.jsx)("td",{children:null===e||void 0===e||null===(i=e.worker)||void 0===i?void 0:i.telephone}),Object(E.jsx)("td",{children:null===e||void 0===e||null===(s=e.worker)||void 0===s?void 0:s.avgGrade})]})})))]})]}),Object(E.jsxs)("div",{className:"center",children:[-1!=t&&Object(E.jsxs)("div",{children:[Object(E.jsx)(j.a,{onClick:function(){Y(!0),D(-1)},variant:"success",children:"Add worker"}),Object(E.jsx)(j.a,{disabled:-1==I,onClick:function(){!function(){de.apply(this,arguments)}(),D(-1),A(-1)},variant:"danger",children:"Remove worker"}),Object(E.jsx)(Ie,{workersLength:null===f||void 0===f?void 0:f.length,idOfPharmacy:t,show:G,onHide:function(){Y(!1)},handleAdd:function(e,t){Y(!1),function(e,t){le.apply(this,arguments)}(e,t)}})]}),Object(E.jsx)(j.a,{disabled:-1==I,onClick:function(){V(!0)},variant:"info",children:"Show pharmacies"}),Object(E.jsx)(De,{map:b,workerId:M,show:q,handleClose:function(){V(!1)},onHide:function(){V(!1)}})]})]})})]})};var Le=function(e){var t=e.idOfPharmacy,n=e.refreshInq,c=Object(a.useState)([]),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)([]),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)("Active"),h=Object(l.a)(b,2),m=h[0],x=h[1];function f(){return(f=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/inquiry/bypharmacyid/".concat(t)).catch((function(){}));case 2:return n=e.sent,s(n?n.data:[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=t&&y("Active")}),[i]),Object(a.useEffect)((function(){void 0!=t&&function(){f.apply(this,arguments)}()}),[t,n]);var y=function(e){var t=i.filter((function(t){return"Active"==e?t.active:!t.active}));u(t)};return Object(E.jsxs)(J.a.Pane,{eventKey:"eight",children:[Object(E.jsx)("h1",{className:"content-header",children:"Inquiries"}),Object(E.jsx)("hr",{}),Object(E.jsxs)($.a,{children:[" ",Object(E.jsxs)(ue.a,{children:[Object(E.jsxs)(ue.a.Toggle,{variant:"primary",id:"dropdown-basic",children:["Filter : ",m]}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){y("Active"),x("Active")},children:"Active"}),Object(E.jsx)(ue.a.Item,{onClick:function(){y("End"),x("Ended")},children:"Ended"})]})]})]}),Object(E.jsx)("hr",{}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Medicine"}),Object(E.jsx)("th",{children:"Date"}),Object(E.jsx)("th",{children:"Worker"}),Object(E.jsx)("th",{children:"Active"})]})}),Object(E.jsx)("tbody",{children:j&&j.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.medicineItems.medicine.name}),Object(E.jsx)("td",{children:he()(e.date).format("DD MMM YYYY")}),Object(E.jsxs)("td",{children:[e.worker.firstName," ",e.worker.lastName]}),Object(E.jsx)("td",{children:e.active?"True":"False"})]})}))})]})})})]})},Me=n(609),Ee=n(138);var Ae=function(e){var t=e.pharmacyDetails,n=Object(y.useToasts)().addToast,c=Object(a.useState)(null),r=Object(l.a)(c,2),i=r[0],s=r[1],j=Object(a.useState)("Bar"),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)("Monthly"),x=Object(l.a)(m,2),f=x[0],g=x[1],_=Object(a.useState)("HiddenProfit"),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)(null),S=Object(l.a)(w,2),T=S[0],I=S[1],D=Object(a.useState)(null),P=Object(l.a)(D,2),L=P[0],M=P[1],A=Object(a.useState)(null),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)(0),B=Object(l.a)(Y,2),F=B[0],q=B[1],V={height:400,width:600,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{title:{display:!0,text:"Appointments and medicine consumption"}}}};function K(){return(K=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/appointment/report/".concat(null===t||void 0===t?void 0:t.id,"/").concat(f)).catch((function(){}));case 2:return n=e.sent,I(n?n.data:null),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine-reservation/report/".concat(null===t||void 0===t?void 0:t.id,"/").concat(f)).catch((function(){}));case 2:return n=e.sent,M(n?n.data:null),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pharmacy/report/".concat(null===t||void 0===t?void 0:t.id,"/").concat(f,"/").concat(F)).catch((function(){}));case 2:return n=e.sent,G(n?n.data:null),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=t&&(function(){K.apply(this,arguments)}(),function(){z.apply(this,arguments)}(),"DisplayProfit"==N&&0!=F&&function(){U.apply(this,arguments)}())}),[t,f,N,F]),Object(a.useEffect)((function(){null!=T&&null!=L&&("DisplayProfit"===N&&null!=R&&W(),"HiddenProfit"===N&&W())}),[T,L,R,b]);var W=function(){var e,t=[],n=Object.keys(T),a=Q(n.length),c={label:"Number of appointments",data:Object.values(T),backgroundColor:a,borderColor:"black",borderWidth:2};t.push(c),e="Bar"===b||"Line"===b||"Radar"===b?Q(Object.keys(L).length):a;var r={label:"Medicine consumption",data:Object.values(L),backgroundColor:e,borderColor:"black",borderWidth:2};if(t.push(r),"DisplayProfit"===N){var i;i="Bar"===b||"Line"===b||"Radar"===b?Q(Object.keys(R).length):a;var o={label:"Profit",data:Object.values(R),backgroundColor:i,borderColor:"black",borderWidth:2};t.push(o)}s({labels:n,datasets:t})},Q=function(e){if("Bar"===b||"Line"===b||"Radar"===b)return"#"+Math.floor(16777215*Math.random()).toString(16);var t,n,a=[];for(t=0;t<e;t++)n=Math.floor(16777215*Math.random()).toString(16),a.push("#"+n);return a};return Object(E.jsxs)(J.a.Pane,{eventKey:"sixth",children:[Object(E.jsx)("h1",{className:"content-header",children:"Reports"}),Object(E.jsx)("hr",{}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{className:"center",children:Object(E.jsxs)("h4",{children:["Average grade: ",null===t||void 0===t?void 0:t.avgGrade]})}),Object(E.jsx)(Z.a,{className:"center",children:Object(E.jsx)("h4",{children:"Average grades of workers can be seen on tab 'Pharmacists and dermatologists'"})})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{children:Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"info",id:"dropdown-basic",children:b}),Object(E.jsx)(ue.a.Menu,{children:["Line","Bar","Radar","Doughnut","PolarArea","Pie"].map((function(e){return Object(E.jsx)(ue.a.Item,{active:b==e,onClick:function(){h(e)},children:e})}))})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"info",id:"dropdown-basic",children:f}),Object(E.jsx)(ue.a.Menu,{children:["Monthly","Quarterly","Yearly"].map((function(e){return Object(E.jsx)(ue.a.Item,{active:f==e,onClick:function(){g(e),q(0)},children:e})}))})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"info",id:"dropdown-basic",children:N}),Object(E.jsx)(ue.a.Menu,{children:["HiddenProfit","DisplayProfit"].map((function(e){return Object(E.jsx)(ue.a.Item,{active:N==e,onClick:function(){0==F&&"HiddenProfit"==N?n("Duration cannot be 0! Change it if u want to see profit!",{appearance:"warning"}):k(e)},children:e})}))})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(Me.a,{className:"mb-3",children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{id:"basic-addon3",children:"Duration in past"})}),Object(E.jsx)(d.a.Control,{id:"basic-url",type:"number",value:F,onChange:function(e){return q(Number.parseInt(e.target.value))},max:"Monthly"===f?12:"Yearly"===f?10:4,min:"0"})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{className:"center",children:["Line"==b&&Object(E.jsx)(Ee.c,Object(o.a)({data:i},V)),"Bar"==b&&Object(E.jsx)(Ee.a,Object(o.a)({data:i},V)),"Radar"==b&&Object(E.jsx)(Ee.f,Object(o.a)({data:i},V)),"Doughnut"==b&&Object(E.jsx)(Ee.b,Object(o.a)({data:i},V)),"PolarArea"==b&&Object(E.jsx)(Ee.e,Object(o.a)({data:i},V)),"Pie"==b&&Object(E.jsx)(Ee.d,Object(o.a)({data:i},V))]})}),Object(E.jsx)("hr",{})]})};var He=function(e){var t=Object(y.useToasts)().addToast,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(0),u=Object(l.a)(s,2),b=u[0],h=u[1],m=Object(a.useState)(""),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)("0"),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)([]),T=Object(l.a)(S,2),I=T[0],D=T[1],P=Object(a.useState)(0),L=Object(l.a)(P,2),M=L[0],A=L[1];function H(){return(H=Object(p.a)(O.a.mark((function n(){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.get("/api/pricelist/".concat(e.priceListId)).then((function(e){D(e.data.medicineItems)})).catch((function(e){t(g(e),{appearance:"error"})}));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=e.priceListId&&function(){H.apply(this,arguments)}()}),[e.priceListId]),Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({onExited:function(){i(null),h(0),A(0),_(""),w("0")}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add advertisment"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsx)(pe.a,{children:Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{children:[Object(E.jsxs)(d.a.Group,{controlId:"typeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Types"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return w(e.target.value)},defaultValue:"0",children:[Object(E.jsx)("option",{value:"0",children:"Not Selected"}),Object(E.jsx)("option",{value:"1",children:"Promotion"}),Object(E.jsx)("option",{value:"2",children:"Sale"})]})]}),Object(E.jsxs)(d.a.Group,{controlId:"medicineSelect",children:[Object(E.jsx)(d.a.Label,{children:"Medicine"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return A(e.target.value)},defaultValue:"0",children:[Object(E.jsx)("option",{value:"0",children:"Not Selected"}),0!=(null===I||void 0===I?void 0:I.length)&&(null===I||void 0===I?void 0:I.map((function(e,t){var n;return Object(E.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e||null===(n=e.medicine)||void 0===n?void 0:n.name})})))]})]}),Object(E.jsxs)(d.a.Group,{controlId:"datePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"End date"}),Object(E.jsx)(d.a.Control,{type:"date",onChange:function(e){return function(e){var n=e.split("-"),a=new Date(Number.parseInt(n[0]),Number.parseInt(n[1])-1,Number.parseInt(n[2]));a.setHours(0,0,0);var c=new Date;a.getTime()>c.getTime()?i(a):(i(null),t("End date should be in future!",{appearance:"warning"}))}(e.target.value)}})]}),Object(E.jsxs)(d.a.Group,{controlId:"discountPicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Discount"}),Object(E.jsx)(d.a.Control,{disabled:"2"!=k,type:"number",onChange:function(e){return h(e.target.value)},max:"100",min:"0"})]}),Object(E.jsxs)(d.a.Group,{controlId:"contentPicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Content"}),Object(E.jsx)(d.a.Control,{disabled:"1"!=k,type:"text",onChange:function(e){return _(e.target.value)}})]})]})})})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(E.jsx)(j.a,{disabled:"0"==k||"0"==M||null==r,variant:"primary",onClick:function(){e.handleAdd({type:k,selectedRowId:M,endDate:r.getTime(),discount:b,text:f})},children:"Save Changes"})]})]}))};var Re=function(e){var t=e.pharmacyDetails,n=Object(y.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],b=d[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),x=m[0],f=m[1];function _(){return(_=Object(p.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/sales/".concat(t.id)).then((function(e){s(e.data)})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(p.a)(O.a.mark((function e(a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/api/sales/".concat(t.id),a).then((function(e){n(e.data,{appearance:"success"}),f(!x)})).catch((function(e){n(g(e),{appearance:"error"})}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=(null===t||void 0===t?void 0:t.id)&&function(){_.apply(this,arguments)}()}),[t,x]),Object(E.jsxs)(J.a.Pane,{eventKey:"ninth",children:[Object(E.jsx)("h1",{className:"content-header",children:"Advertisment"}),Object(E.jsx)("hr",{}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)(je.a,{bordered:!0,striped:!0,variant:"dark",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Medicine"}),Object(E.jsx)("th",{children:"Type"}),Object(E.jsx)("th",{children:"Discount(percent)"}),Object(E.jsx)("th",{children:"Start date"}),Object(E.jsx)("th",{children:"End date"}),Object(E.jsx)("th",{children:"Content"})]})}),Object(E.jsx)("tbody",{children:0!=(null===i||void 0===i?void 0:i.length)&&(null===i||void 0===i?void 0:i.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t+1}),Object(E.jsx)("td",{children:e.medicineItem.medicine.name}),Object(E.jsx)("td",{children:e.type}),Object(E.jsx)("td",{children:e.discountPercent}),Object(E.jsx)("td",{children:he()(e.startDate).format("DD MMM YYYY")}),Object(E.jsx)("td",{children:he()(e.endDate).format("DD MMM YYYY")}),Object(E.jsx)("td",{children:e.advertisementText})]})})))})]})})}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(He,{show:u,onHide:function(){b(!1)},handleAdd:function(e){b(!1),function(e){C.apply(this,arguments)}(e)},priceListId:null===t||void 0===t?void 0:t.priceListId}),Object(E.jsx)(Z.a,{className:"center",children:Object(E.jsx)(j.a,{variant:"secondary",onClick:function(){b(!0)},children:"Add"})})]}),Object(E.jsx)("hr",{})]})},Ge=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),b=s[0],h=s[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(u.b)(),y=function(){var t={newPassword:b};v.put("/api/users/set-password/"+P(),t).then((function(){e.onPasswordSet()})).catch((function(){r("Oops! Something went wrong, try again!")}))};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{onHide:function(){f(T())},backdrop:"static",children:[Object(E.jsx)(Oe.a.Header,{className:"justify-content-center",backdrop:"static",closeButton:!0,children:Object(E.jsx)("p",{children:"Welcome! Please set new password!"})}),Object(E.jsxs)(Oe.a.Body,{className:"justify-content-center",children:[Object(E.jsxs)(d.a,{noValidate:!0,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),D.password(b)&&D.password(m)&&(b!==m?r("Passwords do not match"):(r(""),y()))},children:[Object(E.jsx)(Y,{onChange:function(e){return h(e.target.value)}}),Object(E.jsx)(Y,{name:"Repeat password",onChange:function(e){return x(e.target.value)}}),Object(E.jsx)(j.a,{className:"float-center",variant:"outline-secondary",type:"submit",children:"Set Password"})]}),c.length>0&&Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsx)("p",{className:"text-danger",children:c})})]})]}))};Ge.defaultProps={isPasswordSet:!1};var Ye=Ge;var Be=function(){var e=Object(y.useToasts)().addToast,t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],j=Object(a.useState)(null),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)(!0),N=Object(l.a)(C,2),k=(N[0],N[1]),w=Object(a.useState)(!1),S=Object(l.a)(w,2),T=S[0],I=S[1];function D(){return(D=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/pharmacy/getpharmacyidbyadmin/".concat(P())).then((function(e){h(e.data)})).catch((function(t){e(g(t),{appearance:"error"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return M.apply(this,arguments)}function M(){return(M=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/pharmacy/".concat(b)).then((function(e){r(e.data)})).catch((function(t){e(g(t),{appearance:"error"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){null!=b&&L()}),[b]),Object(a.useEffect)((function(){!function(){D.apply(this,arguments)}(),v.get("/api/users/"+P()).then((function(e){e.data.passwordChanged?(I(!1),k(!1)):(I(!0),k(!1))})).catch((function(){}))}),[]),Object(E.jsxs)("div",{style:{height:"100vh"},children:[Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"Basic informations"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"Pharmacists and dermatologists"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"third",children:"Medicine"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"fourth",children:"Add appointment"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"fifth",children:"Holiday requests"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"sixth",children:"Reports"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"seventh",children:"Purchase orders"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"eight",children:"Inquiries"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"ninth",children:"Advertisment"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(re,{pharmacyDetails:c,changedPharmacy:function(){L()}}),Object(E.jsx)(Pe,{idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(E.jsx)(we,{idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(E.jsx)(ge,{idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(E.jsx)(Ne,{setRefreshPriceList:d,refreshPriceList:o,idOfPharmacy:null===c||void 0===c?void 0:c.id,priceListId:null===c||void 0===c?void 0:c.priceListId}),Object(E.jsx)(ye,{refreshInq:f,setRefreshInq:_,refresh:o,idOfPharmacy:null===c||void 0===c?void 0:c.id,priceListId:null===c||void 0===c?void 0:c.priceListId}),Object(E.jsx)(Le,{refreshInq:f,idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(E.jsx)(Ae,{pharmacyDetails:c}),Object(E.jsx)(Re,{pharmacyDetails:c})]})})]})}),Object(E.jsx)(Ye,{show:T,onPasswordSet:function(){I(!1)}})]})};var Fe=function(e){var t=Object(b.g)(),n=Object(y.useToasts)().addToast;return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsxs)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:["Initialize appointment for ",e.appointment.patient]})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(pe.a,{children:[Object(E.jsx)(j.a,{onClick:function(){if(he()(Date.now())>he()(e.appointment.start).subtract(15,"minutes")){var a=new FormData;a.append("id",e.appointment.id),v.post("/api/appointment/start_appointment",a).then((function(){t.push({pathname:"/worker/appointment_report",state:{appointmentID:e.appointment.id}})})).catch((function(){return n("You can't start this appointment!",{appearance:"error"})}))}else n("You can't start this appointment yet!",{appearance:"error"})},children:"Start appointment"}),Object(E.jsx)(j.a,{onClick:function(){if(he()(Date.now())>he()(e.appointment.start).add(5,"minutes")){var t=new FormData;t.append("id",e.appointment.id),v.post("/api/appointment/cancel_appointment",t).then((function(){n("Appointment cancelled! Patient didn't show up!",{appearance:"info"}),e.onCancelMethod()})).catch((function(){return n("You can't cancel this appointment yet!",{appearance:"error"})}))}else n("You can't cancel this appointment yet!",{appearance:"error"})},children:"Patient didn't show up"})]})}),Object(E.jsx)(Oe.a.Footer,{})]}))},qe=(n(112),n(26));var Ve=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)({}),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(!0),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],N=_[1],k=Object(a.useState)(!0),w=Object(l.a)(k,2),S=w[0],T=w[1],I=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P()){e.next=5;break}return I("Invalid user!",{appearance:"error"}),c([]),e.abrupt("return");case 5:return e.next=7,v.get("/api/appointment/workers_upcoming?id="+t+"&page=0&size=10").then((function(e){c(e.data),T(!1)})).catch((function(){c([]),T(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=P();v.get("/api/users/"+t).then((function(e){e.data.passwordChanged?(N(!1),f(!1)):(N(!0),f(!1))})).catch((function(){})),function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5 pb-3 pl-3 pr-3 align-items-center",children:Object(E.jsx)("h2",{className:"my_content_header",children:"Upcomming appointments"})}),0===n.length&&!S&&Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)("h3",{children:"There are no upcomming appointments!"})}),x?Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsx)("h3",{children:"Checking user data..."})}):Object(E.jsxs)("div",{children:[n.map((function(e,t){return Object(E.jsx)($.a,{className:"justify-content-center p-4 align-items-center",children:Object(E.jsx)(Z.a,{md:7,children:Object(E.jsx)(se.a,{className:"card_appt_home",children:Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:["Appointment date:"," ",he()(e.start).format("DD MMM YYYY"),Object(E.jsxs)("span",{style:{float:"right"},children:["Time: ",he()(e.start).format("hh:mm a")," -"," ",he()(e.end).format("hh:mm a")]})]}),Object(E.jsx)("hr",{style:{color:"black",backgroundColor:"black",height:1}}),Object(E.jsxs)(se.a.Text,{className:"mb-2",children:["Patient: ",e.patient]}),Object(E.jsxs)(se.a.Text,{className:"mb-2",children:["Price: ",e.price]}),Object(E.jsx)(se.a.Text,{style:{textAlign:"center"},children:Object(E.jsx)(se.a.Link,{as:qe.b,to:"#",onClick:function(){return t=e,void(he()(Date.now())>he()(t.start).subtract(15,"minutes")?(b(t),o(!0)):I("You can't initiate appointment until at least 15 minutes before!",{appearance:"error"}));var t},children:"Start appointment"})})]})})})},t)}))," "]}),Object(E.jsx)(Fe,{show:s,onCancelMethod:function(){o(!1);var e=P();e?v.get("/api/appointment/workers_upcoming",{params:{id:e,page:0,size:10}}).then((function(e){return c(e.data)})).catch((function(){return c([])})):I("Invalid user!",{appearance:"error"})},appointment:u,onHide:function(){o(!1),b({})}}),Object(E.jsx)(Ye,{show:C,onPasswordSet:function(){N(!1)}})]})};var Ke=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)({}),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(!0),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],N=_[1],k=Object(a.useState)(!0),w=Object(l.a)(k,2),S=w[0],T=w[1],I=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P()){e.next=5;break}return I("Invalid user!",{appearance:"error"}),c([]),e.abrupt("return");case 5:return e.next=7,v.get("/api/appointment/workers_upcoming?id="+t+"&page=0&size=10").then((function(e){c(e.data),T(!1)})).catch((function(){c([]),T(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=P();v.get("/api/users/"+t).then((function(e){e.data.passwordChanged?(N(!1),f(!1)):(N(!0),f(!1))})),function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5 pb-3 pl-3 pr-3 align-items-center",children:Object(E.jsx)("h2",{className:"my_content_header",children:"Upcomming appointments"})}),0===n.length&&!S&&Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)("h3",{children:"There are no upcomming appointments!"})}),x?Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsx)("h3",{children:"Checking user data..."})}):Object(E.jsx)("div",{children:n.map((function(e,t){return Object(E.jsx)($.a,{className:"justify-content-center p-4 align-items-center",children:Object(E.jsx)(Z.a,{md:7,children:Object(E.jsx)(se.a,{className:"card_appt_home",children:Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:["Appointment date:"," ",he()(e.start).format("DD MMM YYYY"),Object(E.jsxs)("span",{style:{float:"right"},children:["Time: ",he()(e.start).format("hh:mm a")," -"," ",he()(e.end).format("hh:mm a")]})]}),Object(E.jsx)("hr",{style:{color:"black",backgroundColor:"black",height:1}}),Object(E.jsxs)(se.a.Text,{className:"mb-2",children:["Pharmacy: ",e.pharmacy]}),Object(E.jsxs)(se.a.Text,{className:"mb-2",children:["Patient: ",e.patient]}),Object(E.jsxs)(se.a.Text,{className:"mb-2",children:["Price: ",e.price]}),Object(E.jsx)(se.a.Text,{style:{textAlign:"center"},children:Object(E.jsx)(se.a.Link,{as:qe.b,to:"#",onClick:function(){return t=e,void(he()(Date.now())>he()(t.start).subtract(15,"minutes")?(b(t),o(!0)):I("You can't initiate appointment until at least 15 minutes before!",{appearance:"error"}));var t},children:"Start appointment"})})]})})})},t)}))}),Object(E.jsx)(Fe,{show:s,onCancelMethod:function(){o(!1);var e=P();e?v.get("/api/appointment/workers_upcoming",{params:{id:e,page:0,size:10}}).then((function(e){return c(e.data)})).catch((function(){return c([])})):I("Invalid user!",{appearance:"error"})},appointment:u,onHide:function(){o(!1),b({})}}),Object(E.jsx)(Ye,{show:C,onPasswordSet:function(){N(!1)}})]})},ze=n(331),Ue=n(610);var We=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(0),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)(0),f=Object(l.a)(x,2),y=f[0],g=f[1],_=Object(a.useState)([]),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),T=S[0],I=S[1],D=Object(a.useState)(""),P=Object(l.a)(D,2),L=P[0],M=P[1],A=Object(a.useState)(""),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)("none"),B=Object(l.a)(Y,2),F=B[0],q=B[1],V=Object(a.useState)("none"),K=Object(l.a)(V,2),z=K[0],U=K[1],W=Object(a.useState)(!1),Q=Object(l.a)(W,2),ee=Q[0],te=Q[1],ne=Object(a.useState)("none"),ae=Object(l.a)(ne,2),ce=ae[0],re=ae[1],le=document.getElementById("my__transition__div"),de=document.getElementById("my__blocker");Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pharmacy/").catch((function(){}));case 2:return t=e.sent,c(t?t.data:[]),o(t?t.data:[]),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var je=function(e,t,n){var a=e.location.latitude,c=e.location.longitude;if(a==n&&c==t)return 0;var r=Math.PI*a/180,i=Math.PI*n/180,s=c-t,o=Math.PI*s/180,l=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos(o);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515*1.609344,console.log(l),l};Object(a.useEffect)((function(){var e=Math.floor((null===n||void 0===n?void 0:n.length)/12)-1;(null===n||void 0===n?void 0:n.length)/12-1>e&&(e+=1),g(e)}),[n,ee]),Object(a.useEffect)((function(){var e=12*h,t=n.length<e+12?null===n||void 0===n?void 0:n.length:e+12;k(null===n||void 0===n?void 0:n.slice(e,t))}),[n,h,ee]);var be=function(e,t){"sorter"===e?q(t):U(t),"none"!==t&&("sorter"===e&&"none"===z||"ascDesc"===e&&"none"===F||(n.sort((function(n,a){var c,r;return"sorter"===e&&"grade"===t||"ascDesc"===e&&"grade"===F?(null===n||void 0===n?void 0:n.avgGrade)-(null===a||void 0===a?void 0:a.avgGrade):"sorter"===e&&"pharmacy name"===t||"ascDesc"===e&&"pharmacy name"===F?null===n||void 0===n?void 0:n.name.localeCompare(null===a||void 0===a?void 0:a.name):"sorter"===e&&"city name"===t||"ascDesc"===e&&"city name"===F?null===n||void 0===n||null===(c=n.address)||void 0===c?void 0:c.city.localeCompare(null===a||void 0===a||null===(r=a.address)||void 0===r?void 0:r.city):void 0})),("ascDesc"===e&&"descending"===t||"sorter"===e&&"descending"===z)&&n.reverse(),te(!ee)))};return Object(E.jsxs)(J.a.Pane,{eventKey:"first",children:[Object(E.jsx)("div",{id:"my__blocker",onClick:function(){return de.classList.remove("blocker"),void le.classList.remove("my__transition__div__move")}}),Object(E.jsxs)("div",{id:"my__transition__div",className:"my__flex",children:[Object(E.jsx)(d.a,{onSubmit:function(e){e.preventDefault(),0===T.length?v.get("/api/pharmacy/").then((function(e){c(e.data),o(e.data)})).catch((function(){})):v.get("/api/pharmacy/search",{params:{searchValue:T}}).then((function(e){c(e.data),o(e.data)})).catch((function(){}))},style:{display:"search"===ce?"block":"none",width:"50%"},children:Object(E.jsxs)(d.a.Group,{className:"my__flex",children:[Object(E.jsx)(d.a.Control,{type:"text",name:"searchValue",value:T,onChange:function(e){return I(e.target.value)},placeholder:"Enter name or place..."}),Object(E.jsx)(j.a,{type:"submit",className:"my__search__buttons",children:Object(E.jsx)(Se.a,{})}),Object(E.jsxs)(j.a,{className:"my__search__buttons my__flex",onClick:function(){v.get("/api/pharmacy/").then((function(e){c(e.data),o(e.data)})).catch((function(){return c([])})),I("")},children:["Reset ",Object(E.jsx)(Te.a,{})]})]})}),Object(E.jsxs)("div",{className:"my__flex",style:{display:"sorter"===ce?"flex":"none"},children:[Object(E.jsx)(d.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{className:"my__search__buttons",id:"dropdown-basic",children:F}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){be("sorter","none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){be("sorter","pharmacy name")},children:"pharmacy name"}),Object(E.jsx)(ue.a.Item,{onClick:function(){be("sorter","city name")},children:"city name"}),Object(E.jsx)(ue.a.Item,{onClick:function(){be("sorter","grade")},children:"grade"})]})]}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{className:"my__search__buttons",id:"dropdown-basic",children:z}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){be("ascDesc","none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){be("ascDesc","ascending")},children:"ascending"}),Object(E.jsx)(ue.a.Item,{onClick:function(){be("ascDesc","descending")},children:"descending"})]})]})]}),Object(E.jsx)("div",{style:{display:"filter"===ce?"block":"none"},children:Object(E.jsxs)(d.a,{onSubmit:function(e){if(e.preventDefault(),""!==L||""!==R){var t=[];if(""!==L){for(var n=0;n<s.length;n++)("HIGH"===L&&s[n].avgGrade>3||"MEDIUM"===L&&3===s[n].avgGrade||"LOW"===L&&s[n].avgGrade<3)&&t.push(s[n]);if(c(t),0===t.length)return}""!==R&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var n=0!==t.length?Object(ie.a)(t):s;t=[];for(var a=0;a<n.length;a++)("5LESS"===R&&je(n[a].address,e.coords.longitude,e.coords.latitude)<=5||"10LESS"===R&&je(n[a].address,e.coords.longitude,e.coords.latitude)<=10||"10HIGHER"===R&&je(n[a].address,e.coords.longitude,e.coords.latitude)>10)&&t.push(n[a]);c(t)}))}else c(s)},className:"my__div__filter",children:[Object(E.jsxs)(d.a.Group,{controlId:"gradeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Grade"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return M(e.target.value)},defaultValue:"",children:[Object(E.jsx)("option",{value:"",children:"Not Selected"}),Object(E.jsx)("option",{value:"LOW",children:"Low"}),Object(E.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(E.jsx)("option",{value:"HIGH",children:"High"})]})]}),Object(E.jsxs)(d.a.Group,{controlId:"distanceSelect",children:[Object(E.jsx)(d.a.Label,{children:"Distance"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return G(e.target.value)},defaultValue:"",children:[Object(E.jsx)("option",{value:"",children:"Not Selected"}),Object(E.jsx)("option",{value:"5LESS",children:"5km(Less)"}),Object(E.jsx)("option",{value:"10LESS",children:"10km(Less)"}),Object(E.jsx)("option",{value:"10HIGHER",children:"10km(Higher)"})]})]}),Object(E.jsx)(j.a,{type:"submit",className:"my__search__buttons",children:Object(E.jsx)(Se.a,{})})]})})]}),Object(E.jsxs)("div",{className:"my__flex",style:{paddingTop:"30px"},children:[Object(E.jsx)(j.a,{className:"my__search__buttons",onClick:function(){le.classList.add("my__transition__div__move"),de.classList.add("blocker"),re("search")},children:"Search"}),Object(E.jsx)(j.a,{className:"my__search__buttons",onClick:function(){le.classList.add("my__transition__div__move"),de.classList.add("blocker"),re("sorter")},children:"Sorter"}),Object(E.jsx)(j.a,{className:"my__search__buttons",onClick:function(){le.classList.add("my__transition__div__move"),de.classList.add("blocker"),re("filter")},children:"Filter"})]}),Object(E.jsxs)(pe.a,{fluid:!0,children:[Object(E.jsxs)($.a,{children:[0===N.length&&Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)("h3",{children:"No result!"})}),N&&N.map((function(e,t){return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(E.jsx)(X.a.Link,{as:qe.b,className:"my__nav__link__card",to:"/pharmacy/".concat(e.id),children:Object(E.jsxs)(se.a,{className:"my__card",style:{width:"18rem"},children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsx)(se.a.Title,{children:e.name}),Object(E.jsx)(se.a.Text,{children:e.description})]}),Object(E.jsxs)(me.a,{className:"list-group-flush",children:[Object(E.jsx)(ze.a,{className:"my__flex",children:Object(ie.a)(Array(Math.ceil(e.avgGrade))).map((function(){return Object(E.jsx)(Ue.a,{className:"my__star"})}))}),Object(E.jsx)(ze.a,{className:"my__flex",children:e.address.street+", "+e.address.city})]})]})})},t)}))]}),Object(E.jsx)($.a,{className:"my__row__pagination",children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===h,onClick:function(){0!==h&&m(h-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:h}),Object(E.jsx)(oe.a.Next,{disabled:h===y,onClick:function(){h!==y&&m(h+1)}})]})})})]})]})},Qe=n(72),Je=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),o=s[0],u=s[1],b=Object(a.useState)([]),h=Object(l.a)(b,2),O=h[0],p=h[1],m=Object(a.useState)([]),x=Object(l.a)(m,2),f=x[0],y=x[1],g=Object(a.useState)(""),_=Object(l.a)(g,2),C=_[0],N=_[1];Object(a.useEffect)((function(){v.get("/api/medicine-types/").then((function(e){p(e.data)})).catch((function(){})),v.get("/api/medicine-forms/").then((function(e){y(e.data)})).catch((function(){}))}),[]);var k=function(){return"name:".concat(C,",medicineType:").concat(c,",medicineForm:").concat(o)};return Object(E.jsx)(d.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.updateParams(k())},children:Object(E.jsxs)(pe.a,{style:{marginBottom:"20px"},children:[Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:5,children:Object(E.jsx)(d.a.Group,{children:Object(E.jsx)(d.a.Label,{children:"Name:"})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(d.a.Group,{children:Object(E.jsx)(d.a.Label,{children:"Type:"})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(d.a.Group,{children:Object(E.jsx)(d.a.Label,{children:"Form:"})})})]}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:5,children:Object(E.jsx)(d.a.Group,{children:Object(E.jsx)(d.a.Control,{type:"text",onChange:function(e){N(e.target.value)}})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(d.a.Group,{children:Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){r(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Show all"}),O.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name})}))]})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(d.a.Group,{children:Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){u(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Show all"}),f.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name})}))]})})}),Object(E.jsx)(Z.a,{md:1,children:Object(E.jsx)(j.a,{type:"submit",children:"Submit"})})]})]})})};var $e=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),x=m[0],f=m[1],y=Object(a.useState)(""),g=Object(l.a)(y,2),_=g[0],C=g[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine/").catch((function(){}));case 2:return t=e.sent,c(t?t.data:[]),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine?search=".concat(_)).catch((function(){}));case 2:return t=e.sent,c(t?t.data:[]),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_&&function(){e.apply(this,arguments)}()}),[_]),Object(a.useEffect)((function(){var e=Math.floor((null===n||void 0===n?void 0:n.length)/12)-1;(null===n||void 0===n?void 0:n.length)/12-1>e&&(e+=1),b(e)}),[n]),Object(a.useEffect)((function(){var e=12*s,t=n.length<e+12?null===n||void 0===n?void 0:n.length:e+12;f(null===n||void 0===n?void 0:n.slice(e,t))}),[n,s]),Object(E.jsx)(J.a.Pane,{eventKey:"third",children:Object(E.jsxs)(pe.a,{fluid:!0,children:[Object(E.jsx)(Je,{updateParams:function(e){!function(e){C(e)}(e)}}),Object(E.jsx)($.a,{children:x&&x.map((function(e,t){return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(E.jsx)(X.a.Link,{as:qe.b,className:"my__nav__link__card",to:"/medicine/".concat(e.id,"/pharmacy/-1/price/-1"),children:Object(E.jsxs)(se.a,{className:"my__card",style:{width:"18rem"},children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsx)(se.a.Title,{children:e.name}),Object(E.jsxs)(se.a.Text,{children:["#",e.code]}),Object(E.jsx)(se.a.Text,{children:e.content})]}),Object(E.jsx)(me.a,{className:"list-group-flush",children:Object(E.jsx)(ze.a,{className:"my__flex",children:Object(ie.a)(Array(Math.ceil(e.avgGrade))).map((function(){return Object(E.jsx)(Ue.a,{className:"my__star"})}))})})]})})},t)}))}),Object(E.jsx)($.a,{className:"my__row__pagination",children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===s,onClick:function(){0!==s&&o(s-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:s}),Object(E.jsx)(oe.a.Next,{disabled:s===u,onClick:function(){s!==u&&o(s+1)}})]})})})]})})};var Ze=function(){var e=Object(u.c)((function(e){return e.user})),t=L();return Object(a.useEffect)((function(){t=L()}),[e]),Object(E.jsx)("main",{className:"home__page",children:Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"Pharmacies"})}),"PATIENT"===t&&Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"Dermatologits and pharmacists"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"third",children:"Medicines"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(We,{}),Object(E.jsx)($e,{}),"PATIENT"===t&&Object(E.jsx)(Pe,{idOfPharmacy:-1})]})})]})})})},Xe=n(197),et=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(1),s=Object(l.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine/").catch((function(){}));case 2:t=e.sent,f(t?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine to stock"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation();var n={};c[0]?(n.medicineId=c[0].id,n.medicineName=c[0].name,n.amount=u,v.post("/api/suppliers/stock/".concat(P()),n).then((function(){g("Medicine added successfully",{appearance:"success"}),e.onSuccess(),e.onHide()}))):g("Medicine not selected",{appearance:"warning"})},children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine"}),Object(E.jsx)(Qe.b,{labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},onChange:r,options:x,placeholder:"Select a medicine...",selected:c})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Amount"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return b(e.target.value)},defaultValue:1,min:1,max:1e3,step:1,required:!0})]}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Confirm"}),Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})})]}))},tt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/suppliers/stock/".concat(P())).catch((function(){}));case 2:t=e.sent,c(t?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]);return Object(E.jsxs)(me.a,{style:{margin:"20px"},children:[n&&n.map((function(e){return Object(E.jsxs)(me.a.Item,{style:{margin:"10px"},children:[" ","".concat(e.medicineName,"  --  ").concat(e.amount)]},e.medicineId)})),Object(E.jsx)(j.a,{onClick:function(){return h(!0)},children:"Add"}),Object(E.jsx)(et,{show:b,onHide:function(){return h(!1)},onSuccess:function(){o(!s)}})]})},nt=n(327),at=n(329),ct=function(e){var t,n=Object(a.useState)(e.offer?e.offer.price:0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(e.offer?new Date(e.offer.deliveryDate).getTime():Date.now()),u=Object(l.a)(s,2),b=u[0],h=u[1],O=Object(y.useToasts)().addToast,p=function(t){v.post("/api/suppliers/offers/".concat(P()),t).then((function(){e.onSuccess(),e.onHide(),O("Successfully added",{appearance:"success"})})).catch((function(e){O(g(e),{appearance:"error"})}))},m=function(t){t.id=e.offer.id,v.put("/api/suppliers/offers/".concat(P()),t).then((function(){O("Successfully updated",{appearance:"success"}),e.onSuccess(),e.onHide()})).catch((function(e){O(g(e),{appearance:"error"})}))},x=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,c=t.getDate();return a=a<10?"0"+a:a,c=c<10?"0"+c:c,"".concat(n,"-").concat(a,"-").concat(c)};return e.order&&e.order.orderItem&&(t=e.order.orderItem.map((function(e){return Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:"".concat(e.medicine.code," -- ").concat(e.medicine.name," -- Amount: ").concat(e.amount)})},e.id)}))),Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(E.jsx)(Oe.a.Header,{className:"justify-content-center",backdrop:"static",onHide:function(){},closeButton:!0,children:Object(E.jsxs)("p",{children:[e.offer?"Edit offer":"Create offer"," "]})}),Object(E.jsxs)(Oe.a.Body,{className:"justify-content-center",children:[t,Object(E.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation();var n={};n.price=r,n.deliveryDate=b,n.offerState=e.offer?e.offer.offerState:"PENDING",n.orderId=e.order.id,e.offer?m(n):p(n)},children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Total price"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return i(e.target.value)},defaultValue:e.offer?e.offer.price:0,min:0,step:1,required:!0})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Due"}),Object(E.jsx)(d.a.Control,{type:"date",onChange:function(e){return t=e.target.value,void h(new Date(t).getTime());var t},defaultValue:e.offer?x(e.offer.deliveryDate):x(Date.now()),min:x(Date.now()),max:e.order?x(e.order.deadline):"",required:!0})]}),Object(E.jsx)(j.a,{className:"float-center",variant:"outline-secondary",type:"submit",children:"Save"})]})]})]}))},rt=function(e){var t=e.orderItems;return Object(E.jsx)(me.a,{style:{marginBottom:"20px"},children:t.map((function(e){return Object(E.jsx)(me.a.Item,{children:"Code: ".concat(e.medicine.code," -- ").concat(e.medicine.name,"   Amount ").concat(e.amount," pcs")})}))})};rt.defaultProps={orderItems:[]};var it=rt,st=function(e){var t=e.order,n=e.onSuccess,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],s=r[1];return Object(E.jsxs)(pe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(E.jsxs)($.a,{className:"justify-content-between",children:[Object(E.jsx)(Z.a,{md:4,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Status: ",t.orderState]})})}),Object(E.jsx)(Z.a,{md:2,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Deadline: ",new Date(t.deadline).toLocaleDateString("sr-sp")]})})})]}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{children:Object(E.jsx)(it,{orderItems:t.orderItem})})}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{md:{offset:0,span:2},children:Object(E.jsx)(j.a,{onClick:function(){s(!0)},style:{width:"100%"},children:"Create Offer"})})}),Object(E.jsx)(ct,{show:i,order:t,onHide:function(){return s(!1)},onSuccess:function(){n()}})]})},ot=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/orders/without-offers/".concat(P())).catch((function(){}));case 2:t=e.sent,c(t?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]);return Object(a.useEffect)((function(){b(Array.isArray(n)&&n.length?"":"No orders to show")}),[n]),Object(E.jsxs)("div",{children:[n&&n.map((function(e){return Object(E.jsx)(st,{order:e,onSuccess:function(){o(!s)}},e.id)})),Object(E.jsx)("p",{children:u})]})},lt=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),s=Object(l.a)(i,2),o=s[0],d=s[1];Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/orders/".concat(e.offer.orderId)).catch((function(){}));case 2:n=t.sent,d(n?n.data:{});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);return Object(E.jsxs)(pe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(E.jsxs)($.a,{className:"justify-content-between",children:[Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["State: ",e.offer.offerState]})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Price: ",e.offer.price]})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Delivery Date:"," ",new Date(e.offer.deliveryDate).toLocaleDateString("sr-sp")]})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Deadline:"," ",o?new Date(o.deadline).toLocaleDateString("sr-sp"):""]})})})]}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{})}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{md:{offset:0,span:2},children:Object(E.jsx)(j.a,{disabled:!("PENDING"===e.offer.offerState&&o.deadline>Date.now()),onClick:function(){r(!0)},children:"Edit"})})}),Object(E.jsx)(ct,{show:c,order:o,offer:e.offer,onHide:function(){return r(!1)},onSuccess:function(){e.onSuccess()}})]})},dt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)("ACCEPTED"),u=Object(l.a)(j,2),b=u[0],h=u[1];Object(a.useEffect)((function(){var e=P();function t(){return(t=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/suppliers/offers/".concat(e,"/?type=").concat(b)).catch((function(){}));case 2:n=t.sent,c(n?n.data:[]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[s,b]);return Object(E.jsxs)("div",{children:[Object(E.jsxs)(d.a.Group,{controlId:"selectOffer",children:[Object(E.jsx)(d.a.Label,{children:"Offer state"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){h(e.target.value)}.bind(undefined),children:[Object(E.jsx)("option",{value:"ACCEPTED",children:"Accepted"}),Object(E.jsx)("option",{value:"PENDING",children:"Pending"}),Object(E.jsx)("option",{value:"DENIED",children:"Denied"})]})]}),n&&n.map((function(e){return Object(E.jsx)(lt,{offer:e,onSuccess:function(){o(!s)}},e.id)}))]})},jt=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=P();v.get("/api/users/"+e).then((function(e){c(!e.data.passwordChanged)})).catch((function(){}))}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)("main",{className:"home__page",children:Object(E.jsx)(J.a.Container,{unmountOnExit:!0,children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"New orders"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"My offers"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"third",children:"Stock"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(Xe.a,{eventKey:"first",children:Object(E.jsx)(ot,{})}),Object(E.jsx)(Xe.a,{eventKey:"second",children:Object(E.jsx)(dt,{})}),Object(E.jsx)(Xe.a,{eventKey:"third",children:Object(E.jsx)(tt,{})})]})})]})})}),Object(E.jsx)(Ye,{show:n,onPasswordSet:function(){return c(!1)}})]})};var ut=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=P();v.get("/api/users/"+e).then((function(e){c(!e.data.passwordChanged)})).catch((function(){}))}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)("main",{className:"home__page",children:Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsxs)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:[Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"Pharmacies"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"third",children:"Medicines"})})]}),Object(E.jsx)(X.a,{variant:"pills",className:"flex-column",children:Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"fifth",children:"Holiday requests"})})})]}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(We,{}),Object(E.jsx)($e,{}),Object(E.jsx)(we,{idOfPharmacy:-1})]})})]})})}),Object(E.jsx)(Ye,{show:n,onPasswordSet:function(){return c(!1)}})]})},bt=function(){var e,t=Object(u.c)((function(e){return e.user})),n=L();switch(Object(a.useEffect)((function(){n=L()}),[t]),n){case"ADMIN":e=Object(E.jsx)(ut,{});break;case"PHARMACIST":e=Object(E.jsx)(Ve,{});break;case"DERMATOLOGIST":e=Object(E.jsx)(Ke,{});break;case"SUPPLIER":e=Object(E.jsx)(jt,{});break;case"PATIENT":e=Object(E.jsx)(Ze,{});break;case"PHARMACY_ADMIN":e=Object(E.jsx)(Be,{});break;default:e=Object(E.jsx)(Ze,{})}return Object(E.jsx)("div",{children:e})},ht=(n(185),function(e){var t=e.allergy,n=e.deleteClick;return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t.code}),Object(E.jsx)("td",{children:t.name}),Object(E.jsx)("td",{children:t.content}),Object(E.jsx)("td",{children:Object(E.jsx)(j.a,{variant:"danger",onClick:n,children:"Delete"})})]},t.id)}),Ot=n(611);n(306);var pt=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)([]),u=Object(l.a)(d,2),b=u[0],h=u[1],m=Object(a.useState)({}),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)(!1),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/allergies/all/"+P()).catch((function(){}));case 2:t=e.sent,o(t?t.data:[]),""==t.data&&o(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine/").catch((function(){}));case 2:t=e.sent,h(t?t.data:[]),""==t.data&&h(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var T=function(){c(!n)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("h3",{className:"my__allergy__header",children:"Allergies"}),Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",size:"lg",style:{display:null!=s?"block":"none"},children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Content"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{className:"my__table__body",children:s&&s.map((function(e){return Object(E.jsx)(ht,{allergy:e,deleteClick:function(){return t=e.id,void v.delete("/api/patients/allergies/"+P()+"/"+t).then((function(e){T(),S(e.data,{appearance:"success"})})).catch((function(e){S(g(e),{appearance:"error"})}));var t}},e.id)}))})]}),Object(E.jsxs)(j.a,{variant:"primary",onClick:function(){return w(!0)},children:[Object(E.jsx)(Ot.a,{style:{width:"1.5em",height:"1.5em"}}),"Add"]}),Object(E.jsxs)(Oe.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){w(!1),_({})},show:k,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add new allergy"})}),Object(E.jsxs)(Oe.a.Body,{children:[Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",size:"md",style:{display:null!=b?"block":"none"},children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Content"})]})}),Object(E.jsx)("tbody",{className:"my__table__body",children:b&&b.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return function(e){_(e)}(e)},className:f.id===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.content})]},e.id)}))})]}),Object(E.jsx)(j.a,{variant:"info",onClick:function(){v.post("/api/patients/allergies/"+P()+"/"+f.id).then((function(e){S(e.data,{appearance:"success"}),T(),w(!1),_({})})).catch((function(e){S(g(e),{appearance:"error"})}))},disabled:0===Object.keys(f).length,children:"Add"})]})]})]})};var mt=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),i=Object(l.a)(r,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/"+P()+"/points").catch((function(){}));case 2:return t=e.sent,c(t?t.data:0),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(a.useEffect)((function(){n&&function(){var e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/ranking-category/points/"+n).catch((function(){}));case 2:return t=e.sent,o(t?t.data:{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(E.jsxs)("div",{children:[Object(E.jsx)("h3",{style:{textAlign:"center"},children:"Benefits"}),Object(E.jsxs)("p",{style:{textAlign:"center"},children:["Achieved points: ",n," "]}),Object(E.jsxs)("div",{style:{display:""==s?"none":"block"},children:[Object(E.jsxs)("p",{style:{textAlign:"center"},children:["Category: ",s.name," "]}),Object(E.jsxs)("p",{style:{textAlign:"center"},children:["Requied points: ",s.pointsRequired," "]}),Object(E.jsxs)("p",{style:{textAlign:"center"},children:["Discount: ",s.discount,"%"]})]}),Object(E.jsx)("h5",{style:{display:""==s?"block":"none",fontWeight:"bold",textAlign:"center"},children:"No category achieved"})]})};var xt=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/"+P()+"/penalties").catch((function(){}));case 2:return t=e.sent,c(t?t.data:null),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h3",{style:{textAlign:"center"},children:"Penalties"}),Object(E.jsxs)("p",{style:{textAlign:"center"},children:["Achieved points: ",n," out of 3"]}),Object(E.jsx)("p",{style:{textAlign:"center"},children:"Reservation functionality is disabled once you reach 3 penalties."}),Object(E.jsx)("p",{style:{textAlign:"center"},children:"Every first day of the month the penalties are set to 0."})]})},ft=n(612),vt=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),u=Object(l.a)(i,2),b=u[0],h=u[1],m=Object(a.useState)({oldPassword:"",newPassword:"",repeatPassword:""}),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)(!1),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(!1),T=Object(l.a)(S,2),I=T[0],D=T[1],L=Object(a.useState)("password"),M=Object(l.a)(L,2),A=M[0],H=M[1],R=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n,a,c,i,s,o,l,d,j,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/users/"+P()).catch((function(){}));case 2:return u=e.sent,r(u?u.data:{}),h({email:null===(t=u.data)||void 0===t?void 0:t.email,firstName:null===(n=u.data)||void 0===n?void 0:n.firstName,lastName:null===(a=u.data)||void 0===a?void 0:a.lastName,telephone:null===(c=u.data)||void 0===c?void 0:c.telephone,street:null===(i=u.data)||void 0===i||null===(s=i.address)||void 0===s?void 0:s.street,city:null===(o=u.data)||void 0===o||null===(l=o.address)||void 0===l?void 0:l.city,country:null===(d=u.data)||void 0===d||null===(j=d.address)||void 0===j?void 0:j.country}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var G=function(e){var t=e.target.name,n=e.target.value;h(Object(o.a)(Object(o.a)({},b),{},Object(s.a)({},t,n)))},Y=function(e){var t=e.target.name,n=e.target.value;_(Object(o.a)(Object(o.a)({},f),{},Object(s.a)({},t,n)))};return Object(E.jsxs)(pe.a,{children:[Object(E.jsx)($.a,{children:Object(E.jsxs)(Oe.a,{show:I,onHide:function(){return D(!1)},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{children:"Change password"})}),Object(E.jsxs)(d.a,{onSubmit:function(e){if(e.preventDefault(),f.newPassword===f.repeatPassword){var t=Object(o.a)({},f);delete t.repeatPassword,v.put("/api/users/change-password/"+P(),t).then((function(){R("Successfully changed password!",{appearance:"success"}),f.oldPassword="",f.newPassword="",f.repeatPassword="",D(!1)})).catch((function(e){R(g(e),{appearance:"error"})}))}else R("Passwords not matches!",{appearance:"warning"})},children:[Object(E.jsxs)(Oe.a.Body,{children:[Object(E.jsx)(d.a.Label,{children:"Old password"}),Object(E.jsx)(d.a.Control,{type:A,name:"oldPassword",required:!0,value:f.oldPassword,onChange:Y,maxLength:30}),Object(E.jsx)(d.a.Label,{children:"New password"}),Object(E.jsx)(d.a.Control,{type:A,name:"newPassword",required:!0,value:f.newPassword,onChange:Y,maxLength:30}),Object(E.jsx)(d.a.Label,{children:"Repeat password"}),Object(E.jsx)(d.a.Control,{type:A,name:"repeatPassword",required:!0,value:f.repeatPassword,onChange:Y,maxLength:30})]}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"secondary",style:{borderRadius:"50%",position:"absolute",left:"30px"},onClick:function(){return H("text"===A?"password":"text")},children:Object(E.jsx)(ft.a,{})}),Object(E.jsx)(j.a,{variant:"secondary",onClick:function(){return D(!1)},children:"Close"}),Object(E.jsx)(j.a,{type:"submit",variant:"primary",children:"Submit"})]})]})]})}),Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsx)("h4",{children:e.title})}),Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsx)(Z.a,{md:6,children:Object(E.jsxs)(d.a,{onSubmit:function(e){e.preventDefault(),w(!k),c.firstName===b.firstName&&c.lastName===b.lastName&&c.telephone===b.telephone&&c.address.street===b.street&&c.address.city===b.city&&c.address.country===b.country||(c.firstName=b.firstName,c.lastName=b.lastName,c.telephone=b.telephone,c.address.street=b.street,c.address.city=b.city,c.address.country=b.country,v.put("/api/users/"+P(),c).then((function(e){R("User changed successfully!",{appearance:"success"}),r(e.data)})).catch((function(e){R(g(e),{appearance:"error"})})))},children:[Object(E.jsx)(d.a.Label,{children:"Email"}),Object(E.jsx)(d.a.Control,{disabled:!0,type:"email",value:b.email}),Object(E.jsx)(d.a.Label,{children:"First Name"}),Object(E.jsx)(d.a.Control,{disabled:!k,type:"text",name:"firstName",required:!0,value:b.firstName,onChange:G}),Object(E.jsx)(d.a.Label,{children:"Last Name"}),Object(E.jsx)(d.a.Control,{disabled:!k,type:"text",name:"lastName",required:!0,value:b.lastName,onChange:G}),Object(E.jsx)(d.a.Label,{children:"Telephone"}),Object(E.jsx)(d.a.Control,{disabled:!k,type:"number",name:"telephone",pattern:"[0-9]{10}",required:!0,value:b.telephone,onChange:G}),Object(E.jsx)(d.a.Label,{children:"Street"}),Object(E.jsx)(d.a.Control,{disabled:!k,type:"text",name:"street",required:!0,value:null===b||void 0===b?void 0:b.street,onChange:G}),Object(E.jsx)(d.a.Label,{children:"City"}),Object(E.jsx)(d.a.Control,{disabled:!k,type:"text",name:"city",required:!0,value:null===b||void 0===b?void 0:b.city,onChange:G}),Object(E.jsx)(d.a.Label,{children:"Country"}),Object(E.jsx)(d.a.Control,{disabled:!k,type:"text",name:"country",required:!0,value:null===b||void 0===b?void 0:b.country,onChange:G}),Object(E.jsx)($.a,{style:{marginTop:"10px",position:"relative"},children:Object(E.jsx)(j.a,{disabled:!k,variant:"info",type:"button",onClick:function(){return D(!0)},style:{position:"absolute",right:"0px"},children:"Change password"})}),Object(E.jsxs)(d.a.Group,{className:"form__buttons mt-5",controlId:"buttons",children:[Object(E.jsx)(j.a,{disabled:!k,variant:"secondary",type:"submit",children:"Save"}),Object(E.jsx)(j.a,{onClick:function(){w(!k)},disabled:k,variant:"secondary",type:"button",children:"Edit"}),Object(E.jsx)(j.a,{onClick:function(){var e,t,n;w(!k),h({email:null===c||void 0===c?void 0:c.email,firstName:null===c||void 0===c?void 0:c.firstName,lastName:null===c||void 0===c?void 0:c.lastName,telephone:null===c||void 0===c?void 0:c.telephone,street:null===c||void 0===c||null===(e=c.address)||void 0===e?void 0:e.street,city:null===c||void 0===c||null===(t=c.address)||void 0===t?void 0:t.city,country:null===c||void 0===c||null===(n=c.address)||void 0===n?void 0:n.country})},disabled:!k,variant:"secondary",type:"button",children:"Cancel"})]})]})})})]})};var yt=function(e){return Object(E.jsxs)(pe.a,{children:[Object(E.jsx)(vt,{title:e.title}),Object(E.jsx)("hr",{}),Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsx)(pt,{})}),Object(E.jsx)("hr",{}),Object(E.jsx)(mt,{}),Object(E.jsx)("hr",{}),Object(E.jsx)(xt,{})]})};var gt=function(){return Object(E.jsx)("main",{children:Object(E.jsx)(yt,{title:"Patient's information",col_width:6})})},_t=(n(513),n(613)),Ct=n(614),Nt=n(615);var kt=function(){return Object(E.jsxs)("footer",{className:"my__footer",children:[Object(E.jsx)("p",{children:"Copyright \xa9 2021"}),Object(E.jsxs)("p",{children:["Produced by: Dejan Todorovic, Aleksandar Buljevic, Darko Tica and Jovan Simic",Object(E.jsx)(j.a,{className:"my__footer__btn",children:Object(E.jsx)(_t.a,{})}),Object(E.jsx)(j.a,{className:"my__footer__btn",children:Object(E.jsx)(Ct.a,{})}),Object(E.jsx)(j.a,{className:"my__footer__btn",children:Object(E.jsx)(Nt.a,{})})]})]})};var wt=function(e){var t,n,c,r=e.details,i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1];Object(a.useEffect)((function(){var e,t,n,a;return u(),document.getElementById("mapCol").innerHTML="",new ee.a({target:"mapCol",layers:[new ne.a({source:new te.a})],view:new ae.a({center:Object(ce.d)([null===r||void 0===r||null===(e=r.address)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.longitude,null===r||void 0===r||null===(n=r.address)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.latitude]),zoom:10,minZoom:5,maxZoom:12})})}),[r]);var u=function(){P()&&v.get("/api/pharmacy/".concat(r.id,"/subscribe/").concat(P())).then((function(e){d(e.data)})).catch((function(){}))};return Object(E.jsx)(J.a.Pane,{eventKey:"first",children:Object(E.jsxs)(pe.a,{fluid:!0,children:[Object(E.jsxs)($.a,{className:"row-content",children:[Object(E.jsxs)(Z.a,{lg:6,md:6,sm:12,className:"my-vertical-col center",children:[Object(E.jsx)("h1",{children:null===r||void 0===r?void 0:r.name}),Object(E.jsx)("div",{className:"center",children:r.avgGrade&&Object(ie.a)(Array(Math.ceil(r.avgGrade))).map((function(){return Object(E.jsx)(Ue.a,{className:"my__star"})}))}),Object(E.jsxs)("h5",{children:["- ",null===r||void 0===r?void 0:r.description," -"]}),Object(E.jsxs)("h4",{children:[null===r||void 0===r||null===(t=r.address)||void 0===t?void 0:t.street,", ",null===r||void 0===r||null===(n=r.address)||void 0===n?void 0:n.city,","," ",null===r||void 0===r||null===(c=r.address)||void 0===c?void 0:c.country]}),Object(E.jsx)(j.a,{variant:"primary",hidden:"PATIENT"!==L(),onClick:function(){P()&&(o?v.post("/api/pharmacy/".concat(r.id,"/unsubscribe/").concat(P())).then((function(){alert("Success"),u()})).catch((function(){alert("Error")})):v.post("/api/pharmacy/".concat(r.id,"/subscribe/").concat(P())).then((function(){alert("Success"),u()})).catch((function(){alert("Error")})))},children:o?"Unsubscribe":"Subscribe"})]}),Object(E.jsx)(Z.a,{lg:6,md:6,sm:12,id:"mapCol",className:"center"})]}),Object(E.jsx)("hr",{})]})})};var St=function(e){var t=e.priceListId,n=e.pharmacyId,c=Object(y.useToasts)().addToast,r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(0),m=Object(l.a)(h,2),x=m[0],f=m[1],_=Object(a.useState)([]),C=Object(l.a)(_,2),N=C[0],k=C[1];return Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pricelist/".concat(t)).then((function(e){o(e.data.medicineItems)})).catch((function(e){c(g(e),{appearance:"error"})}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){if(0!=s.length){var e=Math.floor((null===s||void 0===s?void 0:s.length)/12)-1;(null===s||void 0===s?void 0:s.length)/12-1>e&&(e+=1),f(e)}}),[s]),Object(a.useEffect)((function(){var e=12*u,t=(null===s||void 0===s?void 0:s.length)<e+12?null===s||void 0===s?void 0:s.length:e+12;k(null===s||void 0===s?void 0:s.slice(e,t))}),[s,u]),Object(E.jsx)(J.a.Pane,{eventKey:"second",children:Object(E.jsxs)(pe.a,{fluid:!0,children:[Object(E.jsx)($.a,{children:N&&N.map((function(e,t){var a,c,r,i,o;return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(E.jsx)(X.a.Link,{as:qe.b,className:"my__nav__link__card",to:"/medicine/".concat(null===e||void 0===e||null===(a=e.medicine)||void 0===a?void 0:a.id,"/pharmacy/").concat(n,"/price/").concat(null===e||void 0===e?void 0:e.price),children:Object(E.jsxs)(se.a,{className:"my__card",style:{width:"18rem"},children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsx)(se.a.Title,{children:null===e||void 0===e||null===(c=e.medicine)||void 0===c?void 0:c.name}),Object(E.jsxs)(se.a.Text,{children:["#",null===e||void 0===e||null===(r=e.medicine)||void 0===r?void 0:r.code]}),Object(E.jsx)(se.a.Text,{children:null===e||void 0===e||null===(i=e.medicine)||void 0===i?void 0:i.content})]}),Object(E.jsxs)(me.a,{className:"list-group-flush",children:[Object(E.jsxs)(ze.a,{className:"my__flex",children:[null===e||void 0===e?void 0:e.price,"$"]}),Object(E.jsx)(ze.a,{className:"my__flex",children:s&&Object(ie.a)(Array(Math.ceil(null===e||void 0===e||null===(o=e.medicine)||void 0===o?void 0:o.avgGrade))).map((function(){return Object(E.jsx)(Ue.a,{className:"my__star"})}))})]})]})})},t)}))}),Object(E.jsx)($.a,{className:"my__row__pagination",children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===u,onClick:function(){0!==u&&b(u-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:u}),Object(E.jsx)(oe.a.Next,{disabled:u===x,onClick:function(){u!==x&&b(u+1)}})]})})})]})})};var Tt=function(e){var t=e.pharmacyId,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),u=o[0],b=o[1],h=Object(a.useState)(0),m=Object(l.a)(h,2),x=m[0],f=m[1],_=Object(a.useState)(0),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)([]),S=Object(l.a)(w,2),T=S[0],I=S[1],D=Object(a.useState)("none"),M=Object(l.a)(D,2),A=M[0],H=M[1],R=Object(a.useState)(0),G=Object(l.a)(R,2),Y=G[0],B=G[1],F=Object(a.useState)({}),q=Object(l.a)(F,2),V=q[0],K=q[1],z=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=P()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v.get("/api/patients/"+P()+"/points").catch((function(){}));case 4:return t=e.sent,B(t?t.data:0),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=P()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v.get("/api/ranking-category/points/"+Y).catch((function(){}));case 4:return t=e.sent,K(t?t.data:{}),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[Y]),Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/appointment/bypharmacyid/".concat(t)).catch((function(){}));case 2:return n=e.sent,b(n?n.data:[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,r]),Object(a.useEffect)((function(){var e=Math.floor((null===u||void 0===u?void 0:u.length)/12)-1;(null===u||void 0===u?void 0:u.length)/12-1>e&&(e+=1),k(e)}),[u,r]),Object(a.useEffect)((function(){var e=12*x,t=u.length<e+12?null===u||void 0===u?void 0:u.length:e+12;I(null===u||void 0===u?void 0:u.slice(e,t))}),[u,x,r]),Object(E.jsx)(J.a.Pane,{eventKey:"third",children:Object(E.jsxs)(pe.a,{fluid:!0,children:[Object(E.jsx)($.a,{className:"justify-content-center m-3",style:{display:0==u.length?"none":"flex"},children:Object(E.jsx)(d.a,{onSubmit:function(e){if(e.preventDefault(),"none"!==A){var n=new URLSearchParams;"ascPrice"===A&&n.append("sort","price,asc"),"descPrice"===A&&n.append("sort","price,desc"),"ascGrade"===A&&n.append("sort","worker.avgGrade,asc"),"descGrade"===A&&n.append("sort","worker.avgGrade,desc"),v.get("/api/appointment/bypharmacyid/".concat(t,"/sort"),{params:n}).then((function(e){return b(e.data)})).catch(b([]))}},children:Object(E.jsxs)(d.a.Group,{as:$.a,className:"align-items-center",children:[Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(d.a.Label,{children:"Choose sorter: "}),Object(E.jsxs)(d.a.Control,{as:"select",value:A,onChange:function(e){H(e.target.value)}.bind(this),name:"sorter",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"ascPrice",children:"Price (ascending)"}),Object(E.jsx)("option",{value:"descPrice",children:"Price (descending)"}),Object(E.jsx)("option",{value:"ascGrade",children:"Dermatologist grade (ascending)"}),Object(E.jsx)("option",{value:"descGrade",children:"Dermatologist grade (descending)"})]})]}),Object(E.jsxs)(Z.a,{className:"justify-content-center",children:[Object(E.jsxs)(j.a,{type:"submit",variant:"primary",children:[" ","Sort"," "]}),Object(E.jsxs)(j.a,{variant:"primary",onClick:function(){i(!r)},children:[" ","Reset"," "]})]})]})})}),Object(E.jsx)($.a,{children:T&&T.map((function(e,t){var n,a;return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(E.jsxs)(se.a,{className:"my__card",style:{width:"18rem"},children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsx)(se.a.Title,{children:null===e||void 0===e?void 0:e.appointmentType}),Object(E.jsx)(se.a.Text,{children:he()(e.startTime).format("DD MMM YYYY")}),Object(E.jsxs)(se.a.Text,{children:[he()(e.startTime).format("hh:mm a")," -"," ",he()(e.endTime).format("hh:mm a")]})]}),Object(E.jsxs)(me.a,{className:"list-group-flush",children:[Object(E.jsx)(ze.a,{className:"my__flex",style:{display:""===V||0===Object.keys(V).length?"flex":"none"},children:e.price}),Object(E.jsxs)(ze.a,{className:"my__flex",style:{display:""!==V&&0!==Object.keys(V).length?"flex":"none"},children:[Object(E.jsx)("span",{style:{textDecoration:"line-through"},children:e.price}),"   ->   ",e.price*(100-V.discount)/100]}),Object(E.jsxs)(ze.a,{className:"my__flex",children:[null===e||void 0===e||null===(n=e.worker)||void 0===n?void 0:n.lastName," ",null===e||void 0===e||null===(a=e.worker)||void 0===a?void 0:a.firstName]}),Object(E.jsx)(ze.a,{className:"my__flex",children:Object(E.jsx)(j.a,{variant:"secondary",onClick:function(){return t=e,void v.post("/api/appointment/reserve/"+t.id+"/patient/"+P()).then((function(e){z(e.data,{appearance:"success"}),i(!r)})).catch((function(e){z(g(e),{appearance:"error"}),i(!r)}));var t},style:{display:"PATIENT"===L()?"block":"none"},children:"Reserve"})})]})]})},t)}))}),Object(E.jsx)($.a,{className:"my__row__pagination",style:{display:0==u.length?"none":"flex"},children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===x,onClick:function(){0!==x&&f(x-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:x}),Object(E.jsx)(oe.a.Next,{disabled:x===N,onClick:function(){x!==N&&f(x+1)}})]})})}),Object(E.jsx)("h3",{style:{display:0==u.length?"block":"none",textAlign:"center",marginTop:"50px"},children:"There's no empty checkups!"})]})})};var It=function(e){var t=e.pharmacyId,n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(0),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)(0),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)([]),f=Object(l.a)(x,2),y=f[0],g=f[1];return Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/workplace/bypharmacyid/".concat(t)).catch((function(){}));case 2:return n=e.sent,i(n?n.data:[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){var e=Math.floor((null===r||void 0===r?void 0:r.length)/12)-1;(null===r||void 0===r?void 0:r.length)/12-1>e&&(e+=1),m(e)}),[r]),Object(a.useEffect)((function(){var e=12*d,t=r.length<e+12?null===r||void 0===r?void 0:r.length:e+12;g(null===r||void 0===r?void 0:r.slice(e,t))}),[r,d]),Object(E.jsx)(J.a.Pane,{eventKey:"forth",children:Object(E.jsxs)(pe.a,{fluid:!0,children:[Object(E.jsx)($.a,{children:y&&y.map((function(e,t){var n,a,c,r,i,s;return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(E.jsxs)(se.a,{className:"my__card",style:{width:"18rem"},children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:[null===e||void 0===e||null===(n=e.worker)||void 0===n?void 0:n.lastName," ",null===e||void 0===e||null===(a=e.worker)||void 0===a?void 0:a.firstName]}),Object(E.jsx)(se.a.Text,{children:null===e||void 0===e||null===(c=e.worker)||void 0===c?void 0:c.email}),Object(E.jsx)(se.a.Text,{children:null===e||void 0===e||null===(r=e.worker)||void 0===r?void 0:r.telephone})]}),Object(E.jsxs)(me.a,{className:"list-group-flush",children:[Object(E.jsx)(ze.a,{className:"my__flex",children:null===e||void 0===e||null===(i=e.worker)||void 0===i?void 0:i.roleName}),Object(E.jsx)(ze.a,{className:"my__flex",children:e&&Object(ie.a)(Array(Math.ceil(null===e||void 0===e||null===(s=e.worker)||void 0===s?void 0:s.avgGrade))).map((function(){return Object(E.jsx)(Ue.a,{className:"my__star"})}))})]})]})},t)}))}),Object(E.jsx)($.a,{className:"my__row__pagination",children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===d,onClick:function(){0!==d&&j(d-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:d}),Object(E.jsx)(oe.a.Next,{disabled:d===h,onClick:function(){d!==h&&j(d+1)}})]})})})]})})},Dt=function(e){var t=e.pharmacyId,n=Object(y.useToasts)().addToast,c=Object(a.useState)({}),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)({}),u=Object(l.a)(o,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){var e=b;0!=Object.keys(e)&&v({method:"post",url:"/api/pharmacy/e-recipe/".concat(t),data:e}).then((function(e){n(e.data,{appearance:"success"})})).catch((function(){n("E-Recipe is not in the pharmacy!",{appearance:"error"})}))}),[b]),Object(E.jsx)("div",{className:"consultation__insight__content",children:Object(E.jsx)(pe.a,{children:Object(E.jsx)(d.a,{onSubmit:function(e){!function(e){e.preventDefault(),e.stopPropagation();var t=new FormData;t.append("file",i),v({method:"post",url:"/api/e-recipes/upload-qr/".concat(P()),data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){h(e.data)})).catch((function(){n("Invalid QR code",{appearance:"error"})}))}(e)},children:Object(E.jsx)(pe.a,{style:{marginBottom:"15px"},children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{className:"my-auto",md:{span:4,offset:2},children:Object(E.jsxs)(d.a.File,{children:[Object(E.jsx)(d.a.File.Label,{children:"Upload QR Code"}),Object(E.jsx)(d.a.File.Input,{onChange:function(e){return function(e){s(e.target.files[0])}(e)}})]})}),Object(E.jsx)(Z.a,{className:"my-auto",md:{span:4,offset:2},children:Object(E.jsx)(j.a,{type:"submit",children:"Submit"})})]})})})})})};var Pt=function(){var e=Object(y.useToasts)().addToast,t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(b.i)().id;return Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/api/pharmacy/".concat(i)).then((function(e){r(e.data)})).catch((function(t){e(g(t),{appearance:"error"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[i]),Object(E.jsx)("div",{style:{height:"100vh"},children:Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"Basic informations"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"Medicines"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"third",children:"Appointsments"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"forth",children:"Pharmacists and dermatologists"})}),"PATIENT"===L()&&Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"fifth",children:"Check availability"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(wt,{details:c}),Object(E.jsx)(St,{priceListId:null===c||void 0===c?void 0:c.priceListId,pharmacyId:null===c||void 0===c?void 0:c.id}),Object(E.jsx)(Tt,{pharmacyId:i}),Object(E.jsx)(It,{pharmacyId:i}),Object(E.jsx)(Xe.a,{eventKey:"fifth",children:Object(E.jsx)(Dt,{pharmacyId:i})})]})})]})})})},Lt=n(107),Mt=n.n(Lt),Et=n(616);n(514);var At=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(null),u=Object(l.a)(d,2),h=u[0],m=u[1],x=Object(a.useState)({}),f=Object(l.a)(x,2),_=f[0],C=f[1],N=Object(y.useToasts)().addToast,k=Object(b.i)(),w=k.id,S=k.pid,T=k.priceid,I=Object(a.useState)(0),D=Object(l.a)(I,2),M=D[0],A=D[1],H=Object(a.useState)({}),R=Object(l.a)(H,2),G=R[0],Y=R[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/"+P()+"/points").catch((function(){}));case 2:return t=e.sent,A(t?t.data:0),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/ranking-category/points/"+M).catch((function(){}));case 2:return t=e.sent,Y(t?t.data:{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[M]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine/".concat(w)).catch((function(){}));case 2:return t=e.sent,c(t?t.data:{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pharmacy/medicine/".concat(w)).catch((function(){}));case 2:return t=e.sent,o(t?t.data:[]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}-1==S&&function(){e.apply(this,arguments)}()}),[w,S]),Object(E.jsx)("div",{className:"medicine__profile__container",children:Object(E.jsxs)("div",{className:"medicine__content",children:[Object(E.jsxs)("p",{className:"my__medicine__header",children:[Object(E.jsx)("h2",{children:n.name}),Object(E.jsx)("a",{href:"https://apotekaprojekat.herokuapp.com/api/medicine/".concat(w,"/get-pdf"),target:"_blank",rel:"noopener noreferrer",children:Object(E.jsx)("h4",{children:Object(E.jsx)(Et.a,{})})})]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Code: "}),n.code]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Content:"})," ",n.content]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Side effects:"})," ",n.sideEffects]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Daily intake: "}),n.dailyIntake]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Recipe:"})," ","REQUIRED"===n.recipeRequired?"Required":"Not required"]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Additional notes: "}),n.additionalNotes]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Average grade: "})," ",n.avgGrade]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Points: "}),n.points]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Type: "}),n.medicineType]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Form: "}),n.medicineForm]}),Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Manufacturer: "}),n.manufacturer]}),Object(E.jsxs)("div",{children:[Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",style:{display:0!==s.length||-1==S?"table":"none"},className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Address"}),Object(E.jsx)("th",{children:"Price"})]})}),Object(E.jsx)("tbody",{children:s&&s.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return function(e){C(e)}(e)},className:_.id===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.address}),Object(E.jsx)("td",{children:e.price})]},e.id)}))})]}),Object(E.jsxs)("div",{style:{display:"PATIENT"===L()?"block":"none"},children:[Object(E.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(E.jsx)("span",{className:"my__start_paragraph",children:"Pickup deadline: "}),Object(E.jsx)(Mt.a,{closeOnScroll:!0,selected:h,dateFormat:"dd/MM/yyyy",onChange:function(e){return m(e)},isClearable:!0})]}),Object(E.jsxs)("p",{style:{textAlign:"center",display:""==G?"none":"block"},children:["You have a discount of ",G.discount,"%"]}),Object(E.jsxs)("p",{style:{textAlign:"center",fontSize:"1.3rem",display:-1==S&&0!=Object.keys(_).length?"block":"none"},children:["Total price:"," ",Object(E.jsx)("span",{style:{textDecoration:"line-through"},children:_.price}),"   ->   ",_.price*(100-G.discount)/100]}),Object(E.jsxs)("p",{style:{textAlign:"center",fontSize:"1.3rem",display:-1!=S?"block":"none"},children:["Total price:"," ",Object(E.jsx)("span",{style:{textDecoration:"line-through"},children:T}),"   ->   ",T*(100-G.discount)/100]}),Object(E.jsx)(j.a,{variant:"info",onClick:function(){if(h&&h<new Date)N("Choose date from the future!",{appearance:"warning"});else{var e={pickupDate:h.getTime(),medicineId:w,pharmacyId:-1==S?_.id:S,userId:P(),price:-1==T?_.price:T};v.post("/api/medicine-reservation/",e).then((function(e){N(e.data,{appearance:"success"})})).catch((function(e){N(g(e),{appearance:"error"})})),C({}),m(null)}},disabled:null==h||0===Object.keys(_).length&&-1==S,style:{marginBottom:"25px"},children:"Reserve"})]})]})]})})};var Ht=function(e){return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:e.title})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsx)("p",{class:"text-danger",children:e.bodyText?e.bodyText:"Delete this item?"})}),Object(E.jsxs)(Oe.a.Footer,{children:[Object(E.jsx)(j.a,{variant:"danger",onClick:e.onDelete,children:"Confirm"}),Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})]}))},Rt=n(617),Gt=n(171),Yt=n(263),Bt=n(264),Ft=n(266),qt=n(162),Vt=function(e){var t=e.onChange,n=e.defAddress,c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(n&&n.location?[n.location.longitude,n.location.latitude]:[20.4820788,44.7901252]),h=Object(l.a)(b,2),O=h[0],p=h[1],m=Object(a.useState)({}),x=Object(l.a)(m,2),f=x[0],y=x[1],g=Object(a.useState)({}),_=Object(l.a)(g,2),C=_[0],N=_[1],k=Object(a.useRef)();Object(a.useRef)().current=i,Object(a.useEffect)((function(){var e=new Rt.a({type:"icon",geometry:new Gt.a(Object(ce.d)(O))}),t=new qt.b({image:new Ft.a({anchor:[.5,1],src:"http://cdn.mapmarker.io/api/v1/pin?text=P&size=30&hoffset=1"})});e.setStyle(t);var n=new Bt.a({features:[e]}),a=new Yt.a({source:n}),c=new ee.a({target:k.current,layers:[new ne.a({source:new te.a}),a],view:new ae.a({center:Object(ce.d)(O),zoom:16,min:4,max:20})});c.on("click",w),u(a),s(c)}),[]);var w=function(e){var t=e.coordinate,n=Object(ce.o)(t,"EPSG:3857","EPSG:4326");p(n),S(n),console.log(n)},S=function(e){var t="https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+e[1]+"&lon="+e[0];v.get(t).then((function(e){var t=e.data;T(t)})).catch((function(){}))},T=function(e){var n=e.address,a={longitude:e&&e.lon?e.lon:"",latitude:e&&e.lat?e.lat:""},c={city:n&&n.city?n.city:"",street:n&&n.road?"".concat(n.road," ").concat(n.house_number?n.house_number:""):"",country:n&&n.country?n.country:"",location:a};t(c),N(a),y(c)};return Object(a.useEffect)((function(){if(O&&i){var e=new Rt.a({type:"icon",geometry:new Gt.a(Object(ce.d)(O))}),t=new qt.b({image:new Ft.a({anchor:[.5,1],src:"http://cdn.mapmarker.io/api/v1/pin?text=P&size=30&hoffset=1"})});e.setStyle(t);var n=new Bt.a({features:[e]}),a=new Yt.a({source:n});i.removeLayer(j),i.addLayer(a),u(a)}}),[O]),Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsx)("div",{className:"row h-100 w-100 mt-4",children:Object(E.jsx)("div",{className:"col-lg-12",style:{height:"300px",width:"500px"},children:Object(E.jsx)("div",{className:"h-100 w-100",id:"pharmacyMap",ref:k})})}),Object(E.jsxs)("div",{className:"row w-100 mt-4",children:[Object(E.jsxs)("div",{className:"col-lg-6",children:[Object(E.jsx)("label",{for:"longPharmacy",children:"Longitude"}),Object(E.jsx)("input",{className:"form-control",id:"longPharmacy",value:C.longitude,defaultValue:n?n.location.longitude:"",disabled:!0})]}),Object(E.jsxs)("div",{className:"col-lg-6",children:[Object(E.jsx)("label",{for:"latPharmacy",children:"Latitude"}),Object(E.jsx)("input",{className:"form-control",id:"latPharmacy",value:C.latitude,defaultValue:n?n.location.latitude:"",disabled:!0})]})]}),Object(E.jsxs)("div",{className:"row w-100 mt-4",children:[Object(E.jsxs)("div",{className:"col-lg-4",children:[Object(E.jsx)("label",{for:"streetPharmacy",children:"Street"}),Object(E.jsx)("input",{className:"form-control",id:"streetPharmacy",value:f.street,defaultValue:n?n.street:"",disabled:!0})]}),Object(E.jsxs)("div",{className:"col-lg-4",children:[Object(E.jsx)("label",{for:"cityPharmacy",children:"City"}),Object(E.jsx)("input",{className:"form-control",id:"cityPharmacy",value:f.city,defaultValue:n?n.city:"",disabled:!0})]}),Object(E.jsxs)("div",{className:"col-lg-4",children:[Object(E.jsx)("label",{for:"countryPharmacy",children:"Country"}),Object(E.jsx)("input",{className:"form-control",id:"countryPharmacy",value:f.country,defaultValue:n?n.country:"",disabled:!0})]})]})]})};var Kt=function(e){var t=Object(a.useState)({pharmacyAdmin:{id:-1,name:""},name:"",description:"",pointsForAppointment:0,address:{city:"",street:"",country:"",location:{latitude:0,longitude:0}}}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),u=Object(l.a)(i,2),b=u[0],h=u[1],m=Object(a.useState)({}),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)([]),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)([]),T=Object(l.a)(S,2),I=T[0],D=T[1],P=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/users/?type=PHARMACY_ADMIN").then((function(e){w(e.data)})).catch((function(){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var L=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},e,t))),f[e]&&_(Object(o.a)(Object(o.a)({},f),{},Object(s.a)({},e,null)))},M=function(){var t=A();v.post("/api/pharmacy/",t).then((function(){r({}),e.onSuccess(),e.onHide(),P("Pharmacy added successfully.",{appearance:"success"})})).catch((function(e){P(g(e),{appearance:"error"})}))},A=function(){var e={};return e.name=c.name,e.description=c.description,e.address=b,e.admins=I.map((function(e){return{id:e.id,name:"".concat(e.firstName," ").concat(e.lastName)}})),e};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",dialogClassName:"modal-50w",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add new pharmacy"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Admins"}),Object(E.jsx)(Qe.b,{id:"basic-typeahead-multiple-admins",labelKey:function(e){return"".concat(e.firstName," ").concat(e.lastName)},multiple:!0,onChange:D,options:k,placeholder:"Select admins...",selected:I,renderToken:function(e,t,n){var a=t.onRemove;return Object(E.jsx)(Qe.a,{onRemove:a,option:e,children:"".concat(e.firstName," ").concat(e.lastName)},n)}})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Name"}),Object(E.jsx)(d.a.Control,{type:"text",placeholder:"Name",isInvalid:!!f.name,onChange:function(e){return L("name",e.target.value)}}),Object(E.jsx)(d.a.Control.Feedback,{type:"invalid",children:f.name})]}),Object(E.jsxs)(d.a.Group,{controlId:"pharmacyDescription",children:[Object(E.jsx)(d.a.Label,{children:"Description"}),Object(E.jsx)(d.a.Control,{type:"text",placeholder:"Description",isInvalid:!!f.description,onChange:function(e){return L("description",e.target.value)}}),Object(E.jsx)(d.a.Control.Feedback,{type:"invalid",children:f.description})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Points for appointment"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return L("pointsForAppointment",e.target.value)},defaultValue:0,min:0,max:1e4,step:1})]}),Object(E.jsx)(Vt,{onChange:function(e){return h(e)}}),Object(E.jsx)(j.a,{variant:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation();var t=function(){var e=c.name,t=c.description,n={};return e&&""!==e?e.length>40&&(n.name="Name is too long!"):n.name="Name cannot be blank!",t&&""!==t?t.length>300&&(n.description="Description is too long!"):n.description="Description cannot be blank!",n}();Object.keys(t).length>0?_(t):!function(){var e=b.city,t=b.street,n=b.country;return!(!e||""===e)&&!(!t||""===t)&&!(!n||""===n)}()?P("Please select valid address",{appearance:"warning"}):I||0===I.length?M():P("Please select pharmacy admins",{appearance:"warning"})},children:"Submit"})]})}),Object(E.jsx)(Oe.a.Footer,{})]}))};var zt=function(e){var t=Object(a.useState)({name:e.pharmacy.name||"",description:e.pharmacy.description||"",pointsForAppointment:e.pharmacy.pointsForAppointment||"",address:e.pharmacy.address}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),u=Object(l.a)(i,2),b=u[0],h=u[1],O=Object(a.useState)({}),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)([]),_=Object(l.a)(f,2),C=(_[0],_[1],Object(a.useState)()),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(y.useToasts)().addToast,T=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},e,t))),b[e]&&h(Object(o.a)(Object(o.a)({},b),{},Object(s.a)({},e,null)))},I=function(){var t=D();v.put("/api/pharmacy/"+e.pharmacy.id,t).then((function(){r({}),S("Pharmacy updated successfully.",{appearance:"success"}),e.onSuccess(),e.onHide()})).catch((function(e){S(g(e),{appearance:"error"})}))},D=function(){var t={};return t.id=e.pharmacy.id,t.pharmacyAdmin=k,t.name=c.name,t.description=c.description,t.pointsForAppointment=c.pointsForAppointment,t.address=m,t};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",dialogClassName:"modal-50w",centered:!0,onShow:function(){r(Object(o.a)(Object(o.a)({},c),{},{name:e.pharmacy.name||"",description:e.pharmacy.description||"",pointsForAppointment:e.pharmacy.pointsForAppointment||"",address:e.pharmacy.address})),x(e.pharmacy.address),w([])},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Edit pharmacy"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Pharmacy admin"}),Object(E.jsx)(d.a.Control,{as:"select",custom:!0,children:!!e.pharmacy.admins&&e.pharmacy.admins.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.name})}))})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Name"}),Object(E.jsx)(d.a.Control,{type:"text",defaultValue:e.pharmacy.name,isInvalid:!!b.name,onChange:function(e){return T("name",e.target.value)}}),Object(E.jsx)(d.a.Control.Feedback,{type:"invalid",children:b.name})]}),Object(E.jsxs)(d.a.Group,{controlId:"pharmacyDescription",children:[Object(E.jsx)(d.a.Label,{children:"Description"}),Object(E.jsx)(d.a.Control,{type:"text",defaultValue:e.pharmacy.description,isInvalid:!!b.description,onChange:function(e){return T("description",e.target.value)}}),Object(E.jsx)(d.a.Control.Feedback,{type:"invalid",children:b.description})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Points for appointment"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return T("pointsForAppointment",e.target.value)},defaultValue:e.pharmacy.pointsForAppointment,min:0,max:100,step:.01})]}),Object(E.jsx)(Vt,{onChange:function(e){return x(e)},defAddress:e.pharmacy.address}),Object(E.jsx)(j.a,{variant:"primary",onClick:function(e){e.preventDefault(),e.stopPropagation();var t=function(){var e=c.name,t=c.description,n={};return e&&""!==e?e.length>40&&(n.name="Name is too long!"):n.name="Name cannot be blank!",t&&""!==t?t.length>300&&(n.description="Description is too long!"):n.description="Description cannot be blank!",n}();Object.keys(t).length>0?h(t):!function(){var e=m.city,t=m.street,n=m.country;return!(!e||""===e)&&!(!t||""===t)&&!(!n||""===n)}()?S("Please select valid address",{appearance:"warning"}):I()},children:"Submit"})]})}),Object(E.jsx)(Oe.a.Footer,{})]}))};var Ut=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)(!1),f=Object(l.a)(x,2),_=f[0],C=f[1],N=Object(a.useState)(!1),k=Object(l.a)(N,2),w=k[0],S=k[1],T=Object(a.useState)(!1),I=Object(l.a)(T,2),D=I[0],P=I[1],L=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pharmacy/crud").catch((function(){}));case 2:t=e.sent,m(t?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var M=function(){r(!c)};return Object(E.jsxs)(pe.a,{style:{marginTop:"10px"},children:[Object(E.jsx)($.a,{className:"justify-content-md-between",children:Object(E.jsx)(j.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return C(!0)},children:"Add new pharmacy"})}),Object(E.jsxs)(je.a,{striped:!0,bordered:!0,hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Descriptioin"}),Object(E.jsx)("th",{children:"Actions"})]})}),Object(E.jsx)("tbody",{children:h.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){d(e)},children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.description}),Object(E.jsxs)("td",{children:[Object(E.jsx)(j.a,{onClick:function(){return S(!0)},children:"Edit"}),Object(E.jsx)(j.a,{variant:"danger",onClick:function(){return P(!0)},children:"Delete"})]})]},e.id)}))})]}),Object(E.jsx)(Kt,{show:_,onHide:function(){return C(!1)},onSuccess:M}),Object(E.jsx)(zt,{show:w,pharmacy:o,onHide:function(){return S(!1)},onSuccess:M}),Object(E.jsx)(Ht,{title:"Remove "+o.name,show:D,onHide:function(){return P(!1)},onDelete:function(){v.delete("/api/pharmacy/"+o.id).then((function(){M(),P(!1),L("Pharmacy deleted successfully.",{appearance:"success"})})).catch((function(e){L(g(e),{appearance:"error"})}))}})]})},Wt=function(e){return Object(E.jsx)("div",{})},Qt=function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(Wt,{}),Object(E.jsx)(Ut,{children:" "})]})};var Jt=function(){return Object(E.jsx)("div",{})},$t=function(e){var t=e.medicine,n=e.onClick,a=e.editClick,c=(e.detailsClick,e.deleteClick);return Object(E.jsxs)("tr",{onClick:n,children:[Object(E.jsx)("td",{children:t.name}),Object(E.jsx)("td",{children:t.code}),Object(E.jsx)("td",{children:t.content}),Object(E.jsx)("td",{children:Object(E.jsxs)("span",{children:[Object(E.jsx)(j.a,{onClick:a,children:"Edit"}),Object(E.jsx)(j.a,{variant:"danger",onClick:c,children:"Delete"}),Object(E.jsxs)(j.a,{variant:"info",onClick:function(){return window.open("https://apotekaprojekat.herokuapp.com/api/medicine/".concat(t.id,"/get-pdf"),"_blank")},children:[" ","Details"]})]})})]},t.id)};var Zt=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Medicine Name *",placeholder:"Enter medicine name...",minLength:1,maxLength:50,onChange:function(t){e.onChange(t)},required:!0}))};var Xt=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Medicine Code *",placeholder:"Enter medicine code...",minLength:1,maxLength:30,onChange:function(t){e.onChange(t)},required:!0}))};var en=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Medicine Content *",placeholder:"Enter medicine content...",minLength:1,maxLength:200,onChange:function(t){e.onChange(t)},required:!0}))};var tn=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Side effects *",placeholder:"Enter side effects...",minLength:1,maxLength:250,onChange:function(t){e.onChange(t)},required:!0}))};var nn=function(e){return Object(E.jsx)(H,Object(o.a)(Object(o.a)({},e),{},{name:"Additional notes",placeholder:"Additional notes...",minLength:0,maxLength:250,onChange:function(t){e.onChange(t)},required:!1}))};n(583);var an=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),u=Object(l.a)(i,2),b=u[0],h=u[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)([]),_=Object(l.a)(f,2),C=_[0],N=_[1],k=Object(a.useState)([]),w=Object(l.a)(k,2),S=w[0],T=w[1],I=Object(a.useState)([]),P=Object(l.a)(I,2),L=P[0],M=P[1],A=Object(y.useToasts)().addToast,H=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},e,t)))};function R(){v.get("/api/medicine/").then((function(e){x(e.data)})).catch((function(){}))}Object(a.useEffect)((function(){R()}),[]);var G=function(){var t=Object(o.a)(Object(o.a)({},c),{},{alternativeMedicine:b});c.medicineTypeName&&c.medicineFormName&&c.manufacturerName&&c.recipeRequired?v.post("/api/medicine/",t).then((function(){r({}),e.onSuccess(),e.onHide(),A("Medicine added successfully.",{appearance:"success"})})).catch((function(e){A(g(e),{appearance:"error"})})):A("Please fill required fields",{appearance:"error"})};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{centered:!0,onShow:function(){r(Object(o.a)(Object(o.a)({},c),{},{recipeRequired:"REQUIRED",dailyIntake:0,points:0,alternativeMedicine:[]})),R(),v.get("/api/medicine-types/").then((function(e){N(e.data),H("medicineTypeName",e.data[0].name||"")})).catch((function(){})),v.get("/api/medicine-forms/").then((function(e){M(e.data),H("medicineFormName",e.data[0].name||"")})).catch((function(){})),v.get("/api/manufacturers/").then((function(e){T(e.data),H("manufacturer",e.data[0].name||"")})).catch((function(){})),h([])},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{children:"Add new medicine"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),D.medicineName(c.name)&&D.medicineCode(c.code)&&D.medicineContent(c.content)&&D.sideEffects(c.sideEffects)&&D.additionalNotes(c.additionalNotes,!1)&&G()},children:[Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(Zt,{onChange:function(e){return H("name",e.target.value)}})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(Xt,{onChange:function(e){return H("code",e.target.value)}})})]}),Object(E.jsx)(en,{onChange:function(e){return H("content",e.target.value)}}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine Type *"}),Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){return H("medicineTypeName",e.target.value)},defaultValue:c.medicineTypeName,children:[Object(E.jsx)("option",{value:"",children:"Select..."}),C.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name})}))]})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine Form *"}),Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){return H("medicineFormName",e.target.value)},defaultValue:c.medicineFormName,children:[Object(E.jsx)("option",{value:"",children:"Select..."}),L.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name})}))]})]})})]}),Object(E.jsx)(tn,{onChange:function(e){return H("sideEffects",e.target.value)}}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:4,children:Object(E.jsxs)(d.a.Group,{controlId:"userTypeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Recipe Required *"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return H("recipeRequired",e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select..."}),Object(E.jsx)("option",{value:"REQUIRED",children:"Required"}),Object(E.jsx)("option",{value:"NOTREQUIRED",children:"Not required"})]})]})}),Object(E.jsx)(Z.a,{md:4,children:Object(E.jsxs)(d.a.Group,{controlId:"userTypeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Daily Intake"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return H("dailyIntake",e.target.value)},defaultValue:0,step:"0.1",min:"0",max:"10"})]})}),Object(E.jsx)(Z.a,{md:4,children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Points"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return H("points",e.target.value)},defaultValue:0,min:0,max:1e4,step:1})]})})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Manufacturer *"}),Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){return H("manufacturerName",e.target.value)},value:c.manufacturerName,children:[Object(E.jsx)("option",{value:"",children:"Select...."}),S.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name})}))]})]}),Object(E.jsx)(nn,{onChange:function(e){return H("additionalNotes",e.target.value)}}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine substitutes"}),Object(E.jsx)(Qe.b,{id:"basic-typeahead-multiple",labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},multiple:!0,onChange:h,options:m,placeholder:"Select substitutes...",selected:b,renderToken:function(e,t,n){var a=t.onRemove;return Object(E.jsx)(Qe.a,{onRemove:a,option:e,children:"".concat(e.name)},n)}})]}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})})]}))};var cn=function(e){var t,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],u=Object(a.useState)(),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(),m=Object(l.a)(p,2),x=m[0],f=m[1],_=Object(a.useState)(),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)(),S=Object(l.a)(w,2),T=S[0],I=S[1],P=Object(a.useState)(),L=Object(l.a)(P,2),M=L[0],A=L[1],H=Object(a.useState)(),R=Object(l.a)(H,2),G=R[0],Y=R[1],B=Object(a.useState)(),F=Object(l.a)(B,2),q=F[0],V=F[1],K=Object(a.useState)(),z=Object(l.a)(K,2),U=z[0],W=z[1],Q=Object(a.useState)(),J=Object(l.a)(Q,2),X=J[0],ee=J[1],te=Object(a.useState)(),ne=Object(l.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(),ie=Object(l.a)(re,2),se=ie[0],oe=ie[1],le=Object(a.useState)([]),de=Object(l.a)(le,2),je=de[0],ue=de[1],be=Object(a.useState)([]),he=Object(l.a)(be,2),pe=he[0],me=he[1],xe=Object(a.useState)([]),fe=Object(l.a)(xe,2),ve=fe[0],ye=fe[1],ge=Object(a.useState)([]),_e=Object(l.a)(ge,2),Ce=_e[0],Ne=_e[1],ke=Object(a.useState)([]),we=Object(l.a)(ke,2),Se=we[0],Te=we[1],Ie=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){v.get("/api/medicine/").then((function(e){me(e.data)})).catch((function(){})),v.get("/api/medicine-types/").then((function(e){ye(e.data)})).catch((function(){})),v.get("/api/medicine-forms/").then((function(e){Ne(e.data)})).catch((function(){})),v.get("/api/manufacturers/").then((function(e){Te(e.data)})),ue(e.medicine.substitutes||[]),O(e.medicine.name),i(e.medicine.code),f(e.medicine.content),k(e.medicine.medicineType?e.medicine.medicineType.name:""),I(e.medicine.medicineForm?e.medicine.medicineForm.name:""),A(e.medicine.sideEffects),Y(e.medicine.recipeRequired),V(e.medicine.dailyIntake),W(e.medicine.points),ee(e.medicine.manufacturer?e.medicine.manufacturer.name:""),ce(e.medicine.additionalNotes),oe(e.medicine.alternativeMedicine)}),[e.medicine]);var De=function(){var t={code:r,name:h,content:x,medicineTypeName:N,medicineFormName:T,sideEffects:M,recipeRequired:G,dailyIntake:q,points:U,manufacturerName:X,additionalNotes:ae,alternativeMedicine:je};v.put("/api/medicine/"+e.medicine.id,t).then((function(){e.onSuccess(),e.onHide(),Ie("Medicine updated successfully.",{appearance:"success"})})).catch((function(e){Ie(g(e),{appearance:"error"})}))};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){e.pharmacy},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsxs)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:["Edit ",e.medicine.name]})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),D.medicineName(h)&&D.medicineCode(r)&&D.medicineContent(x)&&D.sideEffects(M)&&D.additionalNotes(ae,!1)&&De()},children:[Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(Zt,{onChange:function(e){return O(e.target.value)},defaultValue:e.medicine.name?e.medicine.name:"",value:h})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(Xt,{onChange:function(e){return i(e.target.value)},defaultValue:e.medicine.code?e.medicine.code:"",value:r})})]}),Object(E.jsx)(en,{onChange:function(e){return f(e.target.value)},defaultValue:e.medicine.content?e.medicine.content:""}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine Type *"}),Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){return k(e.target.value)},defaultValue:e.medicine&&e.medicine.medicineType?e.medicine.medicineType.name:"",value:N,children:[Object(E.jsx)("option",{value:"",children:"Select...."}),ve.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine Form *"}),Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){return I(e.target.value)},defaultValue:e.medicine.medicineForm?e.medicine.medicineForm.name:"",value:T,children:[Object(E.jsx)("option",{value:"",children:"Select...."}),Ce.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]})})]}),Object(E.jsx)(tn,{onChange:function(e){return A(e.target.value)},defaultValue:e.medicine.sideEffects?e.medicine.sideEffects:"",value:M}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:4,children:Object(E.jsxs)(d.a.Group,{controlId:"userTypeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Recipe Required"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){return Y(e.target.value)},defaultValue:e.medicine.recipeRequired,value:G,children:[Object(E.jsx)("option",{value:"REQUIRED",children:"Required"}),Object(E.jsx)("option",{value:"NOTREQUIRED",children:"Not required"})]})]})}),Object(E.jsx)(Z.a,{md:4,children:Object(E.jsxs)(d.a.Group,{controlId:"userTypeSelect",children:[Object(E.jsx)(d.a.Label,{children:"Daily Intake"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return V(e.target.value)},step:"0.1",min:"0",max:"10",defaultValue:e.medicine.dailyIntake,value:q})]})}),Object(E.jsx)(Z.a,{md:4,children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Points"}),Object(E.jsx)(d.a.Control,(t={type:"number",onChange:function(e){return W(e.target.value)},defaultValue:e.medicine.points,min:0,max:1e4,step:1},Object(s.a)(t,"defaultValue",e.medicine.dailyIntake),Object(s.a)(t,"value",U),t))]})})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Manufacturer *"}),Object(E.jsxs)(d.a.Control,{as:"select",custom:!0,onChange:function(e){return ee(e.target.value)},defaultValue:e.medicine.manufacturer?e.medicine.manufacturer:"",value:X,children:[Object(E.jsx)("option",{value:"",children:"Select...."}),Se.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(E.jsx)(nn,{onChange:function(e){return ce(e.target.value)},defaultValue:e.medicine.additionalNotes}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Substitutes: "}),!!se&&se.map((function(e){return" ".concat(e.name," ")}))]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine substitutes"}),Object(E.jsx)(Qe.b,{id:"basic-typeahead-multiple",labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},multiple:!0,onChange:ue,options:pe,placeholder:"Select substitutes...",selected:je,renderToken:function(e,t,n){var a=t.onRemove;return Object(E.jsx)(Qe.a,{onRemove:a,option:e,children:"".concat(e.name)},n)}})]}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(E.jsx)(Oe.a.Footer,{})]}))},rn=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(y.useToasts)().addToast;return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine type"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),v.post("/api/medicine-types/".concat(c)).then((function(){i("Medicine type added successfully",{appearance:"success"}),e.onHide()})).catch((function(e){i(g(e),{appearance:"error"})}))},children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine type"}),Object(E.jsx)(d.a.Control,{type:"text",onChange:function(e){return r(e.target.value)},required:!0})]}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Confirm"}),Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})})]}))},sn=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(y.useToasts)().addToast;return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine form"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),v.post("/api/medicine-forms/".concat(c)).then((function(){i("Medicine form added successfully",{appearance:"success"}),e.onHide()})).catch((function(e){i(g(e),{appearance:"error"})}))},children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine form"}),Object(E.jsx)(d.a.Control,{type:"text",onChange:function(e){return r(e.target.value)},required:!0})]}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Confirm"}),Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})})]}))},on=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(y.useToasts)().addToast;return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine manufacturer"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),v.post("/api/manufacturers/".concat(c)).then((function(){i("Manufacturer added successfully",{appearance:"success"}),e.onHide()})).catch((function(e){i(g(e),{appearance:"error"})}))},children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Manufacturer"}),Object(E.jsx)(d.a.Control,{type:"text",onChange:function(e){return r(e.target.value)},required:!0})]}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Confirm"}),Object(E.jsx)(j.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})})]}))};var ln=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)([]),u=Object(l.a)(d,2),b=u[0],h=u[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)(!1),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(!1),T=Object(l.a)(S,2),I=T[0],D=T[1],P=Object(a.useState)(!1),L=Object(l.a)(P,2),M=L[0],A=L[1],H=Object(a.useState)(!1),R=Object(l.a)(H,2),G=R[0],Y=R[1],B=Object(a.useState)(!1),F=Object(l.a)(B,2),q=F[0],V=F[1],K=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine/crud").catch((function(){}));case 2:t=e.sent,h(t?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var z=function(){c(!n)};return Object(E.jsxs)(pe.a,{style:{marginTop:"10px"},className:"justify-content-center",children:[Object(E.jsxs)($.a,{className:"justify-content-md-between",children:[Object(E.jsx)(j.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return _(!0)},children:"Add new medicine"}),Object(E.jsx)(j.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return w(!0)},children:"Add new medicine type"}),Object(E.jsx)(j.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return D(!0)},children:"Add new medicine form"}),Object(E.jsx)(j.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return A(!0)},children:"Add new medicine manufacturer"})]}),Object(E.jsxs)(je.a,{striped:!0,bordered:!0,hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Ingredients"}),Object(E.jsx)("th",{children:"Actions"})]})}),Object(E.jsx)("tbody",{children:b.map((function(e){return Object(E.jsx)($t,{medicine:e,onClick:function(){o(e)},editClick:function(){return Y(!0)},deleteClick:function(){return V(!0)}},e.id)}))})]}),Object(E.jsx)(an,{show:f,onHide:function(){return _(!1)},onSuccess:z}),Object(E.jsx)(rn,{show:k,onHide:function(){return w(!1)}}),Object(E.jsx)(sn,{show:I,onHide:function(){return D(!1)}}),Object(E.jsx)(on,{show:M,onHide:function(){return A(!1)}}),Object(E.jsx)(Ht,{title:"Remove "+s.name,show:q,onHide:function(){return V(!1)},onDelete:function(){v.delete("/api/medicine/"+s.id).then((function(){z(),V(!1),K("Medicine deleted successfully.",{appearance:"success"})})).catch((function(e){K(g(e),{appearance:"error"})}))}}),Object(E.jsx)(cn,{show:G,medicine:s,onHide:function(){return Y(!1)},onSuccess:z})]})},dn=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)(Jt,{children:" "}),Object(E.jsx)(ln,{children:" "})]})},jn=n(618),un=n(336),bn=n.n(un);var hn=function(e){var t=Object(b.g)(),n=Object(y.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),i=r[0],s=r[1],d=function(t){if(he()(Date.now())>he()(t.start).add(5,"minutes")){var a=new FormData;a.append("id",t.id),v.post("/api/appointment/cancel_appointment",a).then((function(){n("Appointment cancelled! Patient didn't show up!",{appearance:"info"}),function(){var t=new FormData;t.append("patient",null===e||void 0===e?void 0:e.info.patient),t.append("worker",null===e||void 0===e?void 0:e.info.worker),v.post("/api/appointment/byPatWorker",t).then((function(e){return s(e.data)})).catch((function(){return s([])}))}()})).catch((function(){return n("You can't cancel this appointment yet!",{appearance:"error"})}))}else n("You can't cancel this appointment yet!",{appearance:"error"})};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){function t(){return(t=Object(p.a)(O.a.mark((function t(){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("patient",null===e||void 0===e?void 0:e.info.patient),n.append("worker",null===e||void 0===e?void 0:e.info.worker),a=v.post("/api/appointment/byPatWorker",n).then((function(e){return s(e.data)})).catch((function(){return s([])})),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onHide:function(){e.onCloseModal(),s([])},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsxs)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:["Your upcomming appointments for ",e.info.patientName]})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(pe.a,{children:[0===i.length&&Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)("h3",{children:"No result!"})}),i.map((function(e,a){return Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsx)(Z.a,{children:Object(E.jsxs)(se.a,{fluid:!0,children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:["Date:"," ",Object(E.jsx)(bn.a,{format:"DD/MM/yyyy HH:mm",children:e.start})]}),Object(E.jsx)(se.a.Text,{children:"DERMATOLOGIST"===L().trim()&&Object(E.jsxs)("div",{children:["Pharmacy: ",e.pharmacy," "]})})]}),Object(E.jsx)(se.a.Footer,{children:Object(E.jsxs)(jn.a,{children:[Object(E.jsx)(j.a,{onClick:function(){return function(e){if(he()(Date.now())>he()(e.start).subtract(15,"minutes")){var a=new FormData;a.append("id",e.id),v.post("/api/appointment/start_appointment",a).then((function(){t.push({pathname:"/worker/appointment_report",state:{appointmentID:e.id}})})).catch((function(){return n("You can't start this appointment yet!",{appearance:"error"})}))}else n("You can't start this appointment yet!",{appearance:"error"})}(e)},children:"Start appointment"}),Object(E.jsx)(j.a,{onClick:function(){return d(e)},children:"Patient didn't show up"})]})})]})})},a)}))]})}),Object(E.jsx)(Oe.a.Footer,{})]}))};var On=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)({}),f=Object(l.a)(x,2),g=f[0],_=f[1],C=Object(a.useState)(!1),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)("Loading..."),T=Object(l.a)(S,2),I=T[0],D=T[1],L=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/all").then((function(e){return c(e.data)})).catch((function(){return c([])}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5 pb-3 pl-3 pr-3 align-items-center",children:Object(E.jsx)("h4",{className:"my_content_header",children:"Search for registered patients"})}),Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsx)(d.a,{onSubmit:function(e){e.preventDefault(),D("Loading..."),0===s.length&&0===h.length?v.get("/api/patients/all").then((function(e){c(e.data),0===e.data.length&&D("No result!")})).catch((function(){c([]),D("No result!")})):v.get("/api/patients/search",{params:{firstName:s,lastName:h}}).then((function(e){c(e.data),0===e.data.length&&D("No result!")})).catch((function(){c([]),D("No result!")}))},children:Object(E.jsxs)(d.a.Group,{as:$.a,className:"align-items-center search_field",children:[Object(E.jsx)(d.a.Label,{children:" First name: "}),Object(E.jsx)(Z.a,{children:Object(E.jsx)(d.a.Control,{type:"text",name:"firstName",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Enter first name..."})}),Object(E.jsx)(d.a.Label,{children:" Last name: "}),Object(E.jsx)(Z.a,{children:Object(E.jsx)(d.a.Control,{type:"text",name:"lastName",value:h,onChange:function(e){return m(e.target.value)},placeholder:"Enter last name..."})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(jn.a,{size:"sm",children:[Object(E.jsxs)(j.a,{type:"submit",variant:"primary",children:[" ","Search"," "]}),Object(E.jsxs)(j.a,{variant:"primary",onClick:function(){D("Loading..."),v.get("/api/patients/all").then((function(e){c(e.data),0===e.data.length&&D("No result!")})).catch((function(){return c([])})),o(""),m("")},children:[" ","Reset search"," "]})]})})]})})}),Object(E.jsx)($.a,{className:"justify-content-center mt-3 ml-3 mr-3 pb-3",children:Object(E.jsxs)(Z.a,{md:6,children:[0===n.length&&Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)("h3",{children:I})}),n.map((function(e,t){return console.log(e),Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsx)(Z.a,{children:Object(E.jsx)(se.a,{fluid:!0,className:"card_appt_home",children:Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:[e.firstName+" "+e.lastName," "]}),Object(E.jsx)(se.a.Footer,{className:"justify-content-right",children:Object(E.jsx)($.a,{className:"justify-content-center align-items-center",children:Object(E.jsxs)(j.a,{variant:"secondary",onClick:function(){return function(e){var t=P();if(!t)return L("Token error!",{appearance:"error"}),void c([]);_({patient:null===e||void 0===e?void 0:e.email,worker:t,patientName:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.lastName)}),w(!0)}(e)},children:["Upcomming appointments with"," ",e.firstName+" "+e.lastName]})})})]})})})},t)}))]})}),Object(E.jsx)(hn,{show:k,info:g,onCloseModal:function(){w(!1),_({})}})]})};n(322);var pn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(""),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)({}),f=Object(l.a)(x,2),g=f[0],_=f[1],C=Object(a.useState)(!1),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(null),T=Object(l.a)(S,2),I=T[0],D=T[1],M=Object(a.useState)(null),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(a.useState)("none"),Y=Object(l.a)(G,2),B=Y[0],F=Y[1],q=Object(a.useState)("none"),V=Object(l.a)(q,2),K=V[0],z=V[1],U=Object(a.useState)("none"),W=Object(l.a)(U,2),Q=W[0],J=W[1],X=Object(a.useState)("asc"),ee=Object(l.a)(X,2),te=ee[0],ne=ee[1],ae=Object(a.useState)("asc"),ce=Object(l.a)(ae,2),re=ce[0],ie=ce[1],oe=Object(a.useState)("asc"),le=Object(l.a)(oe,2),de=le[0],je=le[1],ue=Object(a.useState)("PHARMACIST"),be=Object(l.a)(ue,2),Oe=be[0],pe=be[1],me=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P()){e.next=5;break}return me("Token error!",{appearance:"error"}),c([]),e.abrupt("return");case 5:if("DERMATOLOGIST"===(n=L().trim())||"PHARMACIST"===n){e.next=9;break}return me("Invalid user type!",{appearance:"error"}),e.abrupt("return");case 9:return pe(n),e.next=12,v.get("/api/patients/getAllExaminedPatients?workerID="+t).then((function(e){return c(e.data)})).catch(c([]));case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsx)($.a,{className:"pt-5 justify-content-center",children:Object(E.jsx)("h4",{className:"my_content_header",children:"Search examined patients"})}),Object(E.jsx)($.a,{className:"justify-content-center align-items-center",children:Object(E.jsxs)(d.a,{onSubmit:function(e){e.preventDefault();var t=P();if(!t)return me("Token error!",{appearance:"error"}),void c([]);var n=new URLSearchParams;if(0!=s.length&&n.append("firstName",s),0!=h.length&&n.append("firstName",h),I&&n.append("lowerTime",Math.floor(I.getTime())),H){if(I&&I.getTime()>=H.getTime())return void me("Invalid date params!",{appearance:"error"});n.append("upperTime",Math.floor(H.getTime()))}("none"===B||B!==K&&B!==Q)&&("none"===K||K!==B&&K!=Q)?(console.log(B+" "+te),"none"!==B&&n.append("sort",B+","+te),"none"!==K&&n.append("sort",K+","+re),"none"!==Q&&n.append("sort",Q+","+de),n.append("workerID",t),v.get("/api/patients/getExaminedPatients",{params:n}).then((function(e){return c(e.data)})).catch(c([]))):me("Invalid sort params!",{appearance:"error"})},className:"search_field",children:[Object(E.jsxs)(d.a.Group,{as:$.a,className:"justify-content-center mt-3 pl-3 pr-3 mb-3 align-items-center",children:[Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(d.a.Label,{children:"First name:"}),Object(E.jsx)(d.a.Control,{type:"text",name:"firstName",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Enter first name..."})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(d.a.Label,{children:"Last name:"}),Object(E.jsx)(d.a.Control,{type:"text",name:"lastName",value:h,onChange:function(e){return m(e.target.value)},placeholder:"Enter last name..."})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(d.a.Label,{children:"Date from:"}),Object(E.jsx)(d.a.Control,{as:Mt.a,closeOnScroll:!0,selected:I,dateFormat:"dd/MM/yyyy",onChange:function(e){return D(e)},isClearable:!0})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(d.a.Label,{children:"Date to:"}),Object(E.jsx)(d.a.Control,{as:Mt.a,closeOnScroll:!0,selected:H,dateFormat:"dd/MM/yyyy",onChange:function(e){return R(e)},isClearable:!0})]})]}),Object(E.jsxs)(d.a.Group,{as:$.a,className:"justify-content-center mt-3 pl-3 pr-3 mb-3",children:[Object(E.jsx)(Z.a,{children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Sort by:"})}),Object(E.jsxs)(d.a.Control,{as:"select",value:B,onChange:function(e){return F(e.target.value)},name:"sort1",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"firstName",children:"first name"}),Object(E.jsx)("option",{value:"lastName",children:"last name"}),Object(E.jsx)("option",{value:"startTime",children:"date"})]}),Object(E.jsxs)(d.a.Control,{as:"select",value:te,onChange:function(e){return ne(e.target.value)},name:"sortWay1",selected:"asc",children:[Object(E.jsx)("option",{value:"asc",children:"ascending"}),Object(E.jsx)("option",{value:"desc",children:"descending"})]})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"then by:"})}),Object(E.jsxs)(d.a.Control,{as:"select",value:K,onChange:function(e){return z(e.target.value)},name:"sort1",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"firstName",children:"first name"}),Object(E.jsx)("option",{value:"lastName",children:"last name"}),Object(E.jsx)("option",{value:"startTime",children:"date"})]}),Object(E.jsxs)(d.a.Control,{as:"select",value:re,onChange:function(e){return ie(e.target.value)},name:"sortWay2",selected:"asc",children:[Object(E.jsx)("option",{value:"asc",children:"ascending"}),Object(E.jsx)("option",{value:"desc",children:"descending"})]})]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"then by:"})}),Object(E.jsxs)(d.a.Control,{as:"select",value:Q,onChange:function(e){return J(e.target.value)},name:"sort1",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"firstName",children:"first name"}),Object(E.jsx)("option",{value:"lastName",children:"last name"}),Object(E.jsx)("option",{value:"startTime",children:"date"})]}),Object(E.jsxs)(d.a.Control,{as:"select",value:de,onChange:function(e){return je(e.target.value)},name:"sortWay2",selected:"asc",children:[Object(E.jsx)("option",{value:"asc",children:"ascending"}),Object(E.jsx)("option",{value:"desc",children:"descending"})]})]})})]}),Object(E.jsx)(d.a.Group,{as:$.a,className:"justify-content-center mt-3 pl-3 pr-3 mb-3",children:Object(E.jsx)(Z.a,{md:"auto",children:Object(E.jsxs)(jn.a,{children:[Object(E.jsxs)(j.a,{type:"submit",variant:"primary",children:[" ","Search"," "]}),Object(E.jsxs)(j.a,{variant:"primary",onClick:function(){var e=P();if(!e)return me("Token error!",{appearance:"error"}),void c([]);v.get("/api/patients/getAllExaminedPatients?workerID="+e).then((function(e){return c(e.data)})).catch((function(){return c([])})),o(""),m(""),D(null),R(null),F("none"),ne("asc"),z("none"),ie("asc"),J("none"),je("asc")},children:[" ","Reset search"," "]})]})})})]})}),Object(E.jsx)($.a,{className:"justify-content-center mt-3 ml-3 mr-3 pb-3",children:Object(E.jsxs)(Z.a,{md:8,children:[0===n.length&&Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)("h3",{children:"No result!"})}),n.map((function(e,t){return Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsx)(Z.a,{children:Object(E.jsx)(se.a,{fluid:!0,className:"card_appt_home",children:Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:[e.firstName+" "+e.lastName," "]}),Object(E.jsxs)(se.a.Text,{children:["Last appointment: "+he()(e.appointmentStart).format("DD MMM YYYY hh:mm a")," "]}),"DERMATOLOGIST"===Oe&&Object(E.jsxs)(se.a.Text,{children:["At pharmacy: ",e.pharmacy," "]})]})})})},t)}))]})}),Object(E.jsx)(hn,{show:k,info:g,onHide:function(){w(!1),_({})}})]})},mn=n(622),xn=n(619),fn=function(e){e.userChanged;var t=Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsx)(mn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(E.jsxs)(mn.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsxs)(X.a,{className:"mr-auto",children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/admin/users",children:"Users"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/admin/pharmacies",children:"Pharmacies"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/admin/medicine",children:"Medicine"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/admin/complaint-responses",children:"Complaints"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/admin/loyalty",children:"Loyalty Program"})]}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/infoProfile",children:"Profile"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/",onClick:function(){t(T())},children:"Log out"})]})]})]})},vn=function(){Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar justify-content-between",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsxs)(X.a,{className:"justify-content-end",children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/registration",children:"Register"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/login",children:"Log In"})]})]})},yn=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/"+P()+"/penalties").catch((function(){}));case 2:return t=e.sent,c(t?t.data:null),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var r=Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsx)(mn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(E.jsxs)(mn.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsxs)(X.a,{className:"mr-auto",children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/reserve-consultation/pharmacies",children:"Reserve consultation"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/consultations-insight",children:"Consultations"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/checkups-insight",children:"Checkups"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/user/complaints",children:"Complaints"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/subscribed-pharmacies",children:"Subscribed pharmacies"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/reserved-medicines",children:"Reserved medicines"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/rating",children:"Rating"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{display:3===n?"none":"block",color:"white"},to:"/e-prescription",children:"E-Prescription"})]}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/profile",children:"Profile"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/",onClick:function(){r(T())},children:"Log out"})]})]})]})},gn=function(){var e=Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar justify-content-between",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/infoProfile",children:"Profile"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/",onClick:function(){e(T())},children:"Log out"})]})]})},_n=function(){var e=Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsx)(mn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(E.jsxs)(mn.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsx)(X.a,{className:"mr-auto"}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/infoProfile",children:"Profile"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/",onClick:function(){e(T())},children:"Log out"})]})]})]})},Cn=function(){var e=Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsx)(mn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(E.jsxs)(mn.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsxs)(X.a,{className:"mr-auto",children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/search-patients",children:"Search patients"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/calendar",children:"Work Calendar"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/examined",children:"Examined patients"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/vacation",children:"Vacation"})]}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/dermatologist_profile",children:"Profile"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/",onClick:function(){e(T())},children:"Log out"})]})]})]})},Nn=function(){var e=Object(u.b)();return Object(E.jsxs)(mn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(E.jsxs)(mn.a.Brand,{as:qe.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(E.jsx)(xn.a,{}),"Home"]}),Object(E.jsx)(mn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(E.jsxs)(mn.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsxs)(X.a,{className:"mr-auto",children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/search-patients",children:"Search patients"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/issue_medicine",children:"Issue medicine"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/calendar",children:"Work Calendar"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/examined",children:"Examined patients"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/vacation",children:"Vacation"})]}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/worker/pharmacist_profile",children:"Profile"}),Object(E.jsx)(X.a.Link,{as:qe.b,style:{color:"white"},to:"/",onClick:function(){e(T())},children:"Log out"})]})]})]})},kn=function(){var e,t=Object(u.c)((function(e){return e.user})),n=L();switch(Object(a.useEffect)((function(){n=L()}),[t]),n){case"ADMIN":e=Object(E.jsx)(fn,{});break;case"PHARMACIST":e=Object(E.jsx)(Nn,{});break;case"DERMATOLOGIST":e=Object(E.jsx)(Cn,{});break;case"SUPPLIER":e=Object(E.jsx)(gn,{});break;case"PATIENT":e=Object(E.jsx)(yn,{});break;case"PHARMACY_ADMIN":e=Object(E.jsx)(_n,{});break;default:e=Object(E.jsx)(vn,{})}return Object(E.jsx)("div",{children:e})},wn=n(339),Sn=n(224),Tn=n(340),In=n(338);var Dn=function(e){var t=Object(y.useToasts)().addToast,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){e.appointment.id&&v.get("/api/appointment/get_info/"+e.appointment.id).then((function(e){i(e.data)})).catch((function(){return t("Error while fetching appointment info!",{appearance:"error"})}))},onHide:function(){i(null),e.onHideFun()},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Appointment information"})}),r&&Object(E.jsx)(Oe.a.Body,{children:Object(E.jsx)(pe.a,{children:Object(E.jsxs)(Z.a,{style:{backgroundColor:"#83CEC2"},className:"p-2",children:[Object(E.jsxs)($.a,{className:"m-2",children:["-Patient: ",r.patient]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Pharmacy: ",r.pharmacy]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Price: ",r.price]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Start time:"," ",he()(r.start).format("DD. MMM YYYY. HH:mm")]}),Object(E.jsxs)($.a,{className:"m-2",children:["-End time: ",he()(r.end).format("DD. MMM YYYY. HH:mm")]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Info: ",r.info]}),r.therapyDTOList.length>0&&Object(E.jsxs)("div",{children:[Object(E.jsx)($.a,{className:"m-2",children:"-Therapy:"}),r.therapyDTOList.map((function(e,t){return Object(E.jsxs)($.a,{className:"ml-5 mt-1 mb-1",children:[e.code," - ",e.medicineName," :"," ",e.therapyLength," days"]},t)}))]})]})})})]}))},Pn=(n(589),n(265));n(590);var Ln=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)({}),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(a.useState)({}),_=Object(l.a)(g,2),C=_[0],N=_[1],k=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P(),n=L().trim(),console.log(n),t){e.next=9;break}return k("No user id in token! error",{appearance:"error"}),c([]),e.abrupt("return");case 9:if("DERMATOLOGIST"===n||"PHARMACIST"===n){e.next=13;break}return k("Invalid user type",{appearance:"error"}),c([]),e.abrupt("return");case 13:return N({id:t,type:n}),e.next=16,v.get("/api/workers/calendarAppointments/"+t).then((function(e){var n=e.data;v.get("/api/vacation/getAcceptedVacationsFromWorker?id="+t).then((function(e){var t=e.data;c(n.concat(t))})).catch((function(){c(n),k("Error while getting vacations from server!",{appearance:"error"})}))})).catch((function(){c([]),k("Error while getting events!",{appearance:"error"})}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{className:"my__container p-5",style:{minHeight:"100vh"},children:[Object(E.jsx)(wn.a,{plugins:[Sn.b,Tn.a,In.a],headerToolbar:{left:"prev,next today",center:"title",right:"WeekView,MonthView,YearView"},allDaySlot:!1,events:n,initialView:"MonthView",eventClick:function(e){if("appointment"===e.event.extendedProps.calendarType){if("FINISHED"===e.event.extendedProps.appointmentState){var t={};for(var n in e.event.extendedProps)t[n]=e.event.extendedProps[n];return t.id=e.event.id,f(t),void b(!0)}if("RESERVED"===e.event.extendedProps.appointmentState)if(he()(Date.now())>he()(e.event.extendedProps.start).subtract(15,"minutes")){var a={};for(var n in e.event.extendedProps)a[n]=e.event.extendedProps[n];a.id=e.event.id,f(a),o(!0)}else k("You can't initiate this appointment yet!",{appearance:"error"})}},views:{WeekView:{type:"timeGrid",buttonText:"Week View",duration:{weeks:1},eventContent:function(e){var t=e.event.extendedProps;return"appointment"===t.calendarType?{html:"<div>"+t.patient+"</div>"}:{html:"<div>"+t.absenceType+"</div>"}},eventDidMount:function(e){var t=e.event.extendedProps;"appointment"===t.calendarType?Object(Pn.a)(e.el,{allowHTML:!0,content:"<div><p>"+he()(e.event.start).format("HH:mm")+"-"+he()(e.event.end).format("HH:mm")+"</p><p>"+t.patient+"<br/>"+("DERMATOLOGIST"===C.type?t.pharmacy+"<br/><i>":"<i>")+t.appointmentState+"</i></p></div>"}):(e.event.setProp("backgroundColor","rgba(20, 87, 97, 0.897)"),Object(Pn.a)(e.el,{allowHTML:!0,content:"<div><p>"+he()(e.event.start).format("DD MMM")+"-"+he()(e.event.end).format("DD MMM")+"</p><p>"+t.absenceType+"</p></div>"}))}},MonthView:{type:"dayGrid",buttonText:"Month View",duration:{months:1},slotDuration:{days:1},dayMaxEvents:2,eventContent:function(e){var t=e.event.extendedProps;return"appointment"===t.calendarType?{html:"<div><p>"+he()(e.event.start).format("HH:mm")+"-"+he()(e.event.end).format("HH:mm")+"</p><p>"+t.patient+"<br/>"+("DERMATOLOGIST"===C.type?t.pharmacy+"<br/><i>":"<i>")+t.appointmentState+"</i></p></div>"}:{html:"<div><p>"+he()(e.event.start).format("DD MMM")+"-"+he()(e.event.end).format("DD MMM")+"</p><p>"+t.absenceType+"</p></div>"}},eventDidMount:function(e){"appointment"!==e.event.extendedProps.calendarType&&e.event.setProp("backgroundColor","rgba(20, 87, 97, 0.897)")}},YearView:{type:"timeline",buttonText:"Year view",duration:{years:1},slotDuration:{months:1},visibleRange:{start:he()().startOf("year").toDate(),end:he()().endOf("year").toDate()},eventContent:function(e){var t=e.event.extendedProps;return"appointment"===t.calendarType?{html:he()(e.event.start).format("DD/MM | HH:mm")+"-"+he()(e.event.end).format("HH:mm")+"<br/>"+t.patient+"<br/>"+("DERMATOLOGIST"===C.type?t.pharmacy+"<br/><i>":"<i>")+t.appointmentState+"</i>"}:{html:"<div><p>"+he()(e.event.start).format("DD MMM")+"-"+he()(e.event.end).format("DD MMM")+"</p><p>"+t.absenceType+"</p></div>"}},eventDidMount:function(e){"appointment"!==e.event.extendedProps.calendarType&&e.event.setProp("backgroundColor","rgba(20, 87, 97, 0.897)")}}}}),Object(E.jsx)(Dn,{show:u,appointment:x,onHideFun:function(){b(!1),f({})}}),Object(E.jsx)(Fe,{show:s,onCancelMethod:function(){o(!1);var e=P();if(!e)return k("Invalid user!",{appearance:"error"}),void c([]);v.get("/api/workers/calendarAppointments/"+e).then((function(t){var n=t.data;v.get("/api/vacation/getAcceptedVacationsFromWorker?id="+e).then((function(e){var t=e.data;c(n.concat(t))})).catch((function(){return c(n)}))})).catch((function(){return c([])}))},appointment:x,onHide:function(){o(!1),f({})}})]})},Mn=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(l.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(a.useState)([]),_=Object(l.a)(g,2),C=_[0],N=_[1],k=Object(a.useState)([]),w=Object(l.a)(k,2),S=w[0],T=w[1],I=Object(a.useState)(!1),D=Object(l.a)(I,2),L=D[0],M=D[1],A=Object(a.useState)(null),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)(!1),B=Object(l.a)(Y,2),F=B[0],q=B[1],V=Object(a.useState)(""),K=Object(l.a)(V,2),z=K[0],U=K[1],W=Object(y.useToasts)().addToast,Q=function(){r([]),b([]),f(!1),N([]),T([]),M(!1),G(null),q(!1),U("")};Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(O.a.mark((function t(){var n,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.appt){t.next=2;break}return t.abrupt("return");case 2:return n=e.appt.pharmacyID,a=e.appt.patientID,t.next=6,v.get("/api/pharmacy/getMedicineFromPharmWithoutAllergies?pharm_id="+n+"&patient_id="+a).catch((function(){W("No medicine to add to therapy!",{appearance:"error"}),J()}));case 6:0===(c=t.sent).data.length&&(W("No medicine to add to therapy!",{appearance:"error"}),J()),b(c.data);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.clickedShow]);var J=function(){Q(),e.onHideModal()},X=function(t){if(t.preventDefault(),t.stopPropagation(),!F)if(R)if(z)if(isNaN(z))W("Invalid therapy duration!",{appearance:"error"});else{var n=parseInt(""+z);n<=0?W("Invalid therapy duration!",{appearance:"error"}):(R.duration=n,e.onAddMedicine(R),Q())}else W("Therapy length not defined!",{appearance:"error"});else W("No medicine is selected!",{appearance:"error"})};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,scrollable:!0,onHide:J,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine for therapy"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:X,children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Medicine"}),Object(E.jsx)(Qe.b,{id:"1",labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},onChange:function(t){q(!1),r(t),T([]),N([]),t.length>0?t[0].amount<=0?function(t,n){if(e.appt){var a=P();if(a){var c=e.appt.pharmacyID,r=e.appt.patientID;v.get("/api/pharmacy/getAlternativeFromPharmacy?worker_id="+a+"&pharm_id="+c+"&patient_id="+r+"&medicine_item_id="+t+"&medicine_id="+n).then((function(e){0==e.data.length?q(!0):T(e.data)})).catch((function(){return q(!0)}))}}}(t[0].medicineItemID,t[0].medicineID):G(t[0]):G(null)},options:u,placeholder:"Select a medicine...",selected:c})]}),Object(E.jsx)($.a,{className:"justify-content-center mb-4",children:Object(E.jsx)(j.a,{variant:"primary",onClick:function(){return f(!x)},children:"Show/Hide info"})}),c.length>0&&x&&Object(E.jsxs)(Z.a,{style:{backgroundColor:"#83CEC2"},children:[Object(E.jsx)($.a,{className:"justify-content-center mt-3",children:"Medicine information"}),Object(E.jsxs)($.a,{className:"m-2",children:["-Code: ",c[0].code]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Name: ",c[0].name]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Price: ",c[0].price]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Content: ",c[0].content]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Side effects: ",c[0].sideEffects]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Daily intake: ",c[0].dailyIntake]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Additional notes: ",c[0].additionalNotes]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Type: ",c[0].medicineType]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Form: ",c[0].medicineForm]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Manufacturer: ",c[0].manufacturer]})]}),c.length>0&&c[0].amount<=0&&Object(E.jsx)("div",{children:F?Object(E.jsxs)("div",{style:{color:"red"},children:["Selected medicine '",c[0].name,"' is currently not in stock and has no alternative medicine available. Please chose another."]}):Object(E.jsxs)("div",{children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsxs)(d.a.Label,{children:["Selected medicine '",c[0].name,"' is currently not in stock. Please select an alternative medicine:"]}),Object(E.jsx)(Qe.b,{id:"2",labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},onChange:function(e){N(e),e.length>0?G(e[0]):G(null)},options:S,placeholder:"Select a medicine...",selected:C})]}),Object(E.jsx)($.a,{className:"justify-content-center mb-4",children:Object(E.jsx)(j.a,{variant:"primary",onClick:function(){return M(!L)},children:"Show/Hide alternative info"})})]})}),C.length>0&&L&&Object(E.jsxs)(Z.a,{style:{backgroundColor:"#83CEC2"},children:[Object(E.jsx)($.a,{className:"justify-content-center mt-3",children:"Alternative medicine information"}),Object(E.jsxs)($.a,{className:"m-2",children:["-Code: ",C[0].code]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Name: ",C[0].name]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Price: ",C[0].price]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Content: ",C[0].content]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Side effects: ",C[0].sideEffects]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Daily intake: ",C[0].dailyIntake]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Additional notes: ",C[0].additionalNotes]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Type: ",C[0].medicineType]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Form: ",C[0].medicineForm]}),Object(E.jsxs)($.a,{className:"m-2",children:["-Manufacturer: ",C[0].manufacturer]})]}),Object(E.jsxs)($.a,{className:"mb-2 mt-5 ml-2",children:["Selected medicine:"," ",R?R.name:"- none selected -"]}),Object(E.jsxs)(d.a.Group,{as:$.a,className:"mb-4 ml-2",children:[Object(E.jsx)(d.a.Label,{children:"Prescribed days of therapy: "}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(d.a.Control,{type:"text",onChange:function(e){return U(e.target.value)},value:z})})]}),Object(E.jsx)(j.a,{variant:"primary",onClick:X,children:"Confirm"}),Object(E.jsx)(j.a,{variant:"secondary",onClick:J,children:"Cancel"})]})})]}))},En=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(a.useState)([]),f=Object(l.a)(x,2),g=f[0],_=f[1],C=Object(a.useState)(""),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(""),T=Object(l.a)(S,2),I=T[0],D=T[1],M=Object(a.useState)(""),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){var t=new FormData,n=P();null!==n&&(t.append("workerID",n),"PHARMACIST"===L().trim()?v.post("/api/workers/getWorkTimeForReport",t).then((function(e){b(e.data)})).catch((function(){return G("Couldn't get worktime!",{appearance:"error"})})):e.appt&&(t.append("pharmacyID",e.appt.pharmacyID),v.post("/api/workers/getWorkTimeForReportDerm",t).then((function(e){b(e.data)})).catch((function(){return G("Couldn't get worktime!",{appearance:"error"})}))))}),[e.appt]),Object(a.useEffect)((function(){if(c){var t=new FormData,n=P();null!==n&&(t.append("workerID",n),t.append("patientID",e.appt.patientID),t.append("date",he()(c).valueOf()),v.post("/api/appointment/appointmentsOnThatDate",t).then((function(e){_(e.data)})).catch((function(){return G("Couldn't get appts on selected date!",{appearance:"error"})})))}else _([])}),[c]);return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,scrollable:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Schedule another appointment"})}),Object(E.jsxs)(Oe.a.Body,{children:[Object(E.jsx)($.a,{className:"ml-3 mb-2",children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Worker's schedule"})}),Object(E.jsx)(j.a,{onClick:function(){return m(!p)},children:"Show/hide"})]})}),p&&Object(E.jsxs)("div",{children:[Object(E.jsx)($.a,{className:"ml-5 mb-2",children:"Holidays:"}),(u?u.holidays:[]).map((function(e,t){return Object(E.jsxs)($.a,{className:"ml-5 mb-2",children:[t+1,") On holiday from"," ",he()(e.startTime).format("DD MMM YYYY")," to"," ",he()(e.endTime).format("DD MMM YYYY")]},t+100)})),Object(E.jsx)($.a,{className:"ml-5 mb-2",children:"Worktime:"}),(u?u.workDayList:[]).map((function(e,t){return Object(E.jsxs)($.a,{className:"ml-5 mb-2",children:[e.weekday,": ",e.startTime," - ",e.endTime]},t)}))]}),Object(E.jsx)(d.a,{children:Object(E.jsx)(d.a.Group,{as:$.a,className:"ml-3 mb-2 mt-4",children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Date for appointment:"})}),Object(E.jsx)(d.a.Control,{as:Mt.a,closeOnScroll:!0,selected:c,minDate:Date.now(),dateFormat:"dd/MM/yyyy",onChange:function(e){return r(e)},isClearable:!0})]})})}),g.length>0&&Object(E.jsxs)("div",{children:[Object(E.jsx)($.a,{className:"ml-5 mb-2",children:"Appointments on selected date:"}),g.map((function(e,t){return Object(E.jsxs)($.a,{className:"ml-5 mb-2",children:[t+1,") From ",he()(e.startTime).format("HH:mm")," to"," ",he()(e.endTime).format("HH:mm")]},t+100)}))]}),Object(E.jsx)($.a,{className:"ml-1 mt-4 mb-2",children:Object(E.jsx)(Z.a,{md:8,children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Start time:"})}),Object(E.jsx)(d.a.Control,{type:"text",placeholder:"hours",value:k,onChange:function(e){return w(e.target.value)}}),Object(E.jsx)(d.a.Control,{type:"text",placeholder:"minutes",value:I,onChange:function(e){return D(e.target.value)}})]})})}),Object(E.jsx)($.a,{className:"ml-1 mt-4 mb-2",children:Object(E.jsx)(Z.a,{md:8,children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Duration(min):"})}),Object(E.jsx)(d.a.Control,{type:"text",value:H,onChange:function(e){return R(e.target.value)}})]})})}),Object(E.jsx)($.a,{className:"justify-content-center m-3 align-items-center",children:Object(E.jsx)(j.a,{onClick:function(){return function(){if(c)if(isNaN(k))G("Invalid start time!",{appearance:"error"});else if(isNaN(I))G("Invalid start time!",{appearance:"error"});else if(isNaN(H))G("Invalid duration!",{appearance:"error"});else{var t=parseInt(k),n=parseInt(I),a=parseInt(H);if(t<0||t>24||n<0||n>60)G("Invalid start time!",{appearance:"error"});else if(a<0||a>180)G("Invalid duration!",{appearance:"error"});else{var r=60*t*60*1e3+60*n*1e3,i=new FormData,s=P();null!==s&&(i.append("workerID",s),i.append("patientID",e.appt.patientID),i.append("pharmacyID",e.appt.pharmacyID),i.append("date",he()(c).valueOf()+r),i.append("duration",a),v.post("/api/appointment/scheduleAppointment",i).then((function(){G("Appointment scheduled!",{appearance:"success"}),e.onSchedule()})).catch((function(e){G(e.response.data,{appearance:"error"})})))}}else G("Invalid date",{appearance:"error"})}()},children:"Schedule"})})]})]}))};var An=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(!1),h=Object(l.a)(u,2),O=h[0],p=h[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],_=Object(a.useState)(null),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),T=S[0],I=S[1],D=Object(a.useState)(""),P=Object(l.a)(D,2),M=P[0],A=P[1],H=Object(b.h)(),R=Object(b.g)(),G=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){"DERMATOLOGIST"===L().trim()?A("checkup"):"PHARMACIST"===L().trim()?A("consultation"):A("appointment");var e=new FormData;if(!H.state.appointmentID)return G("No appointment id! Couldn't start appointment!",{appearance:"error"}),void R.push("/");var t=H.state.appointmentID;e.append("id",t),v.post("/api/appointment/getApptForReport",e).then((function(e){k(e.data)})).catch((function(){G("Couldn't get ids!",{appearance:"error"}),R.push("/")}))}),[]);var Y=function(){var e=N.id;v.post("/api/appointment/finalizeAppointment",{apptId:e,medicineList:n,info:T}).then((function(){G("Appointment finished!",{appearance:"success"}),p(!1),R.push("/")})).catch((function(e){c([]),G(e.response.data,{appearance:"error"})}))};return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{backgroundColor:"#395E82"},children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5 mb-2 align-items-center",children:Object(E.jsxs)("h2",{style:{color:"#83CEC2"},children:["Appointment report for: ",null===N||void 0===N?void 0:N.patient]})}),Object(E.jsx)($.a,{className:"justify-content-center mb-5 align-items-center",children:Object(E.jsx)("h3",{style:{color:"#83CEC2"},children:null===N||void 0===N?void 0:N.pharmacy})}),Object(E.jsx)($.a,{className:"justify-content-center pb-3  align-items-center",children:Object(E.jsx)(Z.a,{md:8,children:Object(E.jsxs)($.a,{className:"justify-content-center align-items-center pt-3 rounded",style:{backgroundColor:"#83CEC2"},children:[Object(E.jsx)(Z.a,{children:Object(E.jsxs)("p",{className:"text-center",children:["Date: ",he()(null===N||void 0===N?void 0:N.start).format("DD MMM YYYY")]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)("p",{className:"text-center",children:["Time:",he()(null===N||void 0===N?void 0:N.start).format("HH:mm a"),"-",he()(null===N||void 0===N?void 0:N.end).format("HH:mm a")]})}),Object(E.jsx)(Z.a,{children:Object(E.jsxs)("p",{className:"text-center",children:["Price: ",null===N||void 0===N?void 0:N.price]})})]})})}),Object(E.jsx)($.a,{className:"justify-content-center mb-5 align-items-center",children:Object(E.jsx)(Z.a,{md:8,children:Object(E.jsx)(d.a,{children:Object(E.jsxs)(d.a.Group,{as:$.a,className:"justify-content-center align-items-center  mt-3",children:[Object(E.jsx)(d.a.Label,{children:Object(E.jsxs)("h4",{style:{color:"#83CEC2"},children:["Input information about the ",M]})}),Object(E.jsx)(d.a.Control,{as:"textarea",rows:"8",name:"address",value:T,onChange:function(e){return I(e.target.value)}})]})})})}),Object(E.jsx)($.a,{className:"justify-content-center pb-5 align-items-center",children:Object(E.jsxs)(Z.a,{md:8,children:[Object(E.jsxs)($.a,{className:"justify-content-center align-items-center",children:[Object(E.jsx)("div",{style:{color:"white"},children:"Therapy medicine"}),Object(E.jsx)(j.a,{size:"sm",onClick:function(){o(!0),g(!f)},children:"Add new"})]}),(n||[]).map((function(e,t){return Object(E.jsxs)($.a,{className:"justify-content-center align-items-center mt-3 ml=5",children:[Object(E.jsxs)("div",{style:{color:"white"},children:["Medicine: ",e.code," - ",e.name,". Duration of therapy(in days): ",e.duration]}),Object(E.jsx)(j.a,{onClick:function(){for(var e=[],a=0;a<n.length;a++)a!=t&&e.push(n[a]);c(e)},children:"Remove"})]},e.code)})),Object(E.jsx)($.a,{className:"justify-content-center mt-5 align-items-center",children:Object(E.jsx)("div",{style:{color:"#83CEC2"},children:"Finalize appointment"})}),Object(E.jsxs)($.a,{className:"justify-content-center mt-3 mb-5 align-items-center",children:[Object(E.jsx)(j.a,{onClick:function(){p(!0)},children:"Schedule another and finish appointment"}),Object(E.jsxs)(j.a,{onClick:function(){return Y()},children:[" ","Finish appointment without scheduling"]})]})]})})]}),Object(E.jsx)(Mn,{show:s,appt:N,onHideModal:function(){o(!1)},onAddMedicine:function(e){for(var t=0;t<n.length;t++)if(n[t].medicineID===e.medicineID)return void G("That medicine is already added to therapy!",{appearance:"error"});n.push(e),o(!1)},clickedShow:f}),Object(E.jsx)(En,{show:O,appt:N,onHide:function(){return p(!1)},onSchedule:function(){p(!1),Y()}})]})};var Hn=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)("none"),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){b(null),r(null),m("none")}),[e.show]),Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:"Create a request for a vacation"})}),Object(E.jsx)(Oe.a.Body,{as:$.a,className:"justify-content-center m-3",children:Object(E.jsxs)(Z.a,{children:[Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Start date:"})}),Object(E.jsx)(d.a.Control,{as:Mt.a,closeOnScroll:!0,selected:c,dateFormat:"dd/MM/yyyy",onChange:function(e){return r(e)},isClearable:!0})]})}),Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"End date:"})}),Object(E.jsx)(d.a.Control,{as:Mt.a,closeOnScroll:!0,selected:u,dateFormat:"dd/MM/yyyy",onChange:function(e){return b(e)},isClearable:!0})]})}),Object(E.jsx)($.a,{className:"justify-content-center m-3",children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Type:"})}),Object(E.jsxs)(d.a.Control,{as:"select",value:p,onChange:function(e){return m(e.target.value)},name:"typeVac",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"vacation",children:"vacation"}),Object(E.jsx)("option",{value:"leave",children:"leave"})]})]})})]})}),Object(E.jsx)(Oe.a.Footer,{children:Object(E.jsx)(j.a,{onClick:function(){if(c)if(u)if("none"!==p)if(c.getTime()>=u.getTime())x("Invalid start/end date!",{appearance:"error"});else{var t=P();if(t){var n=Math.floor(c.getTime()),a=Math.floor(u.getTime());if(he()(Date.now())>he()(n))x("Start date of vacation has to be in future!",{appearance:"error"});else{var r=new URLSearchParams;r.append("id",t),r.append("start",n),r.append("end",a),r.append("type",p),v.get("/api/vacation/request_vacation",{params:r}).then((function(){return e.onCreateMethod()})).catch((function(e){return x(e.response.data,{appearance:"error"})}))}}else x("No user id in token! error",{appearance:"error"})}else x("Vacation type is none!",{appearance:"error"});else x("Ending date is empty!",{appearance:"error"});else x("Starting date is empty!",{appearance:"error"})},children:"Create request"})})]}))};var Rn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){var e=P();e?v.get("/api/vacation/getVacationsFromWorker?id="+e).then((function(e){return c(e.data)})).catch((function(){return c([])})):d("No user id in token! error",{appearance:"error"})}),[]),Object(E.jsx)("div",{className:"my__container",style:{minHeight:"100vh"},children:Object(E.jsxs)($.a,{className:"justify-content-center ml-5 pb-4 pt-5 align-items-center",children:[Object(E.jsxs)(Z.a,{md:6,children:[Object(E.jsx)($.a,{className:"justify-content-center ml-5 mb-2 align-items-center",children:Object(E.jsx)("h2",{className:"my_content_header",children:"Requests for vacations"})}),Object(E.jsx)($.a,{className:"justify-content-center ml-5 mb-4 align-items-center",children:Object(E.jsx)(j.a,{onClick:function(){o(!0)},size:"lg",children:"Create new"})}),n.map((function(e,t){return Object(E.jsx)($.a,{className:"justify-content-center ml-5 mb-4 align-items-center",children:Object(E.jsx)(Z.a,{children:Object(E.jsx)(se.a,{fluid:!0,className:"card_appt_home",children:Object(E.jsxs)(se.a.Body,{children:[Object(E.jsx)(se.a.Title,{children:"From: "+he()(e.start).format("DD MMM YYYY")+" | To: "+he()(e.end).format("DD MMM YYYY")}),Object(E.jsx)(se.a.Text,{children:"Type: "+e.absenceType}),Object(E.jsx)(se.a.Text,{children:"Status: "+e.requestState}),"CANCELLED"===e.requestState.trim()&&Object(E.jsxs)(se.a.Text,{children:["Reason for decline: ",e.declineText]})]})})})},t)}))]}),Object(E.jsx)(Hn,{show:s,onCreateMethod:function(){var e=P();e?(v.get("/api/vacation/getVacationsFromWorker?id="+e).then((function(e){return c(e.data)})).catch((function(){return c([])})),o(!1)):d("No user id in token! error",{appearance:"error"})},onHide:function(){o(!1)}})]})})};var Gn=function(){var e,t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(l.a)(i,2),o=s[0],j=s[1],u=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){var e=P();e?v.get("/api/workplace/dermatologist/get_workplaces/"+e).then((function(e){r(e.data),console.log(c),c.length>0&&j(0)})).catch((function(){return r([])})):u("No token, error!",{appearance:"error"})}),[]),Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5 align-items-center",children:Object(E.jsx)(vt,{title:"Dermatologist profile"})}),Object(E.jsx)($.a,{className:"justify-content-center mt-5 ml-5 mr-5 pb-5 align-items-center",children:Object(E.jsxs)(Z.a,{md:4,className:"card_appt_home",style:{backgroundColor:"white"},children:[Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsx)("h3",{className:"my_content_header",style:{textAlign:"center"},children:"Working hours"})}),Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsxs)(Me.a,{children:[Object(E.jsx)(Me.a.Prepend,{children:Object(E.jsx)(Me.a.Text,{children:"Select pharmacy:"})}),Object(E.jsx)(d.a.Control,{as:"select",defaultValue:0,value:o,onChange:function(e){return j(e.target.value)},children:c.map((function(e,t){return Object(E.jsx)("option",{value:t,children:e.pharmacy})}))})]})}),((null===(e=c[o])||void 0===e?void 0:e.workDayList)?c[o].workDayList:[]).map((function(e,t){return Object(E.jsx)($.a,{className:"justify-content-center p-2 m-2 align-items-center",style:{backgroundColor:"#83CEC2"},children:Object(E.jsxs)("div",{children:[e.weekday,": ",e.startTime," - ",e.endTime,"h"]})})}))]})})]})};var Yn=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){var e=P();e?v.get("/api/workplace/pharmacist/get_workplace/"+e).then((function(e){c(e.data)})).catch((function(){return c({})})):r("Token error!",{appearance:"error"})}),[]),Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5 align-items-center",children:Object(E.jsx)(vt,{title:"Pharmacist profile"})}),Object(E.jsx)($.a,{className:"justify-content-center mt-5 ml-5 mr-5 pb-5 align-items-center",children:Object(E.jsxs)(Z.a,{md:4,className:"card_appt_home",style:{backgroundColor:"white"},children:[Object(E.jsx)($.a,{className:"justify-content-center m-5 align-items-center",children:Object(E.jsxs)("h3",{className:"my_content_header",style:{textAlign:"center"},children:["Working hours: ",n?n.pharmacy:""]})}),((null===n||void 0===n?void 0:n.workDayList)?n.workDayList:[]).map((function(e,t){return Object(E.jsx)($.a,{className:"justify-content-center m-2 align-items-center p-2",style:{backgroundColor:"#83CEC2"},children:Object(E.jsxs)("div",{children:[e.weekday,": ",e.startTime," - ",e.endTime,"h"]})})}))]})})]})};var Bn=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(y.useToasts)().addToast;return Object(E.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)($.a,{className:"justify-content-center pt-5",children:Object(E.jsx)("h4",{className:"my_content_header",children:"Issue medicine"})}),Object(E.jsx)($.a,{className:"justify-content-center align-items-center",children:Object(E.jsx)(d.a,{onSubmit:function(e){return e.preventDefault()},className:"search_field",children:Object(E.jsxs)(d.a.Group,{as:$.a,className:"justify-content-center m-3 align-items-center",children:[Object(E.jsx)(d.a.Label,{children:"Search reservation:"}),Object(E.jsx)(d.a.Control,{type:"text",placeholder:"Reservation ID",value:s,onChange:function(e){return o(e.target.value)}}),Object(E.jsx)($.a,{className:"mt-3",children:Object(E.jsx)(j.a,{onClick:function(){return function(){var e=new FormData,t=P();null!==t&&(e.append("workerID",t),e.append("resID",s),v.post("/api/medicine-reservation/getReservedIssue",e).then((function(e){c(e.data)})).catch((function(e){u(e.response.data.message,{appearance:"error"}),c(null)})))}()},children:"Search"})})]})})})]}),Object(E.jsx)($.a,{className:"justify-content-center p-3",children:n&&Object(E.jsx)(Z.a,{md:6,children:Object(E.jsxs)(se.a,{fluid:!0,className:"card_appt_home",children:[Object(E.jsxs)(se.a.Body,{children:[Object(E.jsxs)(se.a.Title,{children:["Reservation ID: ",n.reservationID]}),Object(E.jsxs)(se.a.Text,{children:["Reservation date:"," ",he()(n.reservationDate).format("DD MMM YYYY")]}),Object(E.jsxs)(se.a.Text,{children:["Reservation pickup due date:"," ",he()(n.pickupDate).format("DD MMM YYYY")]}),Object(E.jsxs)(se.a.Text,{children:["Medicine name: ",n.medicineName]}),Object(E.jsxs)(se.a.Text,{children:["Medicine ID: ",n.medicineID]})]}),Object(E.jsx)($.a,{className:"justify-content-center align-items-center m-3",children:Object(E.jsx)(j.a,{onClick:function(){return function(){var e=new FormData,t=P();null!==t&&(e.append("workerID",t),e.append("resID",s),v.post("/api/medicine-reservation/issueMedicine",e).then((function(e){u(e.data,{appearance:"success"}),c(null),o("")})).catch((function(e){u(e.response.data.message,{appearance:"error"}),c(null)})))}()},children:"Issue medicine"})})]})})})]})};var Fn=function(e){var t=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",repeatPassword:"",telephone:"",city:"",street:"",country:""}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(y.useToasts)().addToast,u=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},e,t)))},b=function(){var t=h(c);v.post("/api/users/",t).then((function(){r({}),e.onSuccess(),e.onHide(),i("User added successfully.",{appearance:"success"})})).catch((function(e){i(g(e),{appearance:"error"})}))},h=function(){var t={city:c.city,street:c.street,country:c.country},n=Object(o.a)(Object(o.a)({},c),{},{address:t,roleName:e.usertype});return delete n.city,delete n.street,delete n.country,n};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsxs)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:["Add new ",e.usertype]})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),D.firstName(c.firstName)&&D.lastName(c.lastName)&&D.email(c.email)&&D.password(c.password)&&D.password(c.repeatPassword)&&D.telephone(c.telephone)&&D.city(c.city)&&D.street(c.street)&&D.country(c.country)){if(c.password!==c.repeatPassword)return void i("Passwords do not match",{appearance:"warning"});b()}},children:[Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(q,{onChange:function(e){return u("firstName",e.target.value)}})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(V,{onChange:function(e){return u("lastName",e.target.value)}})})]}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(R,{onChange:function(e){return u("email",e.target.value)}})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(K,{onChange:function(e){return u("telephone",e.target.value)}})})]}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(Y,{onChange:function(e){return u("password",e.target.value)}})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(Y,{name:"Repeat password",onChange:function(e){return u("repeatPassword",e.target.value)}})})]}),Object(E.jsx)(z,{onChange:function(e){return u("city",e.target.value)}}),Object(E.jsx)(W,{onChange:function(e){return u("street",e.target.value)}}),Object(E.jsx)(U,{onChange:function(e){return u("country",e.target.value)}}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(E.jsx)(Oe.a.Footer,{})]}))};var qn=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=(Object(a.useRef)(null),Object(y.useToasts)().addToast),u=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},e,t)))},b=function(){var t=h(c);console.log(t),v.put("/api/users/"+e.user.id,t).then((function(){r({}),e.onSuccess(),e.onHide(),i("User updated successfully.",{appearance:"success"})})).catch((function(e){i(g(e),{appearance:"error"})}))},h=function(){var t=Object(o.a)(Object(o.a)({},e.user.address),{},{city:c.city,street:c.street,country:c.country}),n=Object(o.a)(Object(o.a)({},c),{},{address:t,roleName:e.usertype});return delete n.city,delete n.street,delete n.country,n};return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){var t=Object(o.a)(Object(o.a)({},e.user),{},{city:e.user.address.city,street:e.user.address.street,country:e.user.address.country});r(t)},children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsxs)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:["Edit ",e.user.firstName+" "+e.user.lastName]})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),D.firstName(c.firstName)&&D.lastName(c.lastName)&&D.email(c.email)&&D.telephone(c.telephone)&&D.city(c.city)&&D.street(c.street)&&D.country(c.country)){if(c.password!==c.repeatPassword)return void i("Passwords do not match",{appearance:"warning"});b()}},children:[Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(q,{onChange:function(e){return u("firstName",e.target.value)},defaultValue:e.user.firstName?e.user.firstName:""})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(V,{onChange:function(e){return u("lastName",e.target.value)},defaultValue:e.user.lastName?e.user.lastName:""})})]}),Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(R,{onChange:function(e){return u("email",e.target.value)},defaultValue:e.user.email?e.user.email:"",disabled:!0})}),Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(K,{onChange:function(e){return u("telephone",e.target.value)},defaultValue:e.user.telephone?e.user.telephone:""})})]}),Object(E.jsx)(z,{onChange:function(e){return u("city",e.target.value)},defaultValue:e.user.address?e.user.address.city:""}),Object(E.jsx)(W,{onChange:function(e){return u("street",e.target.value)},defaultValue:e.user.address?e.user.address.street:""}),Object(E.jsx)(U,{onChange:function(e){return u("country",e.target.value)},defaultValue:e.user.address?e.user.address.country:""}),Object(E.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(E.jsx)(Oe.a.Footer,{})]}))};function Vn(e){var t=e.user,n=e.onClick,a=e.editClick,c=(e.detailsClick,e.deleteClick);return Object(E.jsxs)("tr",{onClick:n,children:[Object(E.jsx)("td",{children:t.firstName}),Object(E.jsx)("td",{children:t.lastName}),Object(E.jsx)("td",{children:t.email}),Object(E.jsx)("td",{children:t.telephone}),Object(E.jsx)("td",{children:t.address.city+" "+t.address.street}),Object(E.jsxs)("td",{children:[Object(E.jsx)(j.a,{onClick:a,children:"Edit"}),Object(E.jsx)(j.a,{variant:"danger",onClick:c,children:"Delete"})]})]},t.id)}var Kn=function(e){var t=e.initialUserType,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)({}),o=Object(l.a)(s,2),u=o[0],b=o[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),x=m[0],f=m[1],_=Object(a.useState)(""),C=Object(l.a)(_,2),N=C[0],k=C[1],w=Object(a.useState)(!1),S=Object(l.a)(w,2),T=S[0],I=S[1],D=Object(a.useState)(!1),P=Object(l.a)(D,2),L=P[0],M=P[1],A=Object(a.useState)(!1),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)(!1),B=Object(l.a)(Y,2),F=(B[0],B[1],Object(a.useState)(!1)),q=Object(l.a)(F,2),V=(q[0],q[1],Object(y.useToasts)().addToast);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/users/?type="+N).catch((function(){}));case 2:t=e.sent,f(t?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,N]),Object(a.useEffect)((function(){k(t)}),[t]);var K=function(){i(!r)};return Object(E.jsxs)(pe.a,{style:{marginTop:"10px"},className:"justify-content-center",children:[Object(E.jsxs)($.a,{className:"justify-content-md-between",children:[Object(E.jsxs)(d.a.Group,{controlId:"userTypeSelect",children:[Object(E.jsx)(d.a.Label,{children:"User Type"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){k(e.target.value)}.bind(this),children:[Object(E.jsx)("option",{value:"PHARMACIST",children:"Pharmacist"}),Object(E.jsx)("option",{value:"DERMATOLOGIST",children:"Dermatologist"}),Object(E.jsx)("option",{value:"SUPPLIER",children:"Supplier"}),Object(E.jsx)("option",{value:"PHARMACY_ADMIN",children:"Pharmacy Admin"}),Object(E.jsx)("option",{value:"ADMIN",children:"System Admin"})]})]}),Object(E.jsxs)(j.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return I(!0)},children:["Add new ",function(){switch(N){case"PHARMACIST":return"Pharmacist";case"DERMATOLOGIST":return"Dermatologist";case"SUPPLIER":return"Supplier";case"ADMIN":return"System Admin";case"PHARMACY_ADMIN":return"Pharmacy Admin";default:return""}}()]})]}),Object(E.jsxs)(je.a,{striped:!0,bordered:!0,hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"First Name"}),Object(E.jsx)("th",{children:"Last Name"}),Object(E.jsx)("th",{children:"E Mail"}),Object(E.jsx)("th",{children:"Phone number"}),Object(E.jsx)("th",{children:"Address"}),Object(E.jsx)("th",{children:"Actions"})]})}),Object(E.jsx)("tbody",{children:x.map((function(e){return Object(E.jsx)(Vn,{user:e,onClick:function(){b(e)},editClick:function(){return M(!0)},deleteClick:function(){return G(!0)}},e.id)}))})]}),Object(E.jsx)(Fn,{show:T,onHide:function(){return I(!1)},onSuccess:K,usertype:N}),Object(E.jsx)(Ht,{title:"Remove "+u.firstName+" "+u.lastName,show:R,onHide:function(){return G(!1)},onDelete:function(){v.delete("/api/users/"+u.id).then((function(){K(),G(!1),V("User deleted successfully.",{appearance:"success"})})).catch((function(e){V(g(e),{appearance:"error"})}))}}),Object(E.jsx)(qn,{show:L,user:u,onHide:function(){return M(!1)},onSuccess:K,usertype:N})]})},zn=function(e){return Object(E.jsx)("div",{})},Un=function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(zn,{children:" "}),Object(E.jsx)(Kn,{initialUserType:"PHARMACIST",children:" "})]})};n(129);var Wn=function(){var e=Object(a.useState)(new Date),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)([]),f=Object(l.a)(x,2),_=f[0],C=f[1],N=Object(a.useState)([]),k=Object(l.a)(N,2),w=k[0],S=k[1],T=Object(a.useState)(null),I=Object(l.a)(T,2),D=I[0],L=I[1],M=Object(a.useState)(0),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(a.useState)(0),Y=Object(l.a)(G,2),B=Y[0],F=Y[1],q=Object(a.useState)([]),V=Object(l.a)(q,2),K=V[0],z=V[1],U=Object(a.useState)({}),W=Object(l.a)(U,2),Q=W[0],J=W[1],X=Object(a.useState)(!1),ee=Object(l.a)(X,2),te=ee[0],ne=ee[1],ae=Object(a.useState)("none"),ce=Object(l.a)(ae,2),re=ce[0],le=ce[1],de=Object(a.useState)(!1),ue=Object(l.a)(de,2),be=ue[0],he=ue[1],Oe=Object(a.useState)("none"),xe=Object(l.a)(Oe,2),fe=xe[0],ve=xe[1],ye=Object(a.useState)(!1),ge=Object(l.a)(ye,2),_e=ge[0],Ce=ge[1],Ne=Object(a.useState)(0),ke=Object(l.a)(Ne,2),we=ke[0],Se=ke[1],Te=Object(a.useState)({}),Ie=Object(l.a)(Te,2),De=Ie[0],Pe=Ie[1],Le=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/"+P()+"/points").catch((function(){}));case 2:return t=e.sent,Se(t?t.data:0),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/ranking-category/points/"+we).catch((function(){}));case 2:return t=e.sent,Pe(t?t.data:{}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[we]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URLSearchParams).append("date",h),e.next=4,v.get("/api/pharmacy/all/free-pharmacists/",{params:t}).catch((function(){}));case 4:return 404==(n=e.sent).status&&(Le(n.data,{appearance:"error"}),C([])),200==n.status&&(0==n.data.length&&Le("There's no available pharmacists!",{appearance:"warning"}),C(n.data)),L(null),J({}),S([]),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!=h&&function(){e.apply(this,arguments)}()}),[te,h,be]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URLSearchParams).append("date",h),t.append("id",D.id),e.next=5,v.get("/api/workers/all/free-pharmacists/pharmacy",{params:t}).catch((function(){}));case 5:return 404==(n=e.sent).status&&(Le(n.data,{appearance:"error"}),S([])),200==n.status&&(0==n.data.length&&Le("There's no available pharmacists!",{appearance:"warning"}),S(n.data)),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!=D&&function(){e.apply(this,arguments)}()}),[D,_e]),Object(a.useEffect)((function(){var e=Math.floor((null===_||void 0===_?void 0:_.length)/12)-1;(null===_||void 0===_?void 0:_.length)/12-1>e&&(e+=1),F(e)}),[_]),Object(a.useEffect)((function(){var e=12*H,t=_.length<e+12?null===_||void 0===_?void 0:_.length:e+12;z(null===_||void 0===_?void 0:_.slice(e,t))}),[_,H]),Object(E.jsx)(pe.a,{fluid:!0,className:"reserve__consultation__container",children:Object(E.jsxs)("div",{className:"reserve__consultation__content",children:[Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsx)("h3",{children:"Choose a date and time of consultation"})})}),Object(E.jsx)($.a,{children:Object(E.jsxs)(Z.a,{className:"my__flex",children:[Object(E.jsxs)(d.a.Group,{controlId:"datePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Date"}),Object(E.jsx)(d.a.Control,{type:"date",onChange:function(e){return function(e){var t=e.split("-"),n=new Date(Number.parseInt(t[0]),Number.parseInt(t[1])-1,Number.parseInt(t[2]));c(n)}(e.target.value)}})]}),Object(E.jsxs)(d.a.Group,{controlId:"timePicker",di:!0,children:[Object(E.jsx)(d.a.Label,{children:"Start time"}),Object(E.jsx)(d.a.Control,{type:"time",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(E.jsx)(j.a,{variant:"info",onClick:function(){var e=n,t=s.split(":");e.setHours(Number.parseInt(t[0]),Number.parseInt(t[1]),0),e.getTime()&&(e.getTime()<new Date?Le("Choose a date from the future!",{appearance:"warning"}):m(e.getTime()))},disabled:null==n||null==s,children:"Search"})]})}),Object(E.jsx)($.a,{className:"justify-content-center mt-5",style:{display:0==_.length?"none":"flex"},children:Object(E.jsx)(d.a,{onSubmit:function(e){if(e.preventDefault(),"none"!==re){var t=new URLSearchParams;"ascPrice"===re&&t.append("sort","consultationPrice,asc"),"descPrice"===re&&t.append("sort","consultationPrice,desc"),"ascGrade"===re&&t.append("sort","avgGrade,asc"),"descGrade"===re&&t.append("sort","avgGrade,desc"),t.append("date",h),v.get("/api/pharmacy/all/free-pharmacists/",{params:t}).then((function(e){return C(e.data)})).catch(C([]))}},children:Object(E.jsxs)(d.a.Group,{as:$.a,className:"align-items-center",children:[Object(E.jsxs)(Z.a,{className:"my__flex",md:6,lg:6,children:[Object(E.jsxs)(d.a.Label,{style:{marginRight:"20px"},children:["Sorter:"," "]}),Object(E.jsxs)(d.a.Control,{as:"select",value:re,onChange:function(e){le(e.target.value)}.bind(this),name:"sorter",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"ascPrice",children:"Price (ascending)"}),Object(E.jsx)("option",{value:"descPrice",children:"Price (descending)"}),Object(E.jsx)("option",{value:"ascGrade",children:"Pharmacy grade (ascending)"}),Object(E.jsx)("option",{value:"descGrade",children:"Pharmacy grade (descending)"})]})]}),Object(E.jsxs)(Z.a,{className:"justify-content-center",md:6,lg:6,children:[Object(E.jsxs)(j.a,{type:"submit",variant:"primary",children:[" ","Sort"," "]}),Object(E.jsxs)(j.a,{variant:"primary",onClick:function(){he(!be)},children:[" ","Reset"," "]})]})]})})}),Object(E.jsx)($.a,{children:K&&K.map((function(e){return Object(E.jsx)(Z.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(E.jsxs)(se.a,{className:"my__card",style:{width:"18rem"},onClick:function(){L(e),J({})},children:[Object(E.jsx)(se.a.Body,{children:Object(E.jsx)(se.a.Title,{children:e.name})}),Object(E.jsxs)(me.a,{className:"list-group-flush",children:[Object(E.jsx)(ze.a,{className:"my__flex",children:e.address}),Object(E.jsx)(ze.a,{className:"my__flex",children:Object(ie.a)(Array(Math.ceil(e.avgGrade))).map((function(){return Object(E.jsx)(Ue.a,{className:"my__star"})}))}),Object(E.jsxs)(ze.a,{className:"my__flex",children:["Price: ",e.consultationPrice]})]})]})},e.id)}))}),K.length>0&&Object(E.jsx)($.a,{className:"my__row__pagination",children:Object(E.jsx)(Z.a,{className:"my__flex",children:Object(E.jsxs)(oe.a,{size:"lg",children:[Object(E.jsx)(oe.a.Prev,{disabled:0===H,onClick:function(){0!==H&&R(H-1)}}),Object(E.jsx)(oe.a.Item,{disabled:!0,children:H}),Object(E.jsx)(oe.a.Next,{disabled:H===B,onClick:function(){H!==B&&R(H+1)}})]})})}),Object(E.jsx)($.a,{className:"justify-content-center mt-5",style:{display:null!=h&&0===K.length?"none":"flex"},children:Object(E.jsx)(d.a,{onSubmit:function(e){if(e.preventDefault(),"none"!==fe){var t=new URLSearchParams;"ascGrade"===fe&&t.append("sort","avgGrade,asc"),"descGrade"===fe&&t.append("sort","avgGrade,desc"),t.append("date",h),t.append("id",D.id),v.get("/api/workers/all/free-pharmacists/pharmacy",{params:t}).then((function(e){return S(e.data)})).catch(S([]))}},style:{display:0===w.length?"none":"block"},children:Object(E.jsxs)(d.a.Group,{as:$.a,className:"align-items-center",children:[Object(E.jsxs)(Z.a,{className:"my__flex",md:6,lg:6,children:[Object(E.jsxs)(d.a.Label,{style:{marginRight:"20px"},children:["Sorter:"," "]}),Object(E.jsxs)(d.a.Control,{as:"select",value:fe,onChange:function(e){ve(e.target.value)}.bind(this),name:"sorter2",children:[Object(E.jsx)("option",{value:"none",children:"none"}),Object(E.jsx)("option",{value:"ascGrade",children:"Pharmacist grade (ascending)"}),Object(E.jsx)("option",{value:"descGrade",children:"Pharmacist grade (descending)"})]})]}),Object(E.jsxs)(Z.a,{className:"justify-content-center",md:6,lg:6,children:[Object(E.jsxs)(j.a,{type:"submit",variant:"primary",children:[" ","Sort"," "]}),Object(E.jsxs)(j.a,{variant:"primary",onClick:function(){Ce(!_e)},children:[" ","Reset"," "]})]})]})})}),Object(E.jsx)($.a,{children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",style:{display:null!==D&&w.length>0?"table":"none",width:"50%"},className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Average grade"})]})}),Object(E.jsx)("tbody",{children:w&&w.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return function(e){J(e)}(e)},className:Q.id===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.avgGrade})]},e.id)}))})]})}),Object(E.jsxs)("p",{style:{textAlign:"center",display:""==De?"none":"block"},children:["You have a discount of ",null===De||void 0===De?void 0:De.discount,"%"]}),Object(E.jsxs)("p",{style:{textAlign:"center",fontSize:"1.3rem",display:""==De||null==D?"none":"block"},children:["Total price:"," ",Object(E.jsx)("span",{style:{textDecoration:"line-through"},children:null===D||void 0===D?void 0:D.consultationPrice}),"   ->   ",(null===D||void 0===D?void 0:D.consultationPrice)*(100-De.discount)/100]}),Object(E.jsx)($.a,{children:Object(E.jsx)(j.a,{variant:"info",onClick:function(){v.post("/api/appointment/reserve-consultation/pharmacy/".concat(D.id,"/pharmacist/").concat(Q.id,"/patient/").concat(P(),"/date/").concat(h,"/")).then((function(e){Le(e.data,{appearance:"success"}),m(null),C([]),ne(!te)})).catch((function(e){Le(g(e),{appearance:"error"}),ne(!te)})),L(null),J({}),S([])},style:{display:0===Object.keys(Q).length||null==D?"none":"inline-block",margin:"auto"},children:"Reserve"})})]})})};var Qn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("History"),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)("none"),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)("none"),f=Object(l.a)(x,2),_=f[0],C=f[1],N=Object(a.useState)(!1),k=Object(l.a)(N,2),w=k[0],S=k[1],T=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("History"!==s){e.next=11;break}return t=new URLSearchParams,"none"!=h&&"none"!=_&&t.append("sort",h+_),e.next=5,v.get("/api/appointment/history/patient/"+P(),{params:t}).catch((function(){}));case 5:return n=e.sent,c(n?n.data:[]),e.abrupt("return",n);case 11:return a=new URLSearchParams,"none"!=h&&"none"!=_&&a.append("sort",h+_),e.next=15,v.get("/api/appointment/upcoming/patient/"+P(),{params:a}).catch((function(){}));case 15:return r=e.sent,c(r?r.data:[]),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,h,_,w]),Object(E.jsx)(pe.a,{fluid:!0,className:"consultation__insight__container",children:Object(E.jsxs)("div",{className:"consultation__insight__content",children:[Object(E.jsxs)($.a,{style:{justifyContent:"space-between"},children:[Object(E.jsx)(Z.a,{className:"my__flex",md:3,lg:3,children:Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:s}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){o("History")},children:"History"}),Object(E.jsx)(ue.a.Item,{onClick:function(){o("Upcoming")},children:"Upcoming"})]})]})}),Object(E.jsxs)(Z.a,{className:"my__flex",md:6,lg:6,children:[Object(E.jsx)(d.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:h}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){m("none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("start time")},children:"start time"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("end time")},children:"end time"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("duration")},children:"duration"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("price")},children:"price"})]})]}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:_}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){C("none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){C("asc")},children:"ascending"}),Object(E.jsx)(ue.a.Item,{onClick:function(){C("desc")},children:"descending"})]})]})]})]}),Object(E.jsx)($.a,{children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Start time"}),Object(E.jsx)("th",{children:"End time"}),Object(E.jsx)("th",{children:"Duration"}),Object(E.jsx)("th",{children:"Price"}),Object(E.jsx)("th",{children:"Pharmacist"}),Object(E.jsx)("th",{children:"Pharmacy"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:n&&n.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:he()(e.startTime).format("DD-MM-YYYY HH:mm")}),Object(E.jsx)("td",{children:he()(e.endTime).format("DD-MM-YYYY HH:mm")}),Object(E.jsx)("td",{children:e.duration}),Object(E.jsx)("td",{children:e.price}),Object(E.jsx)("td",{children:e.workerName}),Object(E.jsx)("td",{children:e.pharmacyName}),Object(E.jsx)("td",{children:Object(E.jsx)(j.a,{variant:"danger",onClick:function(){return t=e.id,void v.put("/api/appointment/cancel-consultation/"+t).then((function(e){T(e.data,{appearance:"success"}),S(!w)})).catch((function(e){T(g(e),{appearance:"error"}),S(!w)}));var t},style:{display:"Upcoming"!==s||(t=e.startTime,(t-(new Date).getTime())/6e4<1440)?"none":"inline-block"},children:"Cancel"})})]},e.id);var t}))})]})})]})})};var Jn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("History"),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)("none"),b=Object(l.a)(u,2),h=b[0],m=b[1],x=Object(a.useState)("none"),f=Object(l.a)(x,2),_=f[0],C=f[1],N=Object(a.useState)(!1),k=Object(l.a)(N,2),w=k[0],S=k[1],T=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("History"!==s){e.next=10;break}return t=new URLSearchParams,"none"!=h&&"none"!=_&&t.append("sort",h+_),e.next=5,v.get("/api/appointment/checkups/history/patient/"+P(),{params:t}).catch((function(){}));case 5:return n=e.sent,c(n?n.data:[]),e.abrupt("return",n);case 10:return a=new URLSearchParams,"none"!=h&&"none"!=_&&a.append("sort",h+_),e.next=14,v.get("/api/appointment/checkups/upcoming/patient/"+P(),{params:a}).catch((function(){}));case 14:return r=e.sent,c(r?r.data:[]),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,h,_,w]),Object(E.jsx)(pe.a,{fluid:!0,className:"consultation__insight__container",children:Object(E.jsxs)("div",{className:"consultation__insight__content",children:[Object(E.jsxs)($.a,{style:{justifyContent:"space-between"},children:[Object(E.jsx)(Z.a,{className:"my__flex",md:3,lg:3,children:Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:s}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){o("History")},children:"History"}),Object(E.jsx)(ue.a.Item,{onClick:function(){o("Upcoming")},children:"Upcoming"})]})]})}),Object(E.jsxs)(Z.a,{className:"my__flex",md:6,lg:6,children:[Object(E.jsx)(d.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:h}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){m("none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("start time")},children:"start time"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("end time")},children:"end time"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("duration")},children:"duration"}),Object(E.jsx)(ue.a.Item,{onClick:function(){m("price")},children:"price"})]})]}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:_}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){C("none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){C("asc")},children:"ascending"}),Object(E.jsx)(ue.a.Item,{onClick:function(){C("desc")},children:"descending"})]})]})]})]}),Object(E.jsx)($.a,{children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Start time"}),Object(E.jsx)("th",{children:"End time"}),Object(E.jsx)("th",{children:"Duration"}),Object(E.jsx)("th",{children:"Price"}),Object(E.jsx)("th",{children:"Pharmacist"}),Object(E.jsx)("th",{children:"Pharmacy"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:n&&n.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:he()(e.startTime).format("DD-MM-YYYY HH:mm")}),Object(E.jsx)("td",{children:he()(e.endTime).format("DD-MM-YYYY HH:mm")}),Object(E.jsx)("td",{children:e.duration}),Object(E.jsx)("td",{children:e.price}),Object(E.jsx)("td",{children:e.workerName}),Object(E.jsx)("td",{children:e.pharmacyName}),Object(E.jsx)("td",{children:Object(E.jsx)(j.a,{variant:"danger",onClick:function(){return t=e.id,void v.put("/api/appointment/cancel-checkup/"+t).then((function(e){T(e.data,{appearance:"success"}),S(!w)})).catch((function(e){T(g(e),{appearance:"error"}),S(!w)}));var t},style:{display:"Upcoming"!==s||(t=e.startTime,(t-(new Date).getTime())/6e4<1440)?"none":"inline-block"},children:"Cancel"})})]},e.id);var t}))})]})})]})})},$n=n(620);var Zn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){h()}),[]);var h=function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/pharmacy/subscribed/patient/"+P()).catch((function(){}));case 2:return t=e.sent,c(t?t.data:[]),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()};return Object(E.jsxs)(pe.a,{fluid:!0,className:"consultation__insight__container",children:[Object(E.jsxs)("div",{className:"consultation__insight__content",children:[Object(E.jsx)($.a,{className:"my__flex",children:Object(E.jsx)("h3",{children:"Pharmacies to which you are subscribed"})}),Object(E.jsx)($.a,{children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Description"}),Object(E.jsx)("th",{children:"Average grade"}),Object(E.jsx)("th",{children:"Address"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:n&&n.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){o(e)},children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.description.length>30?e.description.substr(0,29)+"...":e.description}),Object(E.jsx)("td",{children:e.avgGrade}),Object(E.jsx)("td",{children:e.address}),Object(E.jsx)("td",{children:Object(E.jsx)($n.a,{style:{color:"red"},onClick:function(){b(!0)}})})]},e.id)}))})]})})]}),Object(E.jsx)(Ht,{show:u,title:"Unsubscribe from ".concat(s.name),bodyText:"Press 'confirm' to unsubscribe",onDelete:function(){v.post("/api/pharmacy/".concat(s.id,"/unsubscribe/").concat(P())).then((function(){h(),b(!1)}))},onHide:function(){b(!1)},children:" "})]})};var Xn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/medicine-reservation/reserved-medicines/patient/"+P()).catch((function(){}));case 2:return t=e.sent,c(t?t.data:[]),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(E.jsx)(pe.a,{fluid:!0,className:"consultation__insight__container",children:Object(E.jsxs)("div",{className:"consultation__insight__content",children:[Object(E.jsx)($.a,{className:"my__flex",style:{display:0===n.length?"none":"flex"},children:Object(E.jsx)("h3",{children:"Reserved medicines"})}),Object(E.jsx)($.a,{children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",style:{display:0===n.length?"none":"table"},children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Id"}),Object(E.jsx)("th",{children:"Reservation date"}),Object(E.jsx)("th",{children:"Pickup date"}),Object(E.jsx)("th",{children:"Medicine"}),Object(E.jsx)("th",{children:"Pharmacy"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:n&&n.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.reservationID}),Object(E.jsx)("td",{children:he()(e.reservationDate).format("DD-MM-YYYY HH:mm")}),Object(E.jsx)("td",{children:he()(e.pickupDate).format("DD-MM-YYYY HH:mm")}),Object(E.jsx)("td",{children:e.medicineName}),Object(E.jsx)("td",{children:e.pharmacyName}),Object(E.jsx)("td",{children:Object(E.jsx)(j.a,{variant:"danger",onClick:function(){return t=e.id,void v.put("/api/medicine-reservation/cancel-reservation/"+t).then((function(e){d(e.data,{appearance:"success"}),o(!s)})).catch((function(e){d(g(e),{appearance:"error"}),o(!s)}));var t},style:{display:(t=e.pickupDate,(t-(new Date).getTime())/6e4<1440?"none":"inline-block")},children:"Cancel"})})]},e.id);var t}))})]})}),Object(E.jsx)($.a,{className:"my__flex",style:{display:0===n.length?"block":"none"},children:Object(E.jsx)("h3",{children:"You have no reservations made!"})})]})})},ea=n(50),ta=n(337),na=n.n(ta);var aa=function(){var e=Object(a.useState)("Dermatologist"),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(null),u=Object(l.a)(d,2),b=u[0],h=u[1],m=Object(a.useState)(null),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)(!1),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)(!1),T=Object(l.a)(S,2),I=T[0],D=T[1],L=Object(y.useToasts)().addToast,M=document.querySelectorAll("span");Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Dermatologist"===n?"/api/workers/all-dermatologists/patient/":"Pharmacist"===n?"/api/workers/all-pharmacists/patient/":"Medicine"===n?"/api/medicine/all-medicines/patient/":"/api/pharmacy/all-pharmacies/patient/",e.next=3,v.get(t+P()).then((function(e){o(e.data)})).catch((function(){o([])}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,I]);var A=function(e){h(e),v.get("/api/rating/"+n.toLowerCase()+"/"+e.id+"/patient/"+P()+"/grade").then((function(e){_(e.data)})).catch((function(){}))},H=function(){var e,t=Object(ea.a)(M);try{for(t.s();!(e=t.n()).done;){e.value.classList.add("my__color__star")}}catch(n){t.e(n)}finally{t.f()}};return Object(E.jsx)(pe.a,{fluid:!0,className:"consultation__insight__container",children:Object(E.jsxs)("div",{className:"consultation__insight__content",children:[Object(E.jsx)($.a,{className:"my__flex",children:Object(E.jsx)("h3",{children:"Rating procedure"})}),Object(E.jsx)($.a,{children:Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:n}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){c("Dermatologist"),h(null),_(null),w(!1),H()},children:"Dermatologist"}),Object(E.jsx)(ue.a.Item,{onClick:function(){c("Pharmacist"),h(null),_(null),w(!1),H()},children:"Pharmacist"}),Object(E.jsx)(ue.a.Item,{onClick:function(){c("Medicine"),h(null),_(null),w(!1),H()},children:"Medicine"}),Object(E.jsx)(ue.a.Item,{onClick:function(){c("Pharmacy"),h(null),_(null),w(!1),H()},children:"Pharmacy"})]})]})}),Object(E.jsx)($.a,{style:{display:("Dermatologist"==n||"Pharmacist"==n)&&s.length>0?"flex":"none"},children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Average grade"})]})}),Object(E.jsx)("tbody",{children:s&&s.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return A(e)},className:(null===b||void 0===b?void 0:b.id)===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.avgGrade})]},e.id)}))})]})}),Object(E.jsx)($.a,{style:{display:"Medicine"==n&&s.length>0?"flex":"none"},children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Medicine code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Average grade"})]})}),Object(E.jsx)("tbody",{children:s&&s.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return A(e)},className:(null===b||void 0===b?void 0:b.id)===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.medicineCode}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.avgGrade})]},e.id)}))})]})}),Object(E.jsx)($.a,{style:{display:"Pharmacy"==n&&s.length>0?"flex":"none"},children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Average grade"}),Object(E.jsx)("th",{children:"Address"})]})}),Object(E.jsx)("tbody",{children:s&&s.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return A(e)},className:(null===b||void 0===b?void 0:b.id)===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.avgGrade}),Object(E.jsx)("td",{children:e.address})]},e.id)}))})]})}),Object(E.jsxs)($.a,{className:"my__flex",style:{display:null!=f&&"not graded"!==f?"flex":"none"},children:[Object(E.jsxs)("p",{className:"my__flex",style:{marginBottom:"0"},children:["You have graded last time"," ",f&&he()(null===f||void 0===f?void 0:f.date).format("DD-MM-YYYY HH:mm"),":"," ",Object(ie.a)(Array(f&&(null===f||void 0===f?void 0:f.grade))).map((function(){return Object(E.jsx)(Ue.a,{style:{width:"1.5rem"}})}))]}),Object(E.jsx)(j.a,{disabled:k,variant:"info",onClick:function(){return w(!0)},children:"Change grade"})]}),Object(E.jsx)($.a,{className:"my__flex",style:{display:null!=f&&"not graded"===f||k?"flex":"none"},children:Object(E.jsx)(na.a,{count:5,onChange:function(e){var t,a=Object(ea.a)(M);try{for(a.s();!(t=a.n()).done;){t.value.classList.remove("my__color__star")}}catch(r){a.e(r)}finally{a.f()}var c={id:-1,grade:e,gradedID:b.id,date:(new Date).getTime(),patientId:P(),type:n.toUpperCase()};!1===k?v.post("/api/rating/",c).then((function(e){L(e.data,{appearance:"success"}),w(!1),A(b),D(!I)})).catch((function(e){L(g(e),{appearance:"error"})})):(c.id=f.id,v.put("/api/rating/",c).then((function(e){L(e.data,{appearance:"success"}),w(!1),A(b),D(!I)})).catch((function(e){L(g(e),{appearance:"error"})})))},size:48,activeColor:"green"})}),Object(E.jsx)($.a,{style:{justifyContent:"center",display:0===s.length?"flex":"none"},children:Object(E.jsxs)(le.a,{transition:!0,variant:"warning",children:["There's no ",n.toLowerCase()," to grade!"]})})]})})},ca=function(){var e=Object(a.useState)("PHARMACIST"),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),x=m[0],f=m[1],_=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){var e="/api/patients/".concat(P(),"/");switch(n){case"PHARMACIST":e+="my-pharmacists";break;case"DERMATOLOGIST":e+="my-dermatologists";break;case"PHARMACY":e+="my-pharmacies";break;default:return}v.get(e).then((function(e){O(e.data),o([])})).catch((function(){}))}),[n]);var C=function(e){try{switch(n){case"PHARMACIST":case"DERMATOLOGIST":return"".concat(e.name);case"PHARMACY":return"".concat(e.name," -- ").concat(e.address.street);default:return""}}catch(t){return""}};return Object(E.jsx)(d.a,{onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),s[0])if(x){var t={content:x,complaintOn:C(s[0]),complaintOnId:s[0].id,type:n,date:Date.now(),patientId:P()};v.post("/api/complaints/",JSON.stringify(t)).then((function(){_("Successfully submitted",{appearance:"success"})})).catch((function(e){_(g(e),{appearance:"error"})}))}else _("Please fill out complaint text",{appearance:"warning"});else _("Please select the ".concat(n.toLocaleLowerCase()),{appearance:"warning"})},children:Object(E.jsxs)(pe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(E.jsxs)($.a,{className:"justify-content-between",children:[Object(E.jsx)(Z.a,{md:3,children:Object(E.jsxs)(nt.a,{children:[Object(E.jsx)(at.a,{children:"Select type"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){c(e.target.value)}.bind(undefined),children:[Object(E.jsx)("option",{value:"PHARMACIST",defaultValue:!0,children:"Pharmacist"}),Object(E.jsx)("option",{value:"DERMATOLOGIST",children:"Dermatologist"}),Object(E.jsx)("option",{value:"PHARMACY",children:"Pharmacy"})]})]})}),Object(E.jsx)(Z.a,{md:7,children:Object(E.jsxs)(nt.a,{children:[Object(E.jsx)(at.a,{children:"Select name"}),Object(E.jsx)(Qe.b,{id:"complaintTypeahead",labelKey:function(e){return C(e)},onChange:o,options:h,placeholder:"Select...",selected:s})]})})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Complaint text"}),Object(E.jsx)(d.a.Control,{as:"textarea",rows:5,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(E.jsx)(j.a,{type:"submit",children:"Submit"})]})})},ra=function(e){var t=e.complaint,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.get("/api/complaint-responses/".concat(t.id)).then((function(e){i(e.data?e.data.responseText:"")})).catch((function(){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)(pe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(E.jsxs)($.a,{className:"justify-content-between",children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["For: ",t.complaintOn]})})}),Object(E.jsx)(Z.a,{md:4,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Type: ",t.type]})})}),Object(E.jsx)(Z.a,{md:2,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Date: ",new Date(t.date).toLocaleDateString("sr-sp")]})})})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Complaint text"}),Object(E.jsx)(d.a.Control,{as:"textarea",value:t.content,disabled:!0})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Response text"}),Object(E.jsx)(d.a.Control,{as:"textarea",defaultValue:r,value:r,disabled:!0})]})]})},ia=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.get("/api/complaints/patient/".concat(P())).then((function(e){c(e.data)})).catch((function(){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsx)("div",{children:n&&n.map((function(e){return Object(E.jsx)(ra,{complaint:e},e.id)}))})},sa=function(){return Object(E.jsx)("main",{className:"home__page",children:Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",unmountOnExit:!0,children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"Submit a complaint"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"My complaints"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(Xe.a,{eventKey:"first",children:Object(E.jsx)(ca,{})}),Object(E.jsx)(Xe.a,{eventKey:"second",children:Object(E.jsx)(ia,{})})]})})]})})})},oa=function(e){var t=e.complaint,n=e.onSuccessfulSubmit,c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(y.useToasts)().addToast;return Object(E.jsx)(d.a,{onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),i){var a={responseText:i,complaintId:t.id,adminId:P(),date:Date.now()},c="/api/complaint-responses/".concat(t.id);v.post(c,JSON.stringify(a)).then((function(){n(),o("Successfully submitted",{appearance:"success"})})).catch((function(e){o("Error. Response not submitted!",{appearance:"success"})}))}else o("Please fill out response text",{appearance:"warning"})},children:Object(E.jsxs)(pe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(E.jsxs)($.a,{className:"justify-content-between",children:[Object(E.jsx)(Z.a,{md:6,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["For: ",t.complaintOn]})})}),Object(E.jsx)(Z.a,{md:4,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Type: ",t.type]})})}),Object(E.jsx)(Z.a,{md:2,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Date: ",new Date(t.date).toLocaleDateString("sr-sp")]})})})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Complaint text"}),Object(E.jsx)(d.a.Control,{as:"textarea",rows:5,value:t.content,disabled:!0})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Response text"}),Object(E.jsx)(d.a.Control,{as:"textarea",rows:5,onChange:function(e){s(e.target.value)},required:!0})]}),Object(E.jsx)(j.a,{type:"submit",children:"Submit"})]})})},la=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2);i[0],i[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.get("/api/complaints/new").then((function(e){c(e.data)})).catch((function(){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()};return Object(E.jsx)("div",{children:n&&n.map((function(e){return Object(E.jsx)(oa,{complaint:e,onSuccessfulSubmit:s},e.id)}))})},da=n(328),ja=function(e){var t=e.complaintResponse;return Object(E.jsxs)(pe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(E.jsxs)($.a,{className:"justify-content-between",children:[Object(E.jsx)(Z.a,{md:5,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["For: ",t.complaint.complaintOn]})})}),Object(E.jsx)(Z.a,{md:3,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Type: ",t.complaint.type]})})}),Object(E.jsx)(Z.a,{md:2,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Complaint Date: ",new Date(t.complaint.date).toLocaleDateString("sr-sp")]})})}),Object(E.jsx)(Z.a,{md:2,children:Object(E.jsx)(nt.a,{children:Object(E.jsxs)(at.a,{children:["Response Date: ",new Date(t.date).toLocaleDateString("sr-sp")]})})})]}),Object(E.jsxs)(nt.a,{children:[Object(E.jsx)(at.a,{children:"Complaint text"}),Object(E.jsx)(da.a,{as:"textarea",value:t.complaint.content,disabled:!0})]}),Object(E.jsxs)(nt.a,{children:[Object(E.jsx)(at.a,{children:"Response text"}),Object(E.jsx)(da.a,{as:"textarea",value:t.responseText,disabled:!0})]})]})},ua=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.get("/api/complaint-responses/admin/".concat(P())).then((function(e){c(e.data)})).catch((function(){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsx)("div",{children:n&&n.map((function(e){return Object(E.jsx)(ja,{complaintResponse:e},e.id)}))})},ba=function(){return Object(E.jsx)("main",{className:"home__page",children:Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",unmountOnExit:!0,children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"New complaints"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"History"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(Xe.a,{eventKey:"first",children:Object(E.jsx)(la,{})}),Object(E.jsx)(Xe.a,{eventKey:"second",children:Object(E.jsx)(ua,{})})]})})]})})})},ha=(n(593),function(e){var t=e.pharmacy,n=e.doBuy,c=Object(a.useState)(0),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)({}),d=Object(l.a)(o,2),u=d[0],b=d[1];return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/patients/"+P()+"/points").catch((function(){}));case 2:return t=e.sent,s(t?t.data:0),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/ranking-category/points/"+i).catch((function(){}));case 2:return t=e.sent,b(t?t.data:{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(E.jsxs)(se.a,{style:{marginBottom:"20px"},children:[Object(E.jsx)(se.a.Header,{children:Object(E.jsx)(pe.a,{fluid:!0,children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:{span:3,offset:0},children:"".concat(t.name)}),Object(E.jsx)(Z.a,{md:{span:4,offset:5},children:Object(E.jsx)("div",{style:{float:"right"},children:"".concat(t.addressStreet,", ").concat(t.addressCity)})})]})})}),Object(E.jsx)(se.a.Body,{children:Object(E.jsx)(pe.a,{children:"Grade: ".concat(t.avgGrade)})}),Object(E.jsx)(se.a.Footer,{className:"align-content-end",children:Object(E.jsx)(pe.a,{fluid:!0,children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:{span:3,offset:0},children:"Total price: ".concat(t.totalPrice)}),Object(E.jsx)(Z.a,{md:{span:3,offset:1},children:u&&0!=u.discount?"Total price with discount: ".concat((t.totalPrice*(1-u.discount/100)).toFixed(2)):""}),Object(E.jsx)(Z.a,{md:{span:2,offset:3},children:Object(E.jsx)(j.a,{style:{width:"100%"},onClick:function(){n(t)},children:"Buy"})})]})})})]})}),Oa=function(e){var t=e.pharmacies,n=e.doBuy;return Object(E.jsx)(pe.a,{children:t.map((function(e){return Object(E.jsx)(ha,{pharmacy:e,doBuy:function(){n(e)}})}))})};Oa.defaultProps={pharmacies:[]};var pa=Oa,ma=function(e){var t=e.medicines;return Object(E.jsx)(me.a,{style:{marginBottom:"20px"},children:t.map((function(e){return Object(E.jsx)(me.a.Item,{children:"Code: ".concat(e.medicineCode," -- ").concat(e.medicineName,", Quantity ").concat(e.quantity," pcs")})}))})};ma.defaultProps={medicines:[]};var xa=ma,fa=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),O=h[0],p=h[1],m=Object(a.useState)("totalPrice"),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)("ASC"),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)({}),T=Object(l.a)(S,2),I=T[0],D=T[1],L=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){if(0!==Object.keys(I).length||I.constructor!==Object){var e=I;return"REJECTED"==e.state?(u([]),p(!1),void L("Invalid QR code!",{appearance:"error"})):"PROCESSED"==e.state?(u([]),L("This code has already been processed!",{appearance:"error"}),void p(!1)):void v({method:"post",url:"/api/pharmacy/e-recipe?sort=".concat(f,"&order=").concat(k),data:e}).then((function(e){u(e.data),p(!0)})).catch((function(){u([]),L("Invalid QR code!",{appearance:"error"}),p(!1)}))}}),[I,f,k]);return Object(E.jsx)("div",{className:"consultation__insight__content",children:Object(E.jsxs)(pe.a,{children:[Object(E.jsx)(d.a,{onSubmit:function(e){!function(e){if(e.preventDefault(),e.stopPropagation(),0!==Object.keys(n).length||n.constructor!==Object){var t=new FormData;t.append("file",n),v({method:"post",url:"/api/e-recipes/upload-qr/".concat(P()),data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){D(e.data)})).catch((function(){L("Invalid QR code!",{appearance:"error"})}))}else L("Please select QR code",{appearance:"warning"})}(e)},children:Object(E.jsx)(pe.a,{style:{marginBottom:"15px"},children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{className:"my-auto",md:{span:4,offset:2},children:Object(E.jsxs)(d.a.File,{children:[Object(E.jsx)(d.a.File.Label,{children:"Upload QR Code"}),Object(E.jsx)(d.a.File.Input,{onChange:function(e){return function(e){c(e.target.files[0])}(e)}})]})}),Object(E.jsx)(Z.a,{className:"my-auto",md:{span:4,offset:2},children:Object(E.jsx)(j.a,{type:"submit",children:"Submit"})})]})})}),Object(E.jsxs)(d.a,{hidden:!O,children:[Object(E.jsx)("p",{children:"Required medicine: "}),Object(E.jsx)(xa,{medicines:I.eRecipeItems?I.eRecipeItems:[]}),Object(E.jsx)(pe.a,{children:Object(E.jsxs)($.a,{className:"align-content-between",children:[Object(E.jsx)(Z.a,{md:{span:3,offset:2},children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Sort by"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){_(e.target.value)},children:[Object(E.jsx)("option",{value:"totalPrice",selected:!0,children:"Total price"}),Object(E.jsx)("option",{value:"name",children:"Pharmacy name"}),Object(E.jsx)("option",{value:"avgGrade",children:"Pharmacy grade"}),Object(E.jsx)("option",{value:"addressCity",children:"City"}),Object(E.jsx)("option",{value:"street",children:"Street"})]})]})}),Object(E.jsx)(Z.a,{md:{span:3,offset:2},children:Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Order"}),Object(E.jsxs)(d.a.Control,{as:"select",onChange:function(e){w(e.target.value)},children:[Object(E.jsx)("option",{value:"ASC",selected:!0,children:"Ascending"}),Object(E.jsx)("option",{value:"DESC",children:"Descending"})]})]})})]})})]}),Object(E.jsx)(pa,{pharmacies:s,doBuy:function(e){!function(e){var t=Object(o.a)(Object(o.a)({},I),{},{pharmacyId:e.id,totalPrice:e.totalPrice});v.post("/api/e-recipes/dispense-medicine/".concat(P()),t).then((function(){L("Successfully dispensed!",{appearance:"success"}),D({}),u([]),p(!1)})).catch((function(e){L(g(e),{appearance:"error"})}))}(e)},children:" "})]})})};var va=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],_=x[1],C=Object(a.useState)("none"),N=Object(l.a)(C,2),k=N[0],w=N[1],S=Object(a.useState)("none"),T=Object(l.a)(S,2),I=T[0],D=T[1],L=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/api/e-recipes/patient/"+P()).then((function(e){c(e.data),_(!f)})).catch((function(e){L(g(e),{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]),Object(a.useEffect)((function(){A()}),[f]);var M=function(e){"none"!==e&&(n.sort((function(e,t){return e.prescriptionDate-t.prescriptionDate})),"desc"===e&&n.reverse())},A=function(){if("none"!==I){for(var e=[],t=0;t<n.length;t++)("Processed"===I&&"PROCESSED"===n[t].state||"New"===I&&"NEW"===n[t].state||"Rejected"===I&&"REJECTED"===n[t].state)&&e.push(n[t]);c(e)}};return Object(E.jsxs)("div",{className:"consultation__insight__content",children:[Object(E.jsx)($.a,{style:{justifyContent:"center",marginTop:"50px",display:0===n.length&&"none"===I?"flex":"none"},children:Object(E.jsx)("h3",{children:"You don't have any e-prescriptions!"})}),Object(E.jsxs)($.a,{style:{justifyContent:"center",marginTop:"50px",display:0===n.length&&"none"===I?"none":"flex"},children:[Object(E.jsx)(d.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:k}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){w("none"),M("none")},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){w("Dispensing date (ascending)"),M("asc")},children:"Dispensing date (ascending)"}),Object(E.jsx)(ue.a.Item,{onClick:function(){w("Dispensing date (descending)"),M("desc")},children:"Dispensing date (descending)"})]})]}),Object(E.jsx)(d.a.Label,{style:{marginRight:"20px"},children:"Filter: "}),Object(E.jsxs)(ue.a,{children:[Object(E.jsx)(ue.a.Toggle,{variant:"success",id:"dropdown-basic",children:I}),Object(E.jsxs)(ue.a.Menu,{children:[Object(E.jsx)(ue.a.Item,{onClick:function(){D("none"),h(!b),o(null)},children:"none"}),Object(E.jsx)(ue.a.Item,{onClick:function(){D("Processed"),h(!b),o(null)},children:"Processed"}),Object(E.jsx)(ue.a.Item,{onClick:function(){D("New"),h(!b),o(null)},children:"New"}),Object(E.jsx)(ue.a.Item,{onClick:function(){D("Rejected"),h(!b),o(null)},children:"Rejected"})]})]})]}),Object(E.jsx)($.a,{style:{justifyContent:"space-between",display:0===n.length&&"none"===I?"none":"flex"},children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"State"}),Object(E.jsx)("th",{children:"Prescription date"}),Object(E.jsx)("th",{children:"Dispensing date"})]})}),Object(E.jsx)("tbody",{children:n&&n.map((function(e){return Object(E.jsxs)("tr",{onClick:function(){return function(e){o(e)}(e)},className:(null===s||void 0===s?void 0:s.code)===e.code?"my__row__selected my__table__row":"my__table__row",children:[Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.state}),Object(E.jsx)("td",{children:he()(e.prescriptionDate).format("DD-MM-YYYY HH:mm:ss")}),Object(E.jsx)("td",{children:null!=e.dispensingDate?he()(e.dispensingDate).format("DD-MM-YYYY HH:mm:ss"):"/"})]},e.code)}))})]})}),Object(E.jsx)($.a,{style:{justifyContent:"center",marginTop:"50px",display:null==s?"none":"flex"},children:Object(E.jsx)("h3",{children:"Medicines of e-prescription"})}),Object(E.jsx)($.a,{style:{display:null==s?"none":"flex"},children:Object(E.jsxs)(je.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Code"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Quanitiy"})]})}),Object(E.jsx)("tbody",{children:s&&s.eRecipeItems.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.medicineCode}),Object(E.jsx)("td",{children:e.medicineName}),Object(E.jsx)("td",{children:e.quantity})]},e.medicineCode)}))})]})})]})};var ya=function(){return Object(E.jsx)("main",{className:"home__page",children:Object(E.jsx)(J.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",unmountOnExit:!0,children:Object(E.jsxs)($.a,{className:"my-panel",children:[Object(E.jsx)(Z.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(E.jsxs)(X.a,{variant:"pills",className:"flex-column",children:[Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"first",children:"Upload"})}),Object(E.jsx)(X.a.Item,{children:Object(E.jsx)(X.a.Link,{className:"my__nav__link",eventKey:"second",children:"Review"})})]})}),Object(E.jsx)(Z.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,style:{backgroundColor:"rgba(228, 245, 245, 0.897)"},children:Object(E.jsxs)(J.a.Content,{children:[Object(E.jsx)(Xe.a,{eventKey:"first",children:Object(E.jsx)(fa,{})}),Object(E.jsx)(Xe.a,{eventKey:"second",children:Object(E.jsx)(va,{})})]})})]})})})},ga=function(e){var t=Object(a.useState)(e.category?e.category.name:"b"),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.category?e.category.pointsRequired:0),s=Object(l.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)(e.category?e.category.discount:0),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(y.useToasts)().addToast;Object(a.useEffect)((function(){console.log(e.category),r(e.category?e.category.name:"a"),b(e.category?e.category.pointsRequired:0),m(e.category?e.category.discount:0)}),[]);return Object(E.jsxs)(Oe.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(E.jsx)(Oe.a.Header,{closeButton:!0,children:Object(E.jsx)(Oe.a.Title,{id:"contained-modal-title-vcenter",children:e.category?"Edit ".concat(e.category.name):"Add new category"})}),Object(E.jsx)(Oe.a.Body,{children:Object(E.jsxs)(d.a,{onSubmit:function(t){return function(t){t.preventDefault(),t.stopPropagation();var n={id:e.category?e.category.id:-1,name:c,pointsRequired:parseInt(u),discount:parseFloat(p)};v.post("/api/ranking-category/",n).then((function(){e.onAddEdit(),e.onHide()})).catch((function(e){x(g(e),{appearance:"error"})}))}(t)},children:[Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Name"}),Object(E.jsx)(d.a.Control,{type:"input",onChange:function(e){return r(e.target.value)},defaultValue:e.category?e.category.name:"",required:!0})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Required points"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return b(e.target.value)},defaultValue:e.category?e.category.pointsRequired:0,min:0,max:1e5,step:1,required:!0})]}),Object(E.jsxs)(d.a.Group,{children:[Object(E.jsx)(d.a.Label,{children:"Discount"}),Object(E.jsx)(d.a.Control,{type:"number",onChange:function(e){return m(e.target.value)},defaultValue:e.category?e.category.discount:0,min:0,max:100,step:.01,required:!0})]}),Object(E.jsx)(pe.a,{children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:{span:4,offset:0},children:Object(E.jsx)(j.a,{variant:"outline-danger",onClick:e.onHide,children:"Cancel"})}),Object(E.jsx)(Z.a,{md:{span:4,offset:4},children:Object(E.jsx)(j.a,{variant:"outline-secondary",type:"submit",children:"Confirm"})})]})})]})})]}))},_a=function(e){var t=e.category,n=e.onItemChanged,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],b=d[1];return Object(E.jsxs)(se.a,{style:{marginBottom:"20px"},children:[Object(E.jsx)(se.a.Header,{children:Object(E.jsx)(pe.a,{children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:{span:3,offset:0},children:"".concat(t.name)}),Object(E.jsx)(Z.a,{md:{span:4,offset:5},children:Object(E.jsx)("div",{style:{float:"right"},children:"".concat(t.discount,"%")})})]})})}),Object(E.jsx)(se.a.Body,{children:Object(E.jsx)(pe.a,{children:"Points required: ".concat(t.pointsRequired)})}),Object(E.jsx)(se.a.Footer,{children:Object(E.jsx)(pe.a,{children:Object(E.jsxs)($.a,{children:[Object(E.jsx)(Z.a,{md:{span:4,offset:0},children:Object(E.jsx)(j.a,{variant:"outline-success",style:{width:"100%",marginLeft:"0"},onClick:function(){s(!0)},children:"Edit"})}),Object(E.jsx)(Z.a,{md:{span:4,offset:4},children:Object(E.jsx)(j.a,{variant:"outline-danger",style:{width:"100%"},onClick:function(){b(!0)},children:"Remove"})})]})})}),Object(E.jsx)(Ht,{title:"Remove "+t.name,show:u,onHide:function(){return b(!1)},onDelete:function(){v.delete("/api/ranking-category/".concat(t.id)).then((function(){n()})),b(!1)}}),Object(E.jsx)(ga,{show:i,category:t,onHide:function(){return s(!1)},onAddEdit:function(){n(),b(!1)}})]})},Ca=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],h=u[1];Object(a.useEffect)((function(){v.get("/api/ranking-category/").then((function(e){c(e.data)})).catch((function(){}))}),[s]);return Object(E.jsxs)(pe.a,{style:{marginBottom:"30px",marginTop:"30px"},fluid:!0,children:[Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{md:{span:4,offset:4},children:Object(E.jsx)("div",{children:n.map((function(e){return Object(E.jsx)(_a,{category:e,onItemChanged:function(){o(!s)}},e.id)}))})})}),Object(E.jsx)($.a,{children:Object(E.jsx)(Z.a,{md:{span:2,offset:5},children:Object(E.jsx)(j.a,{style:{width:"100%"},variant:"outline-secondary",onClick:function(){h(!0)},children:"Add new category"})})}),Object(E.jsx)(ga,{show:b,onHide:function(){return h(!1)},onAddEdit:function(){o(!s)}})]})},Na=(n(594),n(595),function(e){var t=e.component,n=e.userType,c=Object(M.a)(e,["component","userType"]),r=Object(y.useToasts)().addToast;return Object(a.useEffect)((function(){void 0!=n&&(n.includes(L())||r("Unauthorized!",{appearance:"error"}))}),[n]),Object(E.jsx)(b.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return n.includes(L())?Object(E.jsx)(t,Object(o.a)({},e)):Object(E.jsx)(b.a,{to:"/"})}}))});var ka=function(){return Object(E.jsx)(y.ToastProvider,{autoDismiss:"true",autoDismissTimeout:"4000",placement:"top-center",children:Object(E.jsxs)(qe.a,{children:[Object(E.jsxs)("div",{style:{minHeight:"100vh"},children:[Object(E.jsx)(kn,{}),Object(E.jsxs)(b.d,{children:[Object(E.jsx)(b.b,{path:"/",exact:!0,component:bt}),Object(E.jsx)(Na,{path:"/registration",component:Q,userType:[null]}),Object(E.jsx)(Na,{path:"/login",component:F,userType:[null]}),Object(E.jsx)(Na,{path:"/pharmacy/:id",component:Pt,userType:[null,"PATIENT","PHARMACY_ADMIN","ADMIN","DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/medicine/:id/pharmacy/:pid/price/:priceid",component:At,userType:[null,"PATIENT","PHARMACY_ADMIN","ADMIN","DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/profile",exact:!0,component:gt,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/infoProfile",exact:!0,component:vt,userType:["ADMIN","PHARMACIST","DERMATOLOGIST","SUPPLIER","PHARMACY_ADMIN"]}),Object(E.jsx)(Na,{path:"/reserve-consultation/pharmacies",component:Wn,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/consultations-insight",component:Qn,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/subscribed-pharmacies",component:Zn,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/rating",component:aa,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/reserved-medicines",component:Xn,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/checkups-insight",component:Jn,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/admin/pharmacies",component:Qt,userType:["ADMIN"]}),Object(E.jsx)(Na,{path:"/admin/medicine",component:dn,userType:["ADMIN"]}),Object(E.jsx)(Na,{path:"/worker/search-patients",component:On,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/worker/dermatologist_profile",component:Gn,userType:["DERMATOLOGIST"]}),Object(E.jsx)(Na,{path:"/worker/pharmacist_profile",component:Yn,userType:["PHARMACIST"]}),Object(E.jsx)(Na,{path:"/admin/users",component:Un,userType:["ADMIN"]}),Object(E.jsx)(Na,{path:"/worker/examined",component:pn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/worker/calendar",component:Ln,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/worker/appointment_report",component:An,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/worker/vacation",component:Rn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/worker/issue_medicine",component:Bn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(E.jsx)(Na,{path:"/user/complaints",component:sa,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/admin/complaint-responses",component:ba,userType:["ADMIN"]}),Object(E.jsx)(Na,{path:"/e-prescription",component:ya,userType:["PATIENT"]}),Object(E.jsx)(Na,{path:"/admin/loyalty",component:Ca,userType:["ADMIN"]})]})]}),Object(E.jsx)(kt,{})]})})},wa=n(100),Sa=Object(wa.c)({user:N}),Ta=Object(m.a)({reducer:Sa});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(u.a,{store:Ta,children:Object(E.jsx)(ka,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,n){}},[[596,1,2]]]);
//# sourceMappingURL=main.69878899.chunk.js.map