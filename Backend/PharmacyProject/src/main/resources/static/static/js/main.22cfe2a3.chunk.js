(this["webpackJsonppharmacy-front"]=this["webpackJsonppharmacy-front"]||[]).push([[0],{112:function(e,t,n){},130:function(e,t,n){},141:function(e,t,n){},166:function(e,t,n){},188:function(e,t,n){},277:function(e,t,n){},308:function(e,t,n){},366:function(e,t,n){},517:function(e,t,n){},518:function(e,t,n){},592:function(e,t,n){},597:function(e,t,n){},598:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(55),s=n.n(r),i=(n(366),n(117),n(141),n(35)),o=n(6),l=n(3),d=n(56),j=n.n(d),u=n(57),b=n(123),h=n(46),O=n(51),p=n(5),m=n.n(p),x=n(9),f=n(226),v=j.a.create({baseURL:"https://apotekaprojekat.herokuapp.com",headers:{"Content-Type":"application/json"}});v.interceptors.request.use((function(e){var t=null;try{t=JSON.parse(localStorage.getItem("user")).token}catch(n){}return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var y=v,g=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,_=Object(f.b)({name:"user",initialState:{user:g},reducers:{loginSuccess:function(e,t){e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},logoutSuccess:function(e,t){e.user=null,localStorage.removeItem("user")}}}),C=_.reducer,k=_.actions,w=k.loginSuccess,N=k.logoutSuccess,S=function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t(N()));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},T=n(160),I=n(0);function D(e){var t=e.name,n=e.placeholder,c=e.minLength,r=e.maxLength,s=e.defaultValue,i=e.required,d=e.pattern,j=e.onChange,b=e.disabled,h=Object(T.a)(e,["name","placeholder","minLength","maxLength","defaultValue","required","pattern","onChange","disabled"]),O=Object(a.useState)(""),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)(),v=Object(l.a)(f,2),y=v[0],g=v[1];Object(a.useEffect)((function(){if(d){var e=d.match(/\/(.+)\/.*/)[1],t=d.match(/\/.+\/(.*)/)[1],n=new RegExp(e,t);g(n)}}),[]);return Object(I.jsxs)(u.a.Group,Object(o.a)(Object(o.a)({},h),{},{children:[Object(I.jsx)(u.a.Label,{children:t}),Object(I.jsx)(u.a.Control,{type:"text",placeholder:n,defaultValue:s,isInvalid:!!m,onChange:function(e){j(e),function(e){var t="";!i||e&&""!==e?d?y.test(e)||(t="Input data is not in a valid format"):t=c&&e.length<c?"Minimum number of characters is "+c+".":r&&e.length>r?"Maximum number of characters is "+r+".":"":t="This field cannot be blank!",x(t)}(e.target.value)}.bind(this),required:i,disabled:b}),Object(I.jsx)(u.a.Control.Feedback,{type:"invalid",children:m})]}))}D.defaultProps={required:!1,minLength:0,onChange:function(){},maxLength:100,pattern:"",disabled:!1};var P=D;var L=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"E-mail",placeholder:"Enter e-mail...",minLength:1,maxLength:30,required:!0,onChange:function(t){return e.onChange(t)},pattern:'/^(([^<>()[\\]\\.,;:\\s@"]+(\\.[^<>()[\\]\\.,;:\\s@"]+)*)|(".+"))@(([^<>()[\\]\\.,;:\\s@"]+\\.)+[^<>()[\\]\\.,;:\\s@"]{2,})$/i'}))};function E(e){var t=e.name,n=e.minLength,c=e.maxLength,r=e.onChange,s=Object(T.a)(e,["name","minLength","maxLength","onChange"]),i=Object(a.useState)(""),d=Object(l.a)(i,2),j=d[0],b=d[1],h=function(e){var t="";t=e&&""!==e?n&&e.length<n?"Minimum number of characters is "+n+".":c&&e.length>c?"Maximum number of characters is "+c+".":"":"Password cannot be blank!",b(t)};Object(a.useEffect)(h,[]);return Object(I.jsxs)(u.a.Group,Object(o.a)(Object(o.a)({},s),{},{children:[Object(I.jsx)(u.a.Label,{children:t}),Object(I.jsx)(u.a.Control,{type:"password",isInvalid:!!j,onChange:function(e){r(e),h(e.target.value)}.bind(this),required:!0}),Object(I.jsx)(u.a.Control.Feedback,{type:"invalid",children:j})]}))}E.defaultProps={minLength:6,onChange:function(){},maxLength:255,name:"Password"};var M=E;var A=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),d=s[0],j=s[1],p=Object(h.b)(),f=Object(h.c)((function(e){return e.user})),v=function(e,t){c(Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},e,t)))};return f.user?Object(I.jsx)(O.a,{to:"/"}):Object(I.jsxs)(u.a,{noValidate:!0,validated:d,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(j(!0),p(function(e){var t=e.email,n=e.password;return function(){var e=Object(x.a)(m.a.mark((function e(a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post("/api/auth/login/",{email:t,password:n});case 3:c=e.sent,a(w(c.data)),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),alert("User not found"),e.abrupt("return",console.error(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(n)))},className:"my__login__form",children:[Object(I.jsx)(L,{onChange:function(e){return v("email",e.target.value)}}),Object(I.jsx)(M,{onChange:function(e){return v("password",e.target.value)}}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})};var H=function(){return Object(I.jsx)("main",{className:"home__page my__login__container",children:Object(I.jsx)(A,{})})};var R=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"First Name",placeholder:"Enter first name...",minLength:1,maxLength:30,onChange:function(t){e.onChange(t)},required:!0}))};var G=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Last Name",placeholder:"Enter last name...",minLength:1,maxLength:60,onChange:function(t){e.onChange(t)},required:!0}))};var Y=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Phone Number",placeholder:"Enter phone number...",minLength:1,maxLength:30,required:!0,onChange:function(t){return e.onChange(t)},pattern:"/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/"}))};var B=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"City",placeholder:"Enter city...",minLength:1,maxLength:100,onChange:function(t){e.onChange(t)},required:!0}))};var F=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Country",placeholder:"Enter country...",minLength:1,maxLength:100,onChange:function(t){e.onChange(t)},required:!0}))};var q=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Street",placeholder:"Enter street...",minLength:1,maxLength:150,onChange:function(t){e.onChange(t)},required:!0}))},V=n(624),K=n(605);var z=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("style",{type:"text/css",children:'\n                    [variant="modal-header-error"] {\n                        background: #e85e6c;\n                        text-align: center;\n                        margin: -5px, -5px, 0, 0;\n                        padding: 10px;\n                      }\n                '}),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(I.jsx)(V.a.Header,{variant:"modal-header-error",className:"justify-content-center",closeButton:!0,children:Object(I.jsx)(K.a,{color:"white",size:26})}),Object(I.jsxs)(V.a.Body,{className:"justify-content-center",children:[Object(I.jsx)("h4",{children:"Oops!"}),Object(I.jsx)("p",{children:e.message}),Object(I.jsx)(b.a,{className:"float-right",variant:"outline-secondary",onClick:e.onHide,children:"Close"})]})]}))]})},U=n(606);var W=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("style",{type:"text/css",children:'\n                    [variant="modal-header-success"] {\n                        background: #B9E883;\n                        text-align: center;\n                        margin: -5px, -5px, 0, 0;\n                        padding: 10px;\n                      }\n                '}),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(I.jsx)(V.a.Header,{variant:"modal-header-success",className:"justify-content-center",closeButton:!0,children:Object(I.jsx)(U.a,{color:"white",size:26})}),Object(I.jsxs)(V.a.Body,{className:"justify-content-center",children:[Object(I.jsx)("p",{children:e.message}),Object(I.jsx)(b.a,{className:"float-right",variant:"outline-secondary",onClick:e.onHide,children:"Close"})]})]}))]})};var J=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),d=s[0],j=s[1],p=Object(h.c)((function(e){return e.user})),m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],k=_[1],w=function(e,t){c(Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},e,t)))},N=function(){var e=S(n);console.log(e),y.post("/api/users/",e).then((function(){c({}),k(!0)})).catch((function(){v(!0)}))},S=function(){var e={city:n.city,street:n.street,country:n.country},t=Object(o.a)(Object(o.a)({},n),{},{address:e,roleName:"PATIENT"});return delete t.city,delete t.street,delete t.country,t};return p.user?Object(I.jsx)(O.a,{to:"/"}):Object(I.jsxs)("main",{className:"home__page my__login__container",children:[Object(I.jsxs)(u.a,{noValidate:!0,validated:d,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(j(!0),N())},className:"my__login__form",children:[Object(I.jsx)(R,{onChange:function(e){return w("firstName",e.target.value)}}),Object(I.jsx)(G,{onChange:function(e){return w("lastName",e.target.value)}}),Object(I.jsx)(L,{onChange:function(e){return w("email",e.target.value)}}),Object(I.jsx)(M,{onChange:function(e){return w("password",e.target.value)}}),Object(I.jsx)(Y,{onChange:function(e){return w("telephone",e.target.value)}}),Object(I.jsx)(B,{onChange:function(e){return w("city",e.target.value)}}),Object(I.jsx)(q,{onChange:function(e){return w("street",e.target.value)}}),Object(I.jsx)(F,{onChange:function(e){return w("country",e.target.value)}}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(I.jsx)(z,{show:f,onHide:function(){return v(!1)},message:"Something went wrong. User registration failed."}),Object(I.jsx)(W,{show:C,onHide:function(){return k(!1)},message:"Successfully registred. Please confirm your email.",children:" "})]})};function Q(){try{var e=JSON.parse(localStorage.getItem("user")).token;return JSON.parse(atob(e.split(".")[1])).id}catch(t){return null}}function Z(){try{var e=JSON.parse(localStorage.getItem("user")).token;return JSON.parse(atob(e.split(".")[1])).userType}catch(t){return null}}var $=n(136),X=n(86),ee=n(66),te=n(95),ne=(n(277),n(166),n(225)),ae=n(157),ce=n(159),re=n(158),se=n(29),ie=n(15);var oe=function(e){var t=e.pharmacyDetails,n=e.changedPharmacy,c=Object(ie.useToasts)().addToast,r=Object(a.useState)(null),s=Object(l.a)(r,2),d=s[0],j=s[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(a.useState)(!0),f=Object(l.a)(x,2),v=f[0],g=f[1],_=Object(a.useState)({name:"",description:"",country:"",city:"",street:"",longitude:0,latitude:0}),C=Object(l.a)(_,2),k=C[0],w=C[1],N=function(e){var t=e.target.name,n=e.target.value;T(t,n),w(Object(o.a)(Object(o.a)({},k),{},Object(i.a)({},t,n)))},S=function(e,t){w(Object(o.a)(Object(o.a)({},k),{},{latitude:t,longitude:e})),"longitude"!==d&&"latitude"!==d||(j(null),g(!0)),y.get("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(e,"&localityLanguage=en")).then((function(n){w(Object(o.a)(Object(o.a)({},k),{},{country:n.data.countryName,latitude:t,longitude:e,street:n.data.locality}))})).catch((function(e){c(e.response.data,{appearance:"error"})}))},T=function(e,t){var n=!0,a="";if(""==t&&(n=!1,a="Value '".concat(e,"' is required.")),"longitude"===e||"latitude"===e){var r=t.split(/\./);(n=2===r.length&&(Number.parseInt(r[0]).toString()===r[0]&&Number.parseInt(r[1]).toString()===r[1]))||(a="Value '".concat(e,"' is not valid. Example of valid value is '19.833549'"))}j(n?null:e),g(n),""!=a&&c(a,{appearance:"warning"})};return Object(a.useEffect)((function(){var e,n,a,c,r,s,i;w({name:null===t||void 0===t?void 0:t.name,description:null===t||void 0===t?void 0:t.description,country:null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.country,city:null===t||void 0===t||null===(n=t.address)||void 0===n?void 0:n.city,street:null===t||void 0===t||null===(a=t.address)||void 0===a?void 0:a.street,longitude:null===t||void 0===t||null===(c=t.address)||void 0===c||null===(r=c.location)||void 0===r?void 0:r.longitude,latitude:null===t||void 0===t||null===(s=t.address)||void 0===s||null===(i=s.location)||void 0===i?void 0:i.latitude})}),[t]),Object(a.useEffect)((function(){var e,n,a,c;document.getElementById("divForMap").innerHTML="";var r=new ne.a({target:"divForMap",layers:[new ce.a({source:new ae.a})],view:new re.a({center:Object(se.d)([null===t||void 0===t||null===(e=t.address)||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude,null===t||void 0===t||null===(a=t.address)||void 0===a||null===(c=a.location)||void 0===c?void 0:c.latitude]),zoom:10,minZoom:5,maxZoom:12})});return p?r.on("click",(function(e){var t=Object(se.l)(e.coordinate),n=t[1],a=t[0];S(a,n)})):r.removeEventListener("click"),r}),[t,p,S]),Object(I.jsxs)($.a.Pane,{eventKey:"first",children:[Object(I.jsx)("h1",{className:"content-header",children:"Basic informations"}),Object(I.jsx)("hr",{}),Object(I.jsxs)(u.a,{children:[Object(I.jsxs)(X.a,{className:"row-content",children:[Object(I.jsxs)(ee.a,{lg:6,md:12,sm:12,children:[Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalName",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"Name"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"name",placeholder:"Name",disabled:!p||null!==d&&"name"!==d,value:null===k||void 0===k?void 0:k.name,onChange:N})})]}),Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalDescription",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"Description"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"description",placeholder:"Description",disabled:!p||null!==d&&"description"!==d,value:null===k||void 0===k?void 0:k.description,onChange:N})})]}),Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalCountry",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"Country"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"country",placeholder:"Country",disabled:!p||null!==d&&"country"!==d,value:null===k||void 0===k?void 0:k.country,onChange:N})})]}),Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalCity",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"City"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"city",placeholder:"City",disabled:!p||null!==d&&"city"!==d,value:null===k||void 0===k?void 0:k.city,onChange:N})})]}),Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalStreet",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"Street"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"street",placeholder:"Street",disabled:!p||null!==d&&"street"!==d,value:null===k||void 0===k?void 0:k.street,onChange:N})})]}),Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalLongitude",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"Longitude"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"longitude",placeholder:"Longitude",disabled:!p||null!==d&&"longitude"!==d,value:null===k||void 0===k?void 0:k.longitude,onChange:N})})]}),Object(I.jsxs)(u.a.Group,{as:X.a,controlId:"formHorizontalLatitude",children:[Object(I.jsx)(u.a.Label,{column:!0,sm:2,children:"Latitude"}),Object(I.jsx)(ee.a,{sm:10,children:Object(I.jsx)(u.a.Control,{type:"text",name:"latitude",placeholder:"Latitude",disabled:!p||null!==d&&"latitude"!==d,value:null===k||void 0===k?void 0:k.latitude,onChange:N})})]})]}),Object(I.jsx)(ee.a,{lg:6,md:12,sm:12,children:Object(I.jsx)("div",{id:"divForMap"})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{className:"center",children:[Object(I.jsx)(b.a,{variant:"primary",size:"lg",disabled:!p||!v,onClick:function(){v&&m(!1);var e={id:t.id,name:k.name,description:k.description,address:{id:t.address.id,country:k.country,city:k.city,street:k.street,location:{id:t.address.location.id,longitude:k.longitude,latitude:k.latitude}}};y.put("/api/pharmacy/".concat(t.id),e).then((function(e){n(),c(e.data,{appearance:"success"})})).catch((function(e){c(e.response.data,{appearance:"error"})}))},children:"Save"})," ",Object(I.jsx)(b.a,{variant:"secondary",size:"lg",disabled:p,onClick:function(){m(!0)},children:"Edit"}),Object(I.jsx)(b.a,{variant:"secondary",size:"lg",disabled:!p,onClick:function(){var e,n,a,c,r,s,i;g(!0),m(!1),w({name:null===t||void 0===t?void 0:t.name,description:null===t||void 0===t?void 0:t.description,country:null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.country,city:null===t||void 0===t||null===(n=t.address)||void 0===n?void 0:n.city,street:null===t||void 0===t||null===(a=t.address)||void 0===a?void 0:a.street,longitude:null===t||void 0===t||null===(c=t.address)||void 0===c||null===(r=c.location)||void 0===r?void 0:r.longitude,latitude:null===t||void 0===t||null===(s=t.address)||void 0===s||null===(i=s.location)||void 0===i?void 0:i.latitude})},children:"Cancel"})]})})]})]})},le=n(36),de=n(626),je=n(627),ue=n(609),be=n(610),he=n(607),Oe=n(16),pe=n(13),me=n.n(pe),xe=n(331),fe=n(608);var ve=function(e){var t,n,c=Object(ie.useToasts)().addToast,r=Object(a.useState)(-1),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(""),h=Object(l.a)(j,2),O=h[0],p=h[1],m=Object(a.useState)(100),x=Object(l.a)(m,2),f=x[0],v=x[1],y=Object(a.useState)([]),g=Object(l.a)(y,2),_=g[0],C=g[1],k=Object(a.useState)([]),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(a.useState)(null),D=Object(l.a)(T,2),P=D[0],L=D[1];return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){d(-1),v(100),C([]),S([]),p(""),L(null)}},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add order items"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(xe.a,{children:[Object(I.jsxs)(X.a,{children:[Object(I.jsxs)(ee.a,{xs:12,md:8,lg:8,children:[Object(I.jsxs)(he.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Avg. grade"}),Object(I.jsx)("th",{children:"Amount"})]})}),Object(I.jsx)("tbody",{children:0!=(null===e||void 0===e||null===(t=e.medicineList)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.medicineList)||void 0===n?void 0:n.map((function(e,t){return Object(I.jsxs)("tr",{onClick:function(){var t,n;N.includes(e.medicine.id)||(t=e.medicine.id,n=e.medicine.name,d(t),p(n))},className:"".concat(i==e.medicine.id&&"selectedRow","  ").concat(N.includes(e.medicine.id)?"disabledRow":"pointer"," "),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.medicine.code}),Object(I.jsx)("td",{children:e.medicine.name}),Object(I.jsx)("td",{children:e.medicine.avgGrade}),Object(I.jsx)("td",{children:e.amount})]})})))})]}),Object(I.jsxs)(u.a.Group,{controlId:"amountPicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Order amount"}),Object(I.jsx)(u.a.Control,{type:"number",value:f,disabled:-1==i,onChange:function(e){return v(Number.parseInt(e.target.value))},min:"1"})]}),Object(I.jsx)(b.a,{disabled:-1==i,onClick:function(){C([].concat(Object(le.a)(_),[{medicineId:i,amount:f,name:O}])),S([].concat(Object(le.a)(N),[i])),d(-1),p("")},variant:"success",children:"Add item"})]}),Object(I.jsx)(ee.a,{children:Object(I.jsx)(fe.a,{variant:"flush",children:null===_||void 0===_?void 0:_.map((function(e){return Object(I.jsxs)(fe.a.Item,{onClick:function(){return t=e.medicineId,S(N.filter((function(e){return e!=t}))),void C(_.filter((function(e){return e.medicineId!=t})));var t},className:"pointer",variant:"dark",children:[null===e||void 0===e?void 0:e.name," ",null===e||void 0===e?void 0:e.amount]})}))})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)(u.a.Group,{controlId:"datePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Deadline date"}),Object(I.jsx)(u.a.Control,{type:"date",onChange:function(e){return function(e){var t=e.split("-"),n=new Date(Number.parseInt(t[0]),Number.parseInt(t[1])-1,Number.parseInt(t[2]));n.setHours(0,0,0);var a=new Date;n.getTime()>a.getTime()?L(n):(L(null),c("End date should be in future!",{appearance:"warning"}))}(e.target.value)}})]})})})]})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:0==(null===_||void 0===_?void 0:_.length)||null===P,variant:"primary",onClick:function(){e.handleAdd({orders:_,startDate:P})},children:"Save Changes"})]})]}))};var ye=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(-1),i=Object(l.a)(s,2),d=i[0],j=i[1];function u(){return(u=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/suppliers/offers/byorderid/".concat(e.orderId));case 2:return n=t.sent,r(n.data),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=e.orderId&&function(){u.apply(this,arguments)}()}),[e.orderId]),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){j(-1)}},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Choose offer"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(he.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Price"}),Object(I.jsx)("th",{children:"Delivery date"}),Object(I.jsx)("th",{children:"Supplier"})]})}),Object(I.jsx)("tbody",{children:0!=(null===c||void 0===c?void 0:c.length)&&(null===c||void 0===c?void 0:c.map((function(e,t){return Object(I.jsxs)("tr",{onClick:function(){var t;t=e.id,j(t)},className:"".concat(d==e.id?"selectedRow":"pointer"),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.price}),Object(I.jsx)("td",{children:me()(e.deliveryDat).format("DD MMM YYYY   hh:mm a")}),Object(I.jsx)("td",{children:e.worker})]})})))})]})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:-1==d,variant:"primary",onClick:function(){e.handleSelect(d)},children:"Save Changes"})]})]}))};var ge=function(e){var t=Object(ie.useToasts)().addToast,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],s=c[1];return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){s(null)}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Edit deadline"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)("h4",{children:["Old deadline is"," ",me()(e.order.deliveryDat).format("DD MMM YYYY")]})})}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)(u.a.Group,{controlId:"datePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Deadline date"}),Object(I.jsx)(u.a.Control,{type:"date",onChange:function(e){return function(e){var n=e.split("-"),a=new Date(Number.parseInt(n[0]),Number.parseInt(n[1])-1,Number.parseInt(n[2]));a.setHours(0,0,0);var c=new Date;a.getTime()>c.getTime()?s(a):(s(null),t("The date must be in the future.",{appearance:"warning"}))}(e.target.value)}})]})})})]})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:null===r,variant:"primary",onClick:function(){e.handleEdit(r)},children:"Save Changes"})]})]}))};var _e=function(e){var t=e.idOfPharmacy,n=e.priceListId,c=e.refresh,r=e.refreshInq,s=e.setRefreshInq,i=Object(ie.useToasts)().addToast,o=Object(a.useState)([]),d=Object(l.a)(o,2),j=d[0],u=d[1],h=Object(a.useState)("All"),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)([]),g=Object(l.a)(v,2),_=g[0],C=g[1],k=Object(a.useState)(null),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(a.useState)(0),D=Object(l.a)(T,2),P=D[0],L=D[1],E=Object(a.useState)(0),M=Object(l.a)(E,2),A=M[0],H=M[1],R=Object(a.useState)("All"),G=Object(l.a)(R,2),Y=G[0],B=G[1],F=Object(a.useState)(!1),q=Object(l.a)(F,2),V=q[0],K=q[1],z=Object(a.useState)(!1),U=Object(l.a)(z,2),W=U[0],J=U[1],Z=Object(a.useState)(!1),te=Object(l.a)(Z,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),re=Object(l.a)(ce,2),se=re[0],oe=re[1],pe=Object(a.useState)([]),xe=Object(l.a)(pe,2),fe=xe[0],_e=xe[1];function Ce(){return(Ce=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pricelist/".concat(n)).then((function(e){_e(e.data.medicineItems)})).catch((function(e){i(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return we.apply(this,arguments)}function we(){return(we=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/orders/bypharmacyid/".concat(t),{params:{filter:p}});case 2:return n=e.sent,u(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=n&&function(){Ce.apply(this,arguments)}()}),[n,c]),Object(a.useEffect)((function(){void 0!=t&&ke()}),[t,p]);var Ne=function(e){S(null),L(0),f(e)};function Se(){return(Se=Object(x.a)(m.a.mark((function e(n){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pharmacyId:t,deadline:n.startDate.getTime(),items:Object(le.a)(n.orders),adminId:Q()},e.next=3,y.post("/api/orders/addorder",a).then((function(e){ke(),i(e.data,{appearance:"success"})})).catch((function(e){i(e.response.data,{appearance:"error"})}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/api/orders/".concat(N.id)).then((function(e){ke(),i(e.data,{appearance:"success"})})).catch((function(e){i(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=Math.floor((null===j||void 0===j?void 0:j.length)/4)-1;(null===j||void 0===j?void 0:j.length)/4-1>e&&(e+=1),H(e)}),[j]),Object(a.useEffect)((function(){var e=4*P,t=j.length<e+4?null===j||void 0===j?void 0:j.length:e+4;C(null===j||void 0===j?void 0:j.slice(e,t))}),[j,P]);var Ie=function(){!function(){Te.apply(this,arguments)}()};function De(){return(De=Object(x.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={selectedOfferId:t,orderId:N.id,adminId:Q()},ae(!0),e.next=4,y.post("/api/suppliers/offers/accept/",n).then((function(e){ae(!1),Ne("All"),B("All"),s(!r),i(e.data,{appearance:"success"})})).catch((function(e){i(e.response.data,{appearance:"error"})}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.put("/api/orders/".concat(N.id,"/").concat(t.getTime(),"/")).then((function(e){ke(),i(e.data,{appearance:"success"})})).catch((function(e){i(e.response.data,{appearance:"error"})}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(I.jsxs)($.a.Pane,{eventKey:"seventh",children:[Object(I.jsx)("h1",{className:"content-header",children:"Purchase orders"}),Object(I.jsx)("hr",{}),Object(I.jsxs)(X.a,{children:[" ",Object(I.jsxs)(Oe.a,{children:[Object(I.jsxs)(Oe.a.Toggle,{variant:"primary",id:"dropdown-basic",children:["Filter : ",Y]}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){Ne("All"),B("All")},children:"All"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){Ne("InProgress"),B("InProgress")},children:"In progress"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){Ne("OnHold"),B("OnHold")},children:"On hold"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){Ne("Processed"),B("Processed")},children:"Ended"})]})]}),Object(I.jsx)(b.a,{variant:"success",size:"md",onClick:function(){oe(!0)},children:"Add purchase order"}),Object(I.jsx)(ve,{medicineList:fe,idOfPharmacy:t,show:se,onHide:function(){oe(!1)},handleAdd:function(e){oe(!1),function(e){Se.apply(this,arguments)}(e)}})]}),Object(I.jsx)(X.a,{children:_!=[]&&(null===_||void 0===_?void 0:_.map((function(e,t){return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:4,children:Object(I.jsxs)(de.a,{onClick:function(){S(e)},className:"my__card",style:{width:"22rem",height:"10rem"},children:[Object(I.jsx)(de.a.Body,{children:Object(I.jsxs)(de.a.Title,{children:["Order ",e.id]})}),Object(I.jsx)(de.a.Footer,{children:me()(e.deadline).format("DD MMM YYYY   hh:mm a")})]})},t)})))}),Object(I.jsx)(X.a,{className:"my__row__pagination",children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===P,onClick:function(){0!==P&&L(P-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:P}),Object(I.jsx)(je.a.Next,{disabled:P===A,onClick:function(){P!==A&&L(P+1)}})]})})}),null!=N&&Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{children:Object(I.jsx)(ue.a,{variant:"secondary",children:Object(I.jsxs)(ue.a.Heading,{children:["Order ",N.id]})})}),Object(I.jsxs)(ee.a,{className:"center",children:[Object(I.jsx)(b.a,{disabled:null==N||N.adminId!=Q(),variant:"info",size:"lg",onClick:function(){J(!0)},children:"Edit"}),Object(I.jsx)(ge,{order:N,show:W,onHide:function(){J(!1)},handleEdit:function(e){J(!1),function(e){Pe.apply(this,arguments)}(e)}}),Object(I.jsx)(b.a,{disabled:null==N||"OnHold"!==Y||N.adminId!=Q(),variant:"primary",size:"lg",onClick:function(){K(!0)},children:"Choose offer"}),Object(I.jsx)(b.a,{disabled:null==N||N.adminId!=Q(),variant:"danger",size:"lg",onClick:function(){Ie()},children:"Delete"})]})]}),Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{}),Object(I.jsxs)(ee.a,{className:"center",children:[" ",Object(I.jsx)(be.a,{style:{display:ne?"block":"none"},animation:"border"}),Object(I.jsx)("hr",{})]}),Object(I.jsx)(ee.a,{})]}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:N&&Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Amount"})]})}),Object(I.jsxs)("tbody",{children:[Object(I.jsx)(ye,{orderId:N.id,show:V,onHide:function(){K(!1)},handleSelect:function(e){K(!1),function(e){De.apply(this,arguments)}(e)}}),N&&N.orderItem.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.medicine.code}),Object(I.jsx)("td",{children:e.medicine.name}),Object(I.jsx)("td",{children:e.amount})]})}))]})]})})})]})};var Ce=function(e){var t=e.idOfPharmacy,n=Object(ie.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)([]),d=Object(l.a)(o,2),j=d[0],h=d[1],O=Object(a.useState)(new Date),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)("10:00"),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(0),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(15),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(a.useState)(2e3),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(a.useState)(!0),Y=Object(l.a)(G,2),B=Y[0],F=Y[1];Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/workplace/dermatologists/bypharmacyid/".concat(t));case 2:return n=e.sent,i(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){0!=S?function(){var e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/appointment/all/bydermatologistid/".concat(S),{params:{date:f.getTime()}}).then((function(e){h(e.data)})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():h([])}),[f,S,B]),Object(a.useEffect)((function(){if(s!==[]){var e,t=!1;for(e=0;e<s.length;e++)if(s[e].worker.id==S){var a=void 0;for(a=0;a<s[e].workDays.length;a++)if(!s[e].workDays[a].weekday.localeCompare(f.toString().substring(0,3).toUpperCase())){var c=new Date,r=new Date;c.setHours(s[e].workDays[a].startTime),r.setHours(s[e].workDays[a].endTime),n("Workshedule : ".concat(me()(c.getTime()).format("hh:00 a")," - ").concat(me()(r.getTime()).format("hh:00 a")),{appearance:"info"}),t=!0;break}}t||0!=S&&n("It's a non-working day",{appearance:"info"})}}),[S,f]);var q=function(){k("10:00"),E(15),F(!B),R(2e3)};return Object(I.jsxs)($.a.Pane,{eventKey:"fourth",children:[Object(I.jsx)("h1",{className:"content-header",children:"Add appointment"}),Object(I.jsx)("hr",{}),Object(I.jsxs)(X.a,{children:[Object(I.jsxs)(ee.a,{lg:4,md:4,sm:12,children:[Object(I.jsxs)(u.a.Group,{controlId:"dermatologistSelect",children:[Object(I.jsx)(u.a.Label,{children:"Dermatologist"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return T(e.target.value)},defaultValue:"0",children:[Object(I.jsx)("option",{value:"0",children:"Not Selected"}),s!=[]&&(null===s||void 0===s?void 0:s.map((function(e){return Object(I.jsxs)("option",{value:e.worker.id,children:[e.worker.lastName," ",e.worker.firstName]})})))]})]}),Object(I.jsxs)(u.a.Group,{controlId:"datePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Date"}),Object(I.jsx)(u.a.Control,{type:"date",disabled:0==S,onChange:function(e){return function(e){var t=e.split("-"),n=new Date(Number.parseInt(t[0]),Number.parseInt(t[1])-1,Number.parseInt(t[2]));v(n)}(e.target.value)}})]}),Object(I.jsxs)(u.a.Group,{controlId:"timePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Start time"}),Object(I.jsx)(u.a.Control,{type:"time",value:C,disabled:0==S,onChange:function(e){return k(e.target.value)}})]}),Object(I.jsxs)(u.a.Group,{controlId:"durationPicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Duration (in minutes)"}),Object(I.jsx)(u.a.Control,{type:"number",value:L,disabled:0==S,onChange:function(e){return E(Number.parseInt(e.target.value))},min:"0"})]}),Object(I.jsxs)(u.a.Group,{controlId:"pricePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Price"}),Object(I.jsx)(u.a.Control,{type:"number",value:H,disabled:0==S,onChange:function(e){return R(Number.parseInt(e.target.value))},min:"0"})]}),Object(I.jsx)(b.a,{disabled:0==S,variant:"primary",type:"submit",onClick:function(){var e=f,a=C.split(":");e.setHours(Number.parseInt(a[0]),Number.parseInt(a[1]),0);var c=e.getTime(),r={duration:L,price:H,startTime:c};console.log(r),y.post("/api/appointment/".concat(t,"/").concat(S),r).then((function(e){n(e.data,{appearance:"success"}),q()})).catch((function(e){n(e.response.data,{appearance:"error"})}))},children:"Submit"})]}),Object(I.jsx)(ee.a,{children:0!=j.length&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(ue.a,{variant:"primary",children:[Object(I.jsx)(ue.a.Heading,{children:"Appointments on that date"}),Object(I.jsx)("p",{children:"These are already created meetings that day. Try to find free time for your meeting."})]}),Object(I.jsxs)(he.a,{bordered:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Start time"}),Object(I.jsx)("th",{children:"End time"}),Object(I.jsx)("th",{children:"State"})]})}),Object(I.jsx)("tbody",{children:j!=[]&&j.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:me()(e.startTime).format("hh:mm a")}),Object(I.jsx)("td",{children:me()(e.endTime).format("hh:mm a")}),Object(I.jsx)("td",{children:e.appointmentState})]})}))})]})]})})]})]})};var ke=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(-1),i=Object(l.a)(s,2),d=i[0],j=i[1],h=Object(a.useState)(2e3),O=Object(l.a)(h,2),p=O[0],f=O[1];function v(){return(v=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/medicine/notexistingmedicinebypharmacyid/".concat(e.idOfPharmacy));case 2:return n=t.sent,r(n.data),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=e.idOfPharmacy&&function(){v.apply(this,arguments)}()}),[e.idOfPharmacy,e.medicineItemsLength]),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){j(-1),f(2e3)}},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Choose medicine"})}),Object(I.jsxs)(V.a.Body,{children:[Object(I.jsxs)(he.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Content"}),Object(I.jsx)("th",{children:"Avg. grade"})]})}),Object(I.jsx)("tbody",{children:0!=(null===c||void 0===c?void 0:c.length)&&(null===c||void 0===c?void 0:c.map((function(e,t){return Object(I.jsxs)("tr",{onClick:function(){var t;t=e.id,j(t)},className:"".concat(d==e.id?"selectedRow":"pointer"),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.content}),Object(I.jsx)("td",{children:e.avgGrade})]})})))})]}),Object(I.jsxs)(u.a.Group,{controlId:"pricePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Starting price"}),Object(I.jsx)(u.a.Control,{type:"number",value:p,disabled:-1==d,onChange:function(e){return f(Number.parseInt(e.target.value))},min:"0"})]})]}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:-1==d,variant:"primary",onClick:function(){e.handleAdd(d,p)},children:"Save Changes"})]})]}))};var we=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){r(0)},onEntered:function(){r(e.oldPrice)}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Change price"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a.Group,{controlId:"pricePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Price"}),Object(I.jsx)(u.a.Control,{type:"number",value:c,onChange:function(e){return r(Number.parseInt(e.target.value))},min:"0"})]})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{variant:"primary",onClick:function(){e.handleChange(c)},children:"Save Changes"})]})]}))};var Ne=function(e){var t=e.idOfPharmacy,n=e.priceListId,c=e.refreshPriceList,r=e.setRefreshPriceList,s=Object(ie.useToasts)().addToast,i=Object(a.useState)([]),o=Object(l.a)(i,2),d=o[0],j=o[1],u=Object(a.useState)(-1),h=Object(l.a)(u,2),O=h[0],p=h[1],f=Object(a.useState)(-1),v=Object(l.a)(f,2),g=v[0],_=v[1],C=Object(a.useState)(!1),k=Object(l.a)(C,2),w=k[0],N=k[1],S=Object(a.useState)(!1),T=Object(l.a)(S,2),D=T[0],P=T[1],L=Object(a.useState)(!1),E=Object(l.a)(L,2),M=E[0],A=E[1];function H(){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pricelist/".concat(n)).then((function(e){j(e.data.medicineItems)})).catch((function(e){s(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(x.a)(m.a.mark((function e(t,a){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/pricelist/".concat(n,"/addmedicine/").concat(t,"/").concat(a)).then((function(e){H(),r(!c),s(e.data,{appearance:"success"})})).catch((function(e){s(e.response.data,{appearance:"error"})}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/api/pricelist/".concat(n,"/removemedicine/").concat(O)).then((function(e){H(),r(!c),s(e.data,{appearance:"success"})})).catch((function(e){s(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/pricelist/".concat(n,"/changeprice/").concat(O,"/").concat(t)).then((function(e){H(),s(e.data,{appearance:"success"})})).catch((function(e){s(e.response.data,{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=n&&H()}),[n]);var F=function(){!function(){Y.apply(this,arguments)}(),p(-1)};return Object(I.jsxs)($.a.Pane,{eventKey:"third",children:[Object(I.jsx)("h1",{className:"content-header",children:"Medicine"}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{children:[Object(I.jsxs)(he.a,{bordered:!0,striped:!0,hover:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Content"}),Object(I.jsx)("th",{children:"Avg. grade"}),Object(I.jsx)("th",{children:"Price"}),Object(I.jsx)("th",{children:"Amount"})]})}),Object(I.jsx)("tbody",{children:0!=(null===d||void 0===d?void 0:d.length)&&(null===d||void 0===d?void 0:d.map((function(e,t){return Object(I.jsxs)("tr",{onClick:function(){var t,n;t=e.id,n=e.price,p(t),_(n)},className:"".concat(O==e.id?"selectedRow":"pointer"," "),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.medicine.code}),Object(I.jsx)("td",{children:e.medicine.name}),Object(I.jsx)("td",{children:e.medicine.content}),Object(I.jsx)("td",{children:e.medicine.avgGrade}),Object(I.jsxs)("td",{children:[e.price,"$"]}),Object(I.jsx)("td",{children:e.amount})]})})))})]}),Object(I.jsxs)("div",{className:"center",children:[Object(I.jsx)(b.a,{disabled:-1==O,variant:"secondary",onClick:function(){P(!0)},children:"Change price"}),Object(I.jsx)(b.a,{variant:"success",onClick:function(){N(!0),p(-1)},children:"Add"}),Object(I.jsx)(b.a,{disabled:-1==O,variant:"danger",onClick:function(){A(!0)},children:"Remove"})]}),Object(I.jsx)(ke,{medicineItemsLength:null===d||void 0===d?void 0:d.length,idOfPharmacy:t,show:w,onHide:function(){N(!1)},handleAdd:function(e,t){N(!1),function(e,t){G.apply(this,arguments)}(e,t)}}),Object(I.jsx)(we,{oldPrice:g,show:D,onHide:function(){P(!1)},handleChange:function(e){P(!1),g!=e&&function(e){B.apply(this,arguments)}(e),p(-1)}}),Object(I.jsxs)(V.a,{oldPrice:t,show:M,onHide:function(){A(!1)},children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{children:"Attention"})}),Object(I.jsx)(V.a.Body,{children:"Are you sure you want to delete the medicine?"}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:function(){A(!1)},children:"Close"}),Object(I.jsx)(b.a,{variant:"primary",onClick:function(){F(),A(!1)},children:"Remove"})]})]})]})})]})};var Se=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){r("")}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Reason for rejecting request"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(I.jsx)(u.a.Label,{children:"Write a reason for rejecting request"}),Object(I.jsx)(u.a.Control,{onChange:function(e){return r(e.target.value)},as:"textarea",rows:3})]})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:""===c,variant:"primary",onClick:function(){e.rejectRequest(c)},children:"Save Changes"})]})]}))};var Te=function(e){var t=e.idOfPharmacy,n=Object(ie.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(-1),d=Object(l.a)(o,2),j=d[0],u=d[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],f=O[1];function v(){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/vacation/getunresolvedrequestsbypharmacyid/".concat(t));case 2:return n=e.sent,i(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/vacation/rejectrequest/".concat(j),t).then((function(e){v(),n(e.data,{appearance:"success"})})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/vacation/acceptrequest/".concat(j)).then((function(e){v(),n(e.data,{appearance:"success"})})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=t&&v()}),[t]),Object(I.jsxs)($.a.Pane,{eventKey:"fifth",children:[Object(I.jsx)("h1",{className:"content-header",children:"Requests for vacations and absences"}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{children:[Object(I.jsxs)(he.a,{bordered:!0,striped:!0,hover:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Type"}),Object(I.jsx)("th",{children:"State"}),Object(I.jsx)("th",{children:"Start time"}),Object(I.jsx)("th",{children:"End time"}),Object(I.jsx)("th",{children:"Worker details"})]})}),Object(I.jsxs)("tbody",{children:[" ",0!=(null===s||void 0===s?void 0:s.length)&&(null===s||void 0===s?void 0:s.map((function(e,t){return Object(I.jsxs)("tr",{onClick:function(){var t;t=e.id,u(t)},className:"".concat(j==e.id?"selectedRow":"pointer"," "),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.absenceType}),Object(I.jsx)("td",{children:e.requestState}),Object(I.jsx)("td",{children:me()(e.start).format("DD-MM-YYYY")}),Object(I.jsx)("td",{children:me()(e.end).format("DD-MM-YYYY")}),Object(I.jsx)("td",{children:e.workerDetails})]})})))]})]}),Object(I.jsx)(Se,{show:p,onHide:function(){return f(!1)},rejectRequest:function(e){f(!1),function(e){_.apply(this,arguments)}(e),u(-1)}}),Object(I.jsxs)("div",{className:"center",children:[Object(I.jsx)(b.a,{disabled:-1==j,onClick:function(){!function(){C.apply(this,arguments)}(),u(-1)},variant:"primary",children:"Accept request"}),Object(I.jsx)(b.a,{disabled:-1==j,onClick:function(){return f(!0)},variant:"secondary",children:"Reject request"})]})]})})]})},Ie=n(611),De=n(612);n(88);var Pe=function(e){var t=Object(ie.useToasts)().addToast,n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(-1),d=Object(l.a)(i,2),j=d[0],h=d[1],O=Object(a.useState)(10),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(17),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(!1),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(!1),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(a.useState)(!1),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(a.useState)(!1),Y=Object(l.a)(G,2),B=Y[0],F=Y[1],q=Object(a.useState)(!1),K=Object(l.a)(q,2),z=K[0],U=K[1],W=Object(a.useState)(!1),J=Object(l.a)(W,2),Q=J[0],Z=J[1],$=Object(a.useState)(!1),te=Object(l.a)($,2),ne=te[0],ae=te[1];function ce(){return(ce=Object(x.a)(m.a.mark((function n(){var a,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(-1),a={startHour:f,endHour:C,enable1:S,enable2:L,enable3:H,enable4:B,enable5:z,enable6:Q,enable7:ne},n.next=4,y.post("/api/workers/notexistingworkplacebypharmacyid/".concat(e.idOfPharmacy),a).then((function(e){s(e.data)})).catch((function(e){t(e.response.data,{appearance:"error"})}));case 4:return c=n.sent,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){s([]),h(-1),v(10),k(17),T(!1),E(!1),R(!1),F(!1),U(!1),Z(!1),ae(!1)}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Adding worker"})}),Object(I.jsxs)(V.a.Body,{children:[Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{children:[Object(I.jsxs)(u.a.Group,{controlId:"startPicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Shift start"}),Object(I.jsx)(u.a.Control,{type:"number",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(I.jsxs)(u.a.Group,{controlId:"endPicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Shift end"}),Object(I.jsx)(u.a.Control,{type:"number",value:C,onChange:function(e){return k(e.target.value)}})]})]})}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{children:[Object(I.jsx)("p",{children:"Mark days"}),Object(I.jsxs)(he.a,{bordered:!0,hover:!0,striped:!0,size:"sm",variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Weekday"})]})}),Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{className:"".concat(S&&"selectedRow"," pointer"),onClick:function(){return T(!S)},children:[Object(I.jsx)("td",{children:"1"}),Object(I.jsx)("td",{children:"Monday"})]}),Object(I.jsxs)("tr",{className:"".concat(L&&"selectedRow"," pointer"),onClick:function(){return E(!L)},children:[Object(I.jsx)("td",{children:"2"}),Object(I.jsx)("td",{children:"Tuesday"})]}),Object(I.jsxs)("tr",{className:"".concat(H&&"selectedRow"," pointer"),onClick:function(){return R(!H)},children:[Object(I.jsx)("td",{children:"3"}),Object(I.jsx)("td",{children:"Wednesday"})]}),Object(I.jsxs)("tr",{className:"".concat(B&&"selectedRow"," pointer"),onClick:function(){return F(!B)},children:[Object(I.jsx)("td",{children:"4"}),Object(I.jsx)("td",{children:"Thursday"})]}),Object(I.jsxs)("tr",{className:"".concat(z&&"selectedRow"," pointer"),onClick:function(){return U(!z)},children:[Object(I.jsx)("td",{children:"5"}),Object(I.jsx)("td",{children:"Friday"})]}),Object(I.jsxs)("tr",{className:"".concat(Q&&"selectedRow"," pointer"),onClick:function(){return Z(!Q)},children:[Object(I.jsx)("td",{children:"6"}),Object(I.jsx)("td",{children:"Saturday"})]}),Object(I.jsxs)("tr",{className:"".concat(ne&&"selectedRow"," pointer"),onClick:function(){return ae(!ne)},children:[Object(I.jsx)("td",{children:"7"}),Object(I.jsx)("td",{children:"Sunday"})]})]})]})]})}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{className:"center",children:Object(I.jsx)(b.a,{disabled:!S&&!L&&!H&&!B&&!z&&!Q&&!ne,variant:"primary",onClick:function(){return ce.apply(this,arguments)},children:"Check"})})}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)(he.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Type"}),Object(I.jsx)("th",{children:"Firstname"}),Object(I.jsx)("th",{children:"LastName"}),Object(I.jsx)("th",{children:"Avg. grade"})]})}),Object(I.jsx)("tbody",{children:0!=(null===r||void 0===r?void 0:r.length)&&(null===r||void 0===r?void 0:r.map((function(e,t){return Object(I.jsxs)("tr",{onClick:function(){var t;t=e.id,h(t)},className:"".concat(j==e.id?"selectedRow":"pointer"),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:null===e||void 0===e?void 0:e.roleName}),Object(I.jsx)("td",{children:e.firstName}),Object(I.jsx)("td",{children:e.lastName}),Object(I.jsx)("td",{children:e.avgGrade})]})})))})]})})})]}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:-1==j,variant:"primary",onClick:function(){e.handleAdd(j,{startHour:f,endHour:C,enable1:S,enable2:L,enable3:H,enable4:B,enable5:z,enable6:Q,enable7:ne})},children:"Save Changes"})]})]}))};var Le=function(e){var t,n,a;return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Worker pharmacies"})}),Object(I.jsxs)(V.a.Body,{children:[0==(null===e||void 0===e||null===(t=e.map[null===e||void 0===e?void 0:e.workerId])||void 0===t?void 0:t.length)&&Object(I.jsx)("h4",{children:"He does not work in any pharmacy."}),0!=(null===e||void 0===e||null===(n=e.map[null===e||void 0===e?void 0:e.workerId])||void 0===n?void 0:n.length)&&(null===e||void 0===e||null===(a=e.map[null===e||void 0===e?void 0:e.workerId])||void 0===a?void 0:a.map((function(e){return Object(I.jsx)(fe.a.Item,{children:e})})))]}),Object(I.jsx)(V.a.Footer,{children:Object(I.jsx)(b.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]}))};var Ee=function(e){var t=e.idOfPharmacy,n=Object(ie.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)([]),d=Object(l.a)(o,2),j=d[0],h=d[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)([]),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(-1),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(-1),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(a.useState)(!1),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(a.useState)(!1),Y=Object(l.a)(G,2),B=Y[0],F=Y[1],q=Object(a.useState)(""),V=Object(l.a)(q,2),K=V[0],z=V[1],U=Object(a.useState)(""),W=Object(l.a)(U,2),J=W[0],Q=W[1],Z=Object(a.useState)(""),te=Object(l.a)(Z,2),ne=te[0],ae=te[1];function ce(){return(ce=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/workplace/pharmacies/all/");case 2:return t=e.sent,h(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return se.apply(this,arguments)}function se(){return(se=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/workplace/bypharmacyid/".concat(t)).then((function(e){v(e.data)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(x.a)(m.a.mark((function e(a,c){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/workplace/addworker/bypharmacyid/".concat(t,"/").concat(a),c).then((function(e){re(),n(e.data,{appearance:"success"})})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(x.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/api/workplace/removeworker/bypharmacyid/".concat(t,"/").concat(S)).then((function(e){re(),n(e.data,{appearance:"success"})})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pharmacy/");case 2:return t=e.sent,i(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){void 0!=t&&(re(),function(){ce.apply(this,arguments)}())}),[t]),Object(a.useEffect)((function(){de()}),[f]),Object(a.useEffect)((function(){if(null==C)k(f);else{if(""===ne&&""==J)return;if(""!=ne){var e=C.filter((function(e){return!!j[e.worker.id].includes(ne)}));C.length!=e.length&&k(e)}if(""!=J)if("LOW"===J){var t=C.filter((function(e){return e.worker.avgGrade<3}));C.length!=t.length&&k(t)}else if("MEDIUM"===J){var n=C.filter((function(e){return 3==e.worker.avgGrade}));C.length!=n.length&&k(n)}else if("HIGH"===J){var a=C.filter((function(e){return e.worker.avgGrade>3}));C.length!=a.length&&k(a)}}}),[C]);var de=function(){k(null)};return Object(I.jsxs)($.a.Pane,{eventKey:"second",children:[Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{children:Object(I.jsx)(u.a,{onSubmit:function(e){e.preventDefault(),0===K.length?re():y.get("/api/workplace/search/".concat(t),{params:{searchValue:K}}).then((function(e){v(e.data)}))},children:Object(I.jsxs)(u.a.Group,{className:"my__flex",style:{marginTop:"20px"},children:[Object(I.jsx)(u.a.Control,{type:"text",name:"searchValue",value:K,onChange:function(e){return z(e.target.value)},placeholder:"Enter name or lastname..."}),Object(I.jsx)(b.a,{type:"submit",className:"my__search__buttons",children:Object(I.jsx)(Ie.a,{})}),Object(I.jsxs)(b.a,{className:"my__search__buttons my__flex",onClick:function(){z(""),re()},children:["Reset ",Object(I.jsx)(De.a,{})]})]})})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(u.a,{onSubmit:function(e){e.preventDefault(),de()},className:"my__div__filter",children:[Object(I.jsxs)(u.a.Group,{controlId:"gradeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Grade"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return Q(e.target.value)},defaultValue:"",children:[Object(I.jsx)("option",{value:"",children:"Not Selected"}),Object(I.jsx)("option",{value:"LOW",children:"Low"}),Object(I.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(I.jsx)("option",{value:"HIGH",children:"High"})]})]}),Object(I.jsxs)(u.a.Group,{controlId:"pharmacySelect",children:[Object(I.jsx)(u.a.Label,{children:"Pharmacy name"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return ae(e.target.value)},defaultValue:"",children:[Object(I.jsx)("option",{value:"",children:"Not Selected"}),0!=(null===s||void 0===s?void 0:s.length)&&(null===s||void 0===s?void 0:s.map((function(e,t){return Object(I.jsx)("option",{value:e.name,children:e.name})})))]})]}),Object(I.jsx)(b.a,{type:"submit",className:"my__search__buttons",children:Object(I.jsx)(Ie.a,{})})]})})]}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{children:[Object(I.jsxs)(he.a,{bordered:!0,striped:!0,hover:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Type"}),Object(I.jsx)("th",{children:"Firstname"}),Object(I.jsx)("th",{children:"Lastname"}),Object(I.jsx)("th",{children:"Email"}),Object(I.jsx)("th",{children:"Phone"}),Object(I.jsx)("th",{children:"Avg. grade"})]})}),Object(I.jsxs)("tbody",{children:[" ",0!=(null===C||void 0===C?void 0:C.length)&&(null===C||void 0===C?void 0:C.map((function(e,t){var n,a,c,r,s,i;return Object(I.jsxs)("tr",{onClick:function(){var t,n;t=e.id,n=e.worker.id,T(t),E(n)},className:"".concat(S==e.id?"selectedRow":"pointer"," "),children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:null===e||void 0===e||null===(n=e.worker)||void 0===n?void 0:n.roleName}),Object(I.jsx)("td",{children:null===e||void 0===e||null===(a=e.worker)||void 0===a?void 0:a.firstName}),Object(I.jsx)("td",{children:null===e||void 0===e||null===(c=e.worker)||void 0===c?void 0:c.lastName}),Object(I.jsx)("td",{children:null===e||void 0===e||null===(r=e.worker)||void 0===r?void 0:r.email}),Object(I.jsx)("td",{children:null===e||void 0===e||null===(s=e.worker)||void 0===s?void 0:s.telephone}),Object(I.jsx)("td",{children:null===e||void 0===e||null===(i=e.worker)||void 0===i?void 0:i.avgGrade})]})})))]})]}),Object(I.jsxs)("div",{className:"center",children:[-1!=t&&Object(I.jsxs)("div",{children:[Object(I.jsx)(b.a,{onClick:function(){R(!0),T(-1)},variant:"success",children:"Add worker"}),Object(I.jsx)(b.a,{disabled:-1==S,onClick:function(){!function(){le.apply(this,arguments)}(),T(-1),E(-1)},variant:"danger",children:"Remove worker"}),Object(I.jsx)(Pe,{workersLength:null===f||void 0===f?void 0:f.length,idOfPharmacy:t,show:H,onHide:function(){R(!1)},handleAdd:function(e,t){R(!1),function(e,t){oe.apply(this,arguments)}(e,t)}})]}),Object(I.jsx)(b.a,{disabled:-1==S,onClick:function(){F(!0)},variant:"info",children:"Show pharmacies"}),Object(I.jsx)(Le,{map:j,workerId:L,show:B,handleClose:function(){F(!1)},onHide:function(){F(!1)}})]})]})})]})};var Me=function(e){var t=e.idOfPharmacy,n=e.refreshInq,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)([]),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)("Active"),h=Object(l.a)(b,2),O=h[0],p=h[1];function f(){return(f=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/inquiry/bypharmacyid/".concat(t));case 2:return n=e.sent,i(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=t&&v("Active")}),[s]),Object(a.useEffect)((function(){void 0!=t&&function(){f.apply(this,arguments)}()}),[t,n]);var v=function(e){var t=s.filter((function(t){return"Active"==e?t.active:!t.active}));u(t)};return Object(I.jsxs)($.a.Pane,{eventKey:"eight",children:[Object(I.jsx)("h1",{className:"content-header",children:"Inquiries"}),Object(I.jsx)("hr",{}),Object(I.jsxs)(X.a,{children:[" ",Object(I.jsxs)(Oe.a,{children:[Object(I.jsxs)(Oe.a.Toggle,{variant:"primary",id:"dropdown-basic",children:["Filter : ",O]}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){v("Active"),p("Active")},children:"Active"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){v("End"),p("Ended")},children:"Ended"})]})]})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Medicine"}),Object(I.jsx)("th",{children:"Date"}),Object(I.jsx)("th",{children:"Worker"}),Object(I.jsx)("th",{children:"Active"})]})}),Object(I.jsx)("tbody",{children:j&&j.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.medicineItems.medicine.name}),Object(I.jsx)("td",{children:me()(e.date).format("DD MMM YYYY")}),Object(I.jsxs)("td",{children:[e.worker.firstName," ",e.worker.lastName]}),Object(I.jsx)("td",{children:e.active?"True":"False"})]})}))})]})})})]})},Ae=n(613),He=n(140);var Re=function(e){var t=e.pharmacyDetails,n=Object(ie.useToasts)().addToast,c=Object(a.useState)(null),r=Object(l.a)(c,2),s=r[0],i=r[1],d=Object(a.useState)("Bar"),j=Object(l.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)("Monthly"),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)("HiddenProfit"),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(null),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(null),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(a.useState)(null),A=Object(l.a)(M,2),H=A[0],R=A[1],G=Object(a.useState)(0),Y=Object(l.a)(G,2),B=Y[0],F=Y[1],q={height:400,width:600,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},plugins:{title:{display:!0,text:"Appointments and medicine consumption"}}}};function V(){return(V=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/appointment/report/".concat(null===t||void 0===t?void 0:t.id,"/").concat(f));case 2:return n=e.sent,T(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine-reservation/report/".concat(null===t||void 0===t?void 0:t.id,"/").concat(f));case 2:return n=e.sent,E(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pharmacy/report/".concat(null===t||void 0===t?void 0:t.id,"/").concat(f,"/").concat(B));case 2:return n=e.sent,R(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){void 0!=t&&(function(){V.apply(this,arguments)}(),function(){K.apply(this,arguments)}(),"DisplayProfit"==C&&0!=B&&function(){z.apply(this,arguments)}())}),[t,f,C,B]),Object(a.useEffect)((function(){null!=S&&null!=L&&("DisplayProfit"===C&&null!=H&&U(),"HiddenProfit"===C&&U())}),[S,L,H,b]);var U=function(){var e,t=[],n=Object.keys(S),a=W(n.length),c={label:"Number of appointments",data:Object.values(S),backgroundColor:a,borderColor:"black",borderWidth:2};t.push(c),e="Bar"===b||"Line"===b||"Radar"===b?W(Object.keys(L).length):a;var r={label:"Medicine consumption",data:Object.values(L),backgroundColor:e,borderColor:"black",borderWidth:2};if(t.push(r),"DisplayProfit"===C){var s;s="Bar"===b||"Line"===b||"Radar"===b?W(Object.keys(H).length):a;var o={label:"Profit",data:Object.values(H),backgroundColor:s,borderColor:"black",borderWidth:2};t.push(o)}i({labels:n,datasets:t})},W=function(e){if("Bar"===b||"Line"===b||"Radar"===b)return"#"+Math.floor(16777215*Math.random()).toString(16);var t,n,a=[];for(t=0;t<e;t++)n=Math.floor(16777215*Math.random()).toString(16),a.push("#"+n);return a};return Object(I.jsxs)($.a.Pane,{eventKey:"sixth",children:[Object(I.jsx)("h1",{className:"content-header",children:"Reports"}),Object(I.jsx)("hr",{}),Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{className:"center",children:Object(I.jsxs)("h4",{children:["Average grade: ",null===t||void 0===t?void 0:t.avgGrade]})}),Object(I.jsx)(ee.a,{className:"center",children:Object(I.jsx)("h4",{children:"Average grades of workers can be seen on tab 'Pharmacists and dermatologists'"})})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"info",id:"dropdown-basic",children:b}),Object(I.jsx)(Oe.a.Menu,{children:["Line","Bar","Radar","Doughnut","PolarArea","Pie"].map((function(e){return Object(I.jsx)(Oe.a.Item,{active:b==e,onClick:function(){h(e)},children:e})}))})]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"info",id:"dropdown-basic",children:f}),Object(I.jsx)(Oe.a.Menu,{children:["Monthly","Quarterly","Yearly"].map((function(e){return Object(I.jsx)(Oe.a.Item,{active:f==e,onClick:function(){v(e),F(0)},children:e})}))})]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"info",id:"dropdown-basic",children:C}),Object(I.jsx)(Oe.a.Menu,{children:["HiddenProfit","DisplayProfit"].map((function(e){return Object(I.jsx)(Oe.a.Item,{active:C==e,onClick:function(){0==B&&"HiddenProfit"==C?n("Duration cannot be 0! Change it if u want to see profit!",{appearance:"warning"}):k(e)},children:e})}))})]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Ae.a,{className:"mb-3",children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{id:"basic-addon3",children:"Duration in past"})}),Object(I.jsx)(u.a.Control,{id:"basic-url",type:"number",value:B,onChange:function(e){return F(Number.parseInt(e.target.value))},max:"Monthly"===f?12:"Yearly"===f?10:4,min:"0"})]})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{className:"center",children:["Line"==b&&Object(I.jsx)(He.c,Object(o.a)({data:s},q)),"Bar"==b&&Object(I.jsx)(He.a,Object(o.a)({data:s},q)),"Radar"==b&&Object(I.jsx)(He.f,Object(o.a)({data:s},q)),"Doughnut"==b&&Object(I.jsx)(He.b,Object(o.a)({data:s},q)),"PolarArea"==b&&Object(I.jsx)(He.e,Object(o.a)({data:s},q)),"Pie"==b&&Object(I.jsx)(He.d,Object(o.a)({data:s},q))]})}),Object(I.jsx)("hr",{})]})};var Ge=function(e){var t=Object(ie.useToasts)().addToast,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(0),d=Object(l.a)(i,2),j=d[0],h=d[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)("0"),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)([]),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(0),P=Object(l.a)(D,2),L=P[0],E=P[1];function M(){return(M=Object(x.a)(m.a.mark((function n(){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.get("/api/pricelist/".concat(e.priceListId)).then((function(e){T(e.data.medicineItems)})).catch((function(e){t(e.response.data,{appearance:"error"})}));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=e.priceListId&&function(){M.apply(this,arguments)}()}),[e.priceListId]),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({onExited:function(){s(null),h(0),E(0),v(""),k("0")}},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add advertisment"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsx)(xe.a,{children:Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{children:[Object(I.jsxs)(u.a.Group,{controlId:"typeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Types"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return k(e.target.value)},defaultValue:"0",children:[Object(I.jsx)("option",{value:"0",children:"Not Selected"}),Object(I.jsx)("option",{value:"1",children:"Promotion"}),Object(I.jsx)("option",{value:"2",children:"Sale"})]})]}),Object(I.jsxs)(u.a.Group,{controlId:"medicineSelect",children:[Object(I.jsx)(u.a.Label,{children:"Medicine"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return E(e.target.value)},defaultValue:"0",children:[Object(I.jsx)("option",{value:"0",children:"Not Selected"}),0!=(null===S||void 0===S?void 0:S.length)&&(null===S||void 0===S?void 0:S.map((function(e,t){var n;return Object(I.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e||null===(n=e.medicine)||void 0===n?void 0:n.name})})))]})]}),Object(I.jsxs)(u.a.Group,{controlId:"datePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"End date"}),Object(I.jsx)(u.a.Control,{type:"date",onChange:function(e){return function(e){var n=e.split("-"),a=new Date(Number.parseInt(n[0]),Number.parseInt(n[1])-1,Number.parseInt(n[2]));a.setHours(0,0,0);var c=new Date;a.getTime()>c.getTime()?s(a):(s(null),t("End date should be in future!",{appearance:"warning"}))}(e.target.value)}})]}),Object(I.jsxs)(u.a.Group,{controlId:"discountPicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Discount"}),Object(I.jsx)(u.a.Control,{disabled:"2"!=C,type:"number",onChange:function(e){return h(e.target.value)},max:"100",min:"0"})]}),Object(I.jsxs)(u.a.Group,{controlId:"contentPicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Content"}),Object(I.jsx)(u.a.Control,{disabled:"1"!=C,type:"text",onChange:function(e){return v(e.target.value)}})]})]})})})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(I.jsx)(b.a,{disabled:"0"==C||"0"==L||null==r,variant:"primary",onClick:function(){e.handleAdd({type:C,selectedRowId:L,endDate:r.getTime(),discount:j,text:f})},children:"Save Changes"})]})]}))};var Ye=function(e){var t=e.pharmacyDetails,n=Object(ie.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),j=d[0],u=d[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],f=O[1];function v(){return(v=Object(x.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/sales/".concat(t.id)).then((function(e){i(e.data)})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(x.a)(m.a.mark((function e(a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/sales/".concat(t.id),a).then((function(e){n(e.data,{appearance:"success"}),f(!p)})).catch((function(e){n(e.response.data,{appearance:"error"})}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){void 0!=(null===t||void 0===t?void 0:t.id)&&function(){v.apply(this,arguments)}()}),[t,p]),Object(I.jsxs)($.a.Pane,{eventKey:"ninth",children:[Object(I.jsx)("h1",{className:"content-header",children:"Advertisment"}),Object(I.jsx)("hr",{}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)(he.a,{bordered:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"#"}),Object(I.jsx)("th",{children:"Medicine"}),Object(I.jsx)("th",{children:"Type"}),Object(I.jsx)("th",{children:"Discount(percent)"}),Object(I.jsx)("th",{children:"Start date"}),Object(I.jsx)("th",{children:"End date"}),Object(I.jsx)("th",{children:"Content"})]})}),Object(I.jsx)("tbody",{children:0!=(null===s||void 0===s?void 0:s.length)&&(null===s||void 0===s?void 0:s.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.medicineItem.medicine.name}),Object(I.jsx)("td",{children:e.type}),Object(I.jsx)("td",{children:e.discountPercent}),Object(I.jsx)("td",{children:me()(e.startDate).format("DD MMM YYYY")}),Object(I.jsx)("td",{children:me()(e.endDate).format("DD MMM YYYY")}),Object(I.jsx)("td",{children:e.advertisementText})]})})))})]})})}),Object(I.jsxs)(X.a,{children:[Object(I.jsx)(Ge,{show:j,onHide:function(){u(!1)},handleAdd:function(e){u(!1),function(e){g.apply(this,arguments)}(e)},priceListId:null===t||void 0===t?void 0:t.priceListId}),Object(I.jsx)(ee.a,{className:"center",children:Object(I.jsx)(b.a,{variant:"secondary",onClick:function(){u(!0)},children:"Add"})})]}),Object(I.jsx)("hr",{})]})},Be=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),d=Object(l.a)(s,2),j=d[0],O=d[1];Object(a.useEffect)((function(){}));var p=Object(a.useState)({}),m=Object(l.a)(p,2),x=m[0],f=m[1],v=Object(h.b)(),g=function(){y.put("/api/users/set-password/"+Q(),x).then(e.onPasswordSet()).catch(O("Oops! Something went wrong, try again!"))};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(I.jsx)(V.a.Header,{className:"justify-content-center",backdrop:"static",onHide:function(){v(S())},closeButton:!0,children:Object(I.jsx)("p",{children:"Welcome! Please set new password!"})}),Object(I.jsxs)(V.a.Body,{className:"justify-content-center",children:[Object(I.jsxs)(u.a,{noValidate:!0,validated:c,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(O(""),r(!0),g())},children:[Object(I.jsx)(M,{onChange:function(e){return t="newPassword",n=e.target.value,void f(Object(o.a)(Object(o.a)({},x),{},Object(i.a)({},t,n)));var t,n}}),Object(I.jsx)(b.a,{className:"float-center",variant:"outline-secondary",type:"submit",children:"Set Password"})]}),j.length>0&&Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsx)("p",{className:"text-danger",children:j})})]})]}))};Be.defaultProps={isPasswordSet:!1};var Fe=Be;var qe=function(){var e=Object(ie.useToasts)().addToast,t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(a.useState)(null),u=Object(l.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(!0),_=Object(l.a)(g,2),C=(_[0],_[1]),k=Object(a.useState)(!1),w=Object(l.a)(k,2),N=w[0],S=w[1];function T(){return(T=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/pharmacy/getpharmacyidbyadmin/".concat(Q())).then((function(e){h(e.data)})).catch((function(t){e(void 0==t.response.data.message?t.response.data:t.response.data.message,{appearance:"error"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/pharmacy/".concat(b)).then((function(e){r(e.data)})).catch((function(t){e(t.response.data,{appearance:"error"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){null!=b&&D()}),[b]),Object(a.useEffect)((function(){!function(){T.apply(this,arguments)}(),y.get("/api/users/"+Q()).then((function(e){e.data.passwordChanged?(S(!1),C(!1)):(S(!0),C(!1))}))}),[]),Object(I.jsxs)("div",{style:{height:"100vh"},children:[Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"Basic informations"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"Pharmacists and dermatologists"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"third",children:"Medicine"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"fourth",children:"Add appointment"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"fifth",children:"Holiday requests"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"sixth",children:"Reports"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"seventh",children:"Purchase orders"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"eight",children:"Inquiries"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"ninth",children:"Advertisment"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(oe,{pharmacyDetails:c,changedPharmacy:function(){D()}}),Object(I.jsx)(Ee,{idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(I.jsx)(Te,{idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(I.jsx)(Ce,{idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(I.jsx)(Ne,{setRefreshPriceList:d,refreshPriceList:o,idOfPharmacy:null===c||void 0===c?void 0:c.id,priceListId:null===c||void 0===c?void 0:c.priceListId}),Object(I.jsx)(_e,{refreshInq:f,setRefreshInq:v,refresh:o,idOfPharmacy:null===c||void 0===c?void 0:c.id,priceListId:null===c||void 0===c?void 0:c.priceListId}),Object(I.jsx)(Me,{refreshInq:f,idOfPharmacy:null===c||void 0===c?void 0:c.id}),Object(I.jsx)(Re,{pharmacyDetails:c}),Object(I.jsx)(Ye,{pharmacyDetails:c})]})})]})}),Object(I.jsx)(Fe,{show:N,onPasswordSet:function(){S(!1)}})]})};var Ve=function(e){var t=Object(O.g)(),n=Object(ie.useToasts)().addToast;return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsxs)(V.a.Title,{id:"contained-modal-title-vcenter",children:["Initialize appointment for ",e.appointment.patient]})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(b.a,{onClick:function(){if(me()(Date.now())>me()(e.appointment.start).subtract(15,"minutes")){var a=new FormData;a.append("id",e.appointment.id),y.post("/api/appointment/start_appointment",a).then((function(){t.push({pathname:"/worker/appointment_report",state:{appointmentID:e.appointment.id}})})).catch((function(){return n("You can't start this appointment!",{appearance:"error"})}))}else n("You can't start this appointment yet!",{appearance:"error"})},children:"Start appointment"}),Object(I.jsx)(b.a,{onClick:function(){if(me()(Date.now())>me()(e.appointment.start).add(5,"minutes")){var t=new FormData;t.append("id",e.appointment.id),y.post("/api/appointment/cancel_appointment",t).then((function(){n("Appointment cancelled! Patient didn't show up!",{appearance:"info"}),e.onCancelMethod()})).catch((function(){return n("You can't cancel this appointment yet!",{appearance:"error"})}))}else n("You can't cancel this appointment yet!",{appearance:"error"})},children:"Patient didn't show up"})]})}),Object(I.jsx)(V.a.Footer,{})]}))},Ke=(n(112),n(26));var ze=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)({}),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(!0),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)(!1),g=Object(l.a)(v,2),_=g[0],C=g[1],k=Object(a.useState)(!0),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Q()){e.next=5;break}return T("Invalid user!",{appearance:"error"}),c([]),e.abrupt("return");case 5:return e.next=7,y.get("/api/appointment/workers_upcoming?id="+t+"&page=0&size=10").then((function(e){c(e.data),S(!1)})).catch((function(){c([]),S(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=Q();y.get("/api/users/"+t).then((function(e){e.data.passwordChanged?(C(!1),f(!1)):(C(!0),f(!1))})),function(){e.apply(this,arguments)}()}),[]),Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5 pb-3 pl-3 pr-3 align-items-center",children:Object(I.jsx)("h2",{className:"my_content_header",children:"Upcomming appointments"})}),0===n.length&&!N&&Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)("h3",{children:"There are no upcomming appointments!"})}),p?Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsx)("h3",{children:"Checking user data..."})}):Object(I.jsxs)("div",{children:[n.map((function(e,t){return Object(I.jsx)(X.a,{className:"justify-content-center p-4 align-items-center",children:Object(I.jsx)(ee.a,{md:7,children:Object(I.jsx)(de.a,{className:"card_appt_home",children:Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:["Appointment date:"," ",me()(e.start).format("DD MMM YYYY"),Object(I.jsxs)("span",{style:{float:"right"},children:["Time: ",me()(e.start).format("hh:mm a")," -"," ",me()(e.end).format("hh:mm a")]})]}),Object(I.jsx)("hr",{style:{color:"black",backgroundColor:"black",height:1}}),Object(I.jsxs)(de.a.Text,{className:"mb-2",children:["Patient: ",e.patient]}),Object(I.jsxs)(de.a.Text,{className:"mb-2",children:["Price: ",e.price]}),Object(I.jsx)(de.a.Text,{style:{textAlign:"center"},children:Object(I.jsx)(de.a.Link,{as:Ke.b,to:"#",onClick:function(){return t=e,void(me()(Date.now())>me()(t.start).subtract(15,"minutes")?(b(t),o(!0)):T("You can't initiate appointment until at least 15 minutes before!",{appearance:"error"}));var t},children:"Start appointment"})})]})})})},t)}))," "]}),Object(I.jsx)(Ve,{show:i,onCancelMethod:function(){o(!1);var e=Q();e?y.get("/api/appointment/workers_upcoming",{params:{id:e,page:0,size:10}}).then((function(e){return c(e.data)})).catch((function(){return c([])})):T("Invalid user!",{appearance:"error"})},appointment:u,onHide:function(){o(!1),b({})}}),Object(I.jsx)(Fe,{show:_,onPasswordSet:function(){C(!1)}})]})};var Ue=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)({}),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(!0),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)(!1),g=Object(l.a)(v,2),_=g[0],C=g[1],k=Object(a.useState)(!0),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Q()){e.next=5;break}return T("Invalid user!",{appearance:"error"}),c([]),e.abrupt("return");case 5:return e.next=7,y.get("/api/appointment/workers_upcoming?id="+t+"&page=0&size=10").then((function(e){c(e.data),S(!1)})).catch((function(){c([]),S(!1)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=Q();y.get("/api/users/"+t).then((function(e){e.data.passwordChanged?(C(!1),f(!1)):(C(!0),f(!1))})),function(){e.apply(this,arguments)}()}),[]),Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5 pb-3 pl-3 pr-3 align-items-center",children:Object(I.jsx)("h2",{className:"my_content_header",children:"Upcomming appointments"})}),0===n.length&&!N&&Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)("h3",{children:"There are no upcomming appointments!"})}),p?Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsx)("h3",{children:"Checking user data..."})}):Object(I.jsx)("div",{children:n.map((function(e,t){return Object(I.jsx)(X.a,{className:"justify-content-center p-4 align-items-center",children:Object(I.jsx)(ee.a,{md:7,children:Object(I.jsx)(de.a,{className:"card_appt_home",children:Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:["Appointment date:"," ",me()(e.start).format("DD MMM YYYY"),Object(I.jsxs)("span",{style:{float:"right"},children:["Time: ",me()(e.start).format("hh:mm a")," -"," ",me()(e.end).format("hh:mm a")]})]}),Object(I.jsx)("hr",{style:{color:"black",backgroundColor:"black",height:1}}),Object(I.jsxs)(de.a.Text,{className:"mb-2",children:["Pharmacy: ",e.pharmacy]}),Object(I.jsxs)(de.a.Text,{className:"mb-2",children:["Patient: ",e.patient]}),Object(I.jsxs)(de.a.Text,{className:"mb-2",children:["Price: ",e.price]}),Object(I.jsx)(de.a.Text,{style:{textAlign:"center"},children:Object(I.jsx)(de.a.Link,{as:Ke.b,to:"#",onClick:function(){return t=e,void(me()(Date.now())>me()(t.start).subtract(15,"minutes")?(b(t),o(!0)):T("You can't initiate appointment until at least 15 minutes before!",{appearance:"error"}));var t},children:"Start appointment"})})]})})})},t)}))}),Object(I.jsx)(Ve,{show:i,onCancelMethod:function(){o(!1);var e=Q();e?y.get("/api/appointment/workers_upcoming",{params:{id:e,page:0,size:10}}).then((function(e){return c(e.data)})).catch((function(){return c([])})):T("Invalid user!",{appearance:"error"})},appointment:u,onHide:function(){o(!1),b({})}}),Object(I.jsx)(Fe,{show:_,onPasswordSet:function(){C(!1)}})]})},We=n(332),Je=n(614);var Qe=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)(0),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(a.useState)([]),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(a.useState)(""),S=Object(l.a)(N,2),T=S[0],D=S[1],P=Object(a.useState)(""),L=Object(l.a)(P,2),E=L[0],M=L[1],A=Object(a.useState)(""),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)("none"),B=Object(l.a)(Y,2),F=B[0],q=B[1],V=Object(a.useState)("none"),K=Object(l.a)(V,2),z=K[0],U=K[1],W=Object(a.useState)(!1),J=Object(l.a)(W,2),Q=J[0],Z=J[1],ne=Object(a.useState)("none"),ae=Object(l.a)(ne,2),ce=ae[0],re=ae[1],se=document.getElementById("my__transition__div"),ie=document.getElementById("my__blocker");Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pharmacy/");case 2:return t=e.sent,c(t.data),o(t.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var oe=function(e,t,n){var a=e.location.latitude,c=e.location.longitude;if(a==n&&c==t)return 0;var r=Math.PI*a/180,s=Math.PI*n/180,i=c-t,o=Math.PI*i/180,l=Math.sin(r)*Math.sin(s)+Math.cos(r)*Math.cos(s)*Math.cos(o);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515*1.609344,console.log(l),l};Object(a.useEffect)((function(){var e=Math.floor((null===n||void 0===n?void 0:n.length)/12)-1;(null===n||void 0===n?void 0:n.length)/12-1>e&&(e+=1),g(e)}),[n,Q]),Object(a.useEffect)((function(){var e=12*h,t=n.length<e+12?null===n||void 0===n?void 0:n.length:e+12;w(null===n||void 0===n?void 0:n.slice(e,t))}),[n,h,Q]);var ue=function(e,t){"sorter"===e?q(t):U(t),"none"!==t&&("sorter"===e&&"none"===z||"ascDesc"===e&&"none"===F||(n.sort((function(n,a){var c,r;return"sorter"===e&&"grade"===t||"ascDesc"===e&&"grade"===F?(null===n||void 0===n?void 0:n.avgGrade)-(null===a||void 0===a?void 0:a.avgGrade):"sorter"===e&&"pharmacy name"===t||"ascDesc"===e&&"pharmacy name"===F?null===n||void 0===n?void 0:n.name.localeCompare(null===a||void 0===a?void 0:a.name):"sorter"===e&&"city name"===t||"ascDesc"===e&&"city name"===F?null===n||void 0===n||null===(c=n.address)||void 0===c?void 0:c.city.localeCompare(null===a||void 0===a||null===(r=a.address)||void 0===r?void 0:r.city):void 0})),("ascDesc"===e&&"descending"===t||"sorter"===e&&"descending"===z)&&n.reverse(),Z(!Q)))};return Object(I.jsxs)($.a.Pane,{eventKey:"first",children:[Object(I.jsx)("div",{id:"my__blocker",onClick:function(){return ie.classList.remove("blocker"),void se.classList.remove("my__transition__div__move")}}),Object(I.jsxs)("div",{id:"my__transition__div",className:"my__flex",children:[Object(I.jsx)(u.a,{onSubmit:function(e){e.preventDefault(),0===T.length?y.get("/api/pharmacy/").then((function(e){c(e.data),o(e.data)})):y.get("/api/pharmacy/search",{params:{searchValue:T}}).then((function(e){c(e.data),o(e.data)}))},style:{display:"search"===ce?"block":"none",width:"50%"},children:Object(I.jsxs)(u.a.Group,{className:"my__flex",children:[Object(I.jsx)(u.a.Control,{type:"text",name:"searchValue",value:T,onChange:function(e){return D(e.target.value)},placeholder:"Enter name or place..."}),Object(I.jsx)(b.a,{type:"submit",className:"my__search__buttons",children:Object(I.jsx)(Ie.a,{})}),Object(I.jsxs)(b.a,{className:"my__search__buttons my__flex",onClick:function(){y.get("/api/pharmacy/").then((function(e){c(e.data),o(e.data)})).catch((function(){return c([])})),D("")},children:["Reset ",Object(I.jsx)(De.a,{})]})]})}),Object(I.jsxs)("div",{className:"my__flex",style:{display:"sorter"===ce?"flex":"none"},children:[Object(I.jsx)(u.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{className:"my__search__buttons",id:"dropdown-basic",children:F}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("sorter","none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("sorter","pharmacy name")},children:"pharmacy name"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("sorter","city name")},children:"city name"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("sorter","grade")},children:"grade"})]})]}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{className:"my__search__buttons",id:"dropdown-basic",children:z}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("ascDesc","none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("ascDesc","ascending")},children:"ascending"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){ue("ascDesc","descending")},children:"descending"})]})]})]}),Object(I.jsx)("div",{style:{display:"filter"===ce?"block":"none"},children:Object(I.jsxs)(u.a,{onSubmit:function(e){if(e.preventDefault(),""!==E||""!==R){var t=[];if(""!==E){for(var n=0;n<i.length;n++)("HIGH"===E&&i[n].avgGrade>3||"MEDIUM"===E&&3===i[n].avgGrade||"LOW"===E&&i[n].avgGrade<3)&&t.push(i[n]);if(c(t),0===t.length)return}""!==R&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var n=0!==t.length?Object(le.a)(t):i;t=[];for(var a=0;a<n.length;a++)("5LESS"===R&&oe(n[a].address,e.coords.longitude,e.coords.latitude)<=5||"10LESS"===R&&oe(n[a].address,e.coords.longitude,e.coords.latitude)<=10||"10HIGHER"===R&&oe(n[a].address,e.coords.longitude,e.coords.latitude)>10)&&t.push(n[a]);c(t)}))}else c(i)},className:"my__div__filter",children:[Object(I.jsxs)(u.a.Group,{controlId:"gradeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Grade"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return M(e.target.value)},defaultValue:"",children:[Object(I.jsx)("option",{value:"",children:"Not Selected"}),Object(I.jsx)("option",{value:"LOW",children:"Low"}),Object(I.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(I.jsx)("option",{value:"HIGH",children:"High"})]})]}),Object(I.jsxs)(u.a.Group,{controlId:"distanceSelect",children:[Object(I.jsx)(u.a.Label,{children:"Distance"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return G(e.target.value)},defaultValue:"",children:[Object(I.jsx)("option",{value:"",children:"Not Selected"}),Object(I.jsx)("option",{value:"5LESS",children:"5km(Less)"}),Object(I.jsx)("option",{value:"10LESS",children:"10km(Less)"}),Object(I.jsx)("option",{value:"10HIGHER",children:"10km(Higher)"})]})]}),Object(I.jsx)(b.a,{type:"submit",className:"my__search__buttons",children:Object(I.jsx)(Ie.a,{})})]})})]}),Object(I.jsxs)("div",{className:"my__flex",style:{paddingTop:"30px"},children:[Object(I.jsx)(b.a,{className:"my__search__buttons",onClick:function(){se.classList.add("my__transition__div__move"),ie.classList.add("blocker"),re("search")},children:"Search"}),Object(I.jsx)(b.a,{className:"my__search__buttons",onClick:function(){se.classList.add("my__transition__div__move"),ie.classList.add("blocker"),re("sorter")},children:"Sorter"}),Object(I.jsx)(b.a,{className:"my__search__buttons",onClick:function(){se.classList.add("my__transition__div__move"),ie.classList.add("blocker"),re("filter")},children:"Filter"})]}),Object(I.jsxs)(xe.a,{fluid:!0,children:[Object(I.jsxs)(X.a,{children:[0===k.length&&Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)("h3",{children:"No result!"})}),k&&k.map((function(e,t){return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(I.jsx)(te.a.Link,{as:Ke.b,className:"my__nav__link__card",to:"/pharmacy/".concat(e.id),children:Object(I.jsxs)(de.a,{className:"my__card",style:{width:"18rem"},children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsx)(de.a.Title,{children:e.name}),Object(I.jsx)(de.a.Text,{children:e.description})]}),Object(I.jsxs)(fe.a,{className:"list-group-flush",children:[Object(I.jsx)(We.a,{className:"my__flex",children:Object(le.a)(Array(Math.ceil(e.avgGrade))).map((function(){return Object(I.jsx)(Je.a,{className:"my__star"})}))}),Object(I.jsx)(We.a,{className:"my__flex",children:e.address.street+", "+e.address.city})]})]})})},t)}))]}),Object(I.jsx)(X.a,{className:"my__row__pagination",children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===h,onClick:function(){0!==h&&O(h-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:h}),Object(I.jsx)(je.a.Next,{disabled:h===v,onClick:function(){h!==v&&O(h+1)}})]})})})]})]})},Ze=n(121),$e=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(a.useState)([]),h=Object(l.a)(j,2),O=h[0],p=h[1],m=Object(a.useState)([]),x=Object(l.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)(""),_=Object(l.a)(g,2),C=_[0],k=_[1];Object(a.useEffect)((function(){y.get("/api/medicine-types/").then((function(e){p(e.data)})),y.get("/api/medicine-forms/").then((function(e){v(e.data)}))}),[]);var w=function(){return"name:".concat(C,",medicineType:").concat(c,",medicineForm:").concat(o)};return Object(I.jsx)(u.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.updateParams(w())},children:Object(I.jsx)(xe.a,{style:{marginBottom:"20px"},children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{md:5,children:Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Name:"}),Object(I.jsx)(u.a.Control,{type:"text",onChange:function(e){k(e.target.value)}})]})}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Type:"}),Object(I.jsxs)(u.a.Control,{as:"select",custom:!0,onChange:function(e){r(e.target.value)},children:[Object(I.jsx)("option",{value:"",children:"Show all"}),O.map((function(e){return Object(I.jsx)("option",{value:e.name,children:e.name})}))]})]})}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Form:"}),Object(I.jsxs)(u.a.Control,{as:"select",custom:!0,onChange:function(e){d(e.target.value)},children:[Object(I.jsx)("option",{value:"",children:"Show all"}),f.map((function(e){return Object(I.jsx)("option",{value:e.name,children:e.name})}))]})]})}),Object(I.jsx)(ee.a,{md:1,children:Object(I.jsx)(b.a,{type:"submit",children:"Submit"})})]})})})};var Xe=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)([]),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)(""),g=Object(l.a)(v,2),_=g[0],C=g[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine/");case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine?search=".concat(_));case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_&&function(){e.apply(this,arguments)}()}),[_]),Object(a.useEffect)((function(){var e=Math.floor((null===n||void 0===n?void 0:n.length)/12)-1;(null===n||void 0===n?void 0:n.length)/12-1>e&&(e+=1),b(e)}),[n]),Object(a.useEffect)((function(){var e=12*i,t=n.length<e+12?null===n||void 0===n?void 0:n.length:e+12;f(null===n||void 0===n?void 0:n.slice(e,t))}),[n,i]),Object(I.jsx)($.a.Pane,{eventKey:"third",children:Object(I.jsxs)(xe.a,{fluid:!0,children:[Object(I.jsx)($e,{updateParams:function(e){!function(e){C(e)}(e)}}),Object(I.jsx)(X.a,{children:p&&p.map((function(e,t){return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(I.jsx)(te.a.Link,{as:Ke.b,className:"my__nav__link__card",to:"/medicine/".concat(e.id,"/pharmacy/-1/price/-1"),children:Object(I.jsxs)(de.a,{className:"my__card",style:{width:"18rem"},children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsx)(de.a.Title,{children:e.name}),Object(I.jsxs)(de.a.Text,{children:["#",e.code]}),Object(I.jsx)(de.a.Text,{children:e.content})]}),Object(I.jsx)(fe.a,{className:"list-group-flush",children:Object(I.jsx)(We.a,{className:"my__flex",children:Object(le.a)(Array(Math.ceil(e.avgGrade))).map((function(){return Object(I.jsx)(Je.a,{className:"my__star"})}))})})]})})},t)}))}),Object(I.jsx)(X.a,{className:"my__row__pagination",children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===i,onClick:function(){0!==i&&o(i-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:i}),Object(I.jsx)(je.a.Next,{disabled:i===u,onClick:function(){i!==u&&o(i+1)}})]})})})]})})};var et=function(){var e=Object(h.c)((function(e){return e.user})),t=Z();return Object(a.useEffect)((function(){t=Z()}),[e]),Object(I.jsx)("main",{className:"home__page",children:Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"Pharmacies"})}),"PATIENT"===t&&Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"Dermatologits and pharmacists"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"third",children:"Medicines"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(Qe,{}),Object(I.jsx)(Xe,{}),"PATIENT"===t&&Object(I.jsx)(Ee,{idOfPharmacy:-1})]})})]})})})},tt=n(208),nt=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(1),i=Object(l.a)(s,2),d=i[0],j=i[1],h=Object(a.useState)([]),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(ie.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine/");case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine to stock"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation();var n={};c[0]?(n.medicineId=c[0].id,n.medicineName=c[0].name,n.amount=d,y.post("/api/suppliers/stock/".concat(Q()),n).then((function(){v("Medicine added successfully",{appearance:"success"}),e.onSuccess(),e.onHide()}))):v("Medicine not selected",{appearance:"warning"})},children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Medicine"}),Object(I.jsx)(Ze.a,{labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},onChange:r,options:p,placeholder:"Select a medicine...",selected:c})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Amount"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return j(e.target.value)},defaultValue:1,min:1,max:1e3,step:1,required:!0})]}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Confirm"}),Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})})]}))},at=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],h=j[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/suppliers/stock/".concat(Q()));case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]);return Object(I.jsxs)(fe.a,{style:{margin:"20px"},children:[n&&n.map((function(e){return Object(I.jsxs)(fe.a.Item,{style:{margin:"10px"},children:[" ","".concat(e.medicineName,"  --  ").concat(e.amount)]},e.medicineId)})),Object(I.jsx)(b.a,{onClick:function(){return h(!0)},children:"Add"}),Object(I.jsx)(nt,{show:u,onHide:function(){return h(!1)},onSuccess:function(){o(!i)}})]})},ct=n(328),rt=n(330);function st(e){return e.response.data.message?e.response.data.message:e.response.data}var it=function(e){var t,n=Object(a.useState)(e.offer?e.offer.price:0),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(e.offer?new Date(e.offer.deliveryDate).getTime():Date.now()),d=Object(l.a)(i,2),j=d[0],h=d[1],O=Object(ie.useToasts)().addToast,p=function(t){y.post("/api/suppliers/offers/".concat(Q()),t).then((function(){e.onSuccess(),e.onHide(),O("Successfully added",{appearance:"success"})})).catch((function(e){O(st(e),{appearance:"error"})}))},m=function(t){t.id=e.offer.id,y.put("/api/suppliers/offers/".concat(Q()),t).then((function(){O("Successfully updated",{appearance:"success"}),e.onSuccess(),e.onHide()})).catch((function(e){O(st(e),{appearance:"error"})}))},x=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,c=t.getDate();return a=a<10?"0"+a:a,c=c<10?"0"+c:c,"".concat(n,"-").concat(a,"-").concat(c)};return e.order&&e.order.orderItem&&(t=e.order.orderItem.map((function(e){return Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"".concat(e.medicine.code," -- ").concat(e.medicine.name," -- Amount: ").concat(e.amount)})},e.id)}))),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{children:[Object(I.jsx)(V.a.Header,{className:"justify-content-center",backdrop:"static",onHide:function(){},closeButton:!0,children:Object(I.jsxs)("p",{children:[e.offer?"Edit offer":"Create offer"," "]})}),Object(I.jsxs)(V.a.Body,{className:"justify-content-center",children:[t,Object(I.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),t.stopPropagation();var n={};n.price=r,n.deliveryDate=j,n.offerState=e.offer?e.offer.offerState:"PENDING",n.orderId=e.order.id,e.offer?m(n):p(n)},children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Total price"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return s(e.target.value)},defaultValue:e.offer?e.offer.price:0,min:0,step:1,required:!0})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Due"}),Object(I.jsx)(u.a.Control,{type:"date",onChange:function(e){return t=e.target.value,void h(new Date(t).getTime());var t},defaultValue:e.offer?x(e.offer.deliveryDate):x(Date.now()),min:x(Date.now()),max:e.order?x(e.order.deadline):"",required:!0})]}),Object(I.jsx)(b.a,{className:"float-center",variant:"outline-secondary",type:"submit",children:"Save"})]})]})]}))},ot=function(e){var t=e.orderItems;return Object(I.jsx)(fe.a,{style:{marginBottom:"20px"},children:t.map((function(e){return Object(I.jsx)(fe.a.Item,{children:"Code: ".concat(e.medicine.code," -- ").concat(e.medicine.name,"   Amount ").concat(e.amount," pcs")})}))})};ot.defaultProps={orderItems:[]};var lt=ot,dt=function(e){var t=e.order,n=e.onSuccess,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1];return Object(I.jsxs)(xe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(I.jsxs)(X.a,{className:"justify-content-between",children:[Object(I.jsx)(ee.a,{md:4,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Status: ",t.orderState]})})}),Object(I.jsx)(ee.a,{md:2,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Deadline: ",new Date(t.deadline).toLocaleDateString("sr-sp")]})})})]}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{children:Object(I.jsx)(lt,{orderItems:t.orderItem})})}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{md:{offset:0,span:2},children:Object(I.jsx)(b.a,{onClick:function(){i(!0)},style:{width:"100%"},children:"Create Offer"})})}),Object(I.jsx)(it,{show:s,order:t,onHide:function(){return i(!1)},onSuccess:function(){n()}})]})},jt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/orders/without-offers/".concat(Q()));case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]);return Object(a.useEffect)((function(){b(Array.isArray(n)&&n.length?"":"No orders to show")}),[n]),Object(I.jsxs)("div",{children:[n&&n.map((function(e){return Object(I.jsx)(dt,{order:e,onSuccess:function(){o(!i)}},e.id)})),Object(I.jsx)("p",{children:u})]})},ut=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),i=Object(l.a)(s,2),o=i[0],d=i[1];Object(a.useEffect)((function(){function t(){return(t=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/orders/".concat(e.offer.orderId));case 2:n=t.sent,d(n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);return Object(I.jsxs)(xe.a,{className:"border border-primary",style:{borderRadius:"10px",padding:"10px",marginTop:"10px",marginBottom:"10px",backgroundColor:"white"},children:[Object(I.jsxs)(X.a,{className:"justify-content-between",children:[Object(I.jsx)(ee.a,{md:3,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["State: ",e.offer.offerState]})})}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Price: ",e.offer.price]})})}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Delivery Date:"," ",new Date(e.offer.deliveryDate).toLocaleDateString("sr-sp")]})})}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Deadline:"," ",o?new Date(o.deadline).toLocaleDateString("sr-sp"):""]})})})]}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{})}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{md:{offset:0,span:2},children:Object(I.jsx)(b.a,{disabled:!("PENDING"===e.offer.offerState&&o.deadline>Date.now()),onClick:function(){r(!0)},children:"Edit"})})}),Object(I.jsx)(it,{show:c,order:o,offer:e.offer,onHide:function(){return r(!1)},onSuccess:function(){e.onSuccess()}})]})},bt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)("ACCEPTED"),j=Object(l.a)(d,2),b=j[0],h=j[1];Object(a.useEffect)((function(){var e=Q();function t(){return(t=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/suppliers/offers/".concat(e,"/?type=").concat(b));case 2:n=t.sent,c(n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[i,b]);return Object(I.jsxs)("div",{children:[Object(I.jsxs)(u.a.Group,{controlId:"selectOffer",children:[Object(I.jsx)(u.a.Label,{children:"Offer state"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){h(e.target.value)}.bind(undefined),children:[Object(I.jsx)("option",{value:"ACCEPTED",children:"Accepted"}),Object(I.jsx)("option",{value:"PENDING",children:"Pending"}),Object(I.jsx)("option",{value:"DENIED",children:"Denied"})]})]}),n&&n.map((function(e){return Object(I.jsx)(ut,{offer:e,onSuccess:function(){o(!i)}},e.id)}))]})},ht=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=Q();y.get("/api/users/"+e).then((function(e){c(e.data.passwordChanged)}))}),[]),Object(I.jsxs)("div",{children:[Object(I.jsx)("main",{className:"home__page",children:Object(I.jsx)($.a.Container,{unmountOnExit:!0,children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"New orders"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"My offers"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"third",children:"Stock"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(tt.a,{eventKey:"first",children:Object(I.jsx)(jt,{})}),Object(I.jsx)(tt.a,{eventKey:"second",children:Object(I.jsx)(bt,{})}),Object(I.jsx)(tt.a,{eventKey:"third",children:Object(I.jsx)(at,{})})]})})]})})}),Object(I.jsx)(Fe,{show:!n,onPasswordSet:function(){return c(!0)}})]})};var Ot=function(){return Object(I.jsx)("main",{className:"home__page",children:Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsx)(te.a,{variant:"pills",className:"flex-column",children:Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"fifth",children:"Holiday requests"})})})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsx)($.a.Content,{children:Object(I.jsx)(Te,{idOfPharmacy:-1})})})]})})})},pt=function(){var e,t=Object(h.c)((function(e){return e.user})),n=Z();switch(Object(a.useEffect)((function(){n=Z()}),[t]),n){case"ADMIN":e=Object(I.jsx)(Ot,{});break;case"PHARMACIST":e=Object(I.jsx)(ze,{});break;case"DERMATOLOGIST":e=Object(I.jsx)(Ue,{});break;case"SUPPLIER":e=Object(I.jsx)(ht,{});break;case"PATIENT":e=Object(I.jsx)(et,{});break;case"PHARMACY_ADMIN":e=Object(I.jsx)(qe,{});break;default:e=Object(I.jsx)(et,{})}return Object(I.jsx)("div",{children:e})},mt=(n(188),function(e){var t=e.allergy,n=e.deleteClick;return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t.code}),Object(I.jsx)("td",{children:t.name}),Object(I.jsx)("td",{children:t.content}),Object(I.jsx)("td",{children:Object(I.jsx)(b.a,{variant:"danger",onClick:n,children:"Delete"})})]},t.id)}),xt=n(615);n(308);var ft=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),u=j[0],h=j[1],O=Object(a.useState)({}),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(ie.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/allergies/all/"+Q());case 2:t=e.sent,o(t.data),""==t.data&&o(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine/");case 2:t=e.sent,h(t.data),""==t.data&&h(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var N=function(){c(!n)};return Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{className:"my__allergy__header",children:"Allergies"}),Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",size:"lg",style:{display:null!=i?"block":"none"},children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Content"}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{className:"my__table__body",children:i&&i.map((function(e){return Object(I.jsx)(mt,{allergy:e,deleteClick:function(){return t=e.id,void y.delete("/api/patients/allergies/"+Q()+"/"+t).then((function(e){N(),w(e.data,{appearance:"success"})})).catch((function(e){w(e.response.data,{appearance:"error"})}));var t}},e.id)}))})]}),Object(I.jsxs)(b.a,{variant:"primary",onClick:function(){return k(!0)},children:[Object(I.jsx)(xt.a,{style:{width:"1.5em",height:"1.5em"}}),"Add"]}),Object(I.jsxs)(V.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){k(!1),v({})},show:C,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add new allergy"})}),Object(I.jsxs)(V.a.Body,{children:[Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",size:"md",style:{display:null!=u?"block":"none"},children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Content"})]})}),Object(I.jsx)("tbody",{className:"my__table__body",children:u&&u.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return function(e){v(e)}(e)},className:f.id===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.content})]},e.id)}))})]}),Object(I.jsx)(b.a,{variant:"info",onClick:function(){y.post("/api/patients/allergies/"+Q()+"/"+f.id).then((function(e){w(e.data,{appearance:"success"}),N(),k(!1),v({})})).catch((function(e){w(e.response.data,{appearance:"error"})}))},disabled:0===Object.keys(f).length,children:"Add"})]})]})]})};var vt=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),s=Object(l.a)(r,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/"+Q()+"/points");case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/ranking-category/points/"+n);case 2:return t=e.sent,o(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{style:{textAlign:"center"},children:"Benefits"}),Object(I.jsxs)("p",{style:{textAlign:"center"},children:["Achieved points: ",n," "]}),Object(I.jsxs)("div",{style:{display:""==i?"none":"block"},children:[Object(I.jsxs)("p",{style:{textAlign:"center"},children:["Category: ",i.name," "]}),Object(I.jsxs)("p",{style:{textAlign:"center"},children:["Requied points: ",i.pointsRequired," "]}),Object(I.jsxs)("p",{style:{textAlign:"center"},children:["Discount: ",i.discount,"%"]})]}),Object(I.jsx)("h5",{style:{display:""==i?"block":"none",fontWeight:"bold",textAlign:"center"},children:"No category achieved"})]})};var yt=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/"+Q()+"/penalties");case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{style:{textAlign:"center"},children:"Penalties"}),Object(I.jsxs)("p",{style:{textAlign:"center"},children:["Achieved points: ",n," out of 3"]}),Object(I.jsx)("p",{style:{textAlign:"center"},children:"Reservation functionality is disabled once you reach 3 penalties."}),Object(I.jsx)("p",{style:{textAlign:"center"},children:"Every first day of the month the penalties are set to 0."})]})},gt=n(616),_t=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),d=Object(l.a)(s,2),j=d[0],h=d[1],O=Object(a.useState)({oldPassword:"",newPassword:"",repeatPassword:""}),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(!1),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)("password"),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(ie.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n,a,c,s,i,o,l,d,j,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/users/"+Q());case 2:return u=e.sent,r(u.data),h({email:null===(t=u.data)||void 0===t?void 0:t.email,firstName:null===(n=u.data)||void 0===n?void 0:n.firstName,lastName:null===(a=u.data)||void 0===a?void 0:a.lastName,telephone:null===(c=u.data)||void 0===c?void 0:c.telephone,street:null===(s=u.data)||void 0===s||null===(i=s.address)||void 0===i?void 0:i.street,city:null===(o=u.data)||void 0===o||null===(l=o.address)||void 0===l?void 0:l.city,country:null===(d=u.data)||void 0===d||null===(j=d.address)||void 0===j?void 0:j.country}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var A=function(e){var t=e.target.name,n=e.target.value;h(Object(o.a)(Object(o.a)({},j),{},Object(i.a)({},t,n)))},H=function(e){var t=e.target.name,n=e.target.value;v(Object(o.a)(Object(o.a)({},f),{},Object(i.a)({},t,n)))};return Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(X.a,{children:Object(I.jsxs)(V.a,{show:S,onHide:function(){return T(!1)},children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{children:"Change password"})}),Object(I.jsxs)(u.a,{onSubmit:function(e){if(e.preventDefault(),f.newPassword===f.repeatPassword){var t=Object(o.a)({},f);delete t.repeatPassword,y.put("/api/users/change-password/"+Q(),t).then((function(){M("Successfully changed password!",{appearance:"success"}),f.oldPassword="",f.newPassword="",f.repeatPassword="",T(!1)})).catch((function(e){M(e.response.data,{appearance:"error"})}))}else M("Passwords not matches!",{appearance:"warning"})},children:[Object(I.jsxs)(V.a.Body,{children:[Object(I.jsx)(u.a.Label,{children:"Old password"}),Object(I.jsx)(u.a.Control,{type:L,name:"oldPassword",required:!0,value:f.oldPassword,onChange:H,maxLength:30}),Object(I.jsx)(u.a.Label,{children:"New password"}),Object(I.jsx)(u.a.Control,{type:L,name:"newPassword",required:!0,value:f.newPassword,onChange:H,maxLength:30}),Object(I.jsx)(u.a.Label,{children:"Repeat password"}),Object(I.jsx)(u.a.Control,{type:L,name:"repeatPassword",required:!0,value:f.repeatPassword,onChange:H,maxLength:30})]}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"secondary",style:{borderRadius:"50%",position:"absolute",left:"30px"},onClick:function(){return E("text"===L?"password":"text")},children:Object(I.jsx)(gt.a,{})}),Object(I.jsx)(b.a,{variant:"secondary",onClick:function(){return T(!1)},children:"Close"}),Object(I.jsx)(b.a,{type:"submit",variant:"primary",children:"Submit"})]})]})]})}),Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsx)("h4",{children:e.title})}),Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsx)(ee.a,{md:6,children:Object(I.jsxs)(u.a,{onSubmit:function(e){e.preventDefault(),k(!C),c.firstName===j.firstName&&c.lastName===j.lastName&&c.telephone===j.telephone&&c.address.street===j.street&&c.address.city===j.city&&c.address.country===j.country||(c.firstName=j.firstName,c.lastName=j.lastName,c.telephone=j.telephone,c.address.street=j.street,c.address.city=j.city,c.address.country=j.country,y.put("/api/users/"+Q(),c).then((function(e){M("User changed successfully!",{appearance:"success"}),r(e.data)})).catch((function(e){M(e.response.data,{appearance:"error"})})))},children:[Object(I.jsx)(u.a.Label,{children:"Email"}),Object(I.jsx)(u.a.Control,{disabled:!0,type:"email",value:j.email}),Object(I.jsx)(u.a.Label,{children:"First Name"}),Object(I.jsx)(u.a.Control,{disabled:!C,type:"text",name:"firstName",required:!0,value:j.firstName,onChange:A}),Object(I.jsx)(u.a.Label,{children:"Last Name"}),Object(I.jsx)(u.a.Control,{disabled:!C,type:"text",name:"lastName",required:!0,value:j.lastName,onChange:A}),Object(I.jsx)(u.a.Label,{children:"Telephone"}),Object(I.jsx)(u.a.Control,{disabled:!C,type:"number",name:"telephone",pattern:"[0-9]{10}",required:!0,value:j.telephone,onChange:A}),Object(I.jsx)(u.a.Label,{children:"Street"}),Object(I.jsx)(u.a.Control,{disabled:!C,type:"text",name:"street",required:!0,value:null===j||void 0===j?void 0:j.street,onChange:A}),Object(I.jsx)(u.a.Label,{children:"City"}),Object(I.jsx)(u.a.Control,{disabled:!C,type:"text",name:"city",required:!0,value:null===j||void 0===j?void 0:j.city,onChange:A}),Object(I.jsx)(u.a.Label,{children:"Country"}),Object(I.jsx)(u.a.Control,{disabled:!C,type:"text",name:"country",required:!0,value:null===j||void 0===j?void 0:j.country,onChange:A}),Object(I.jsx)(X.a,{style:{marginTop:"10px",position:"relative"},children:Object(I.jsx)(b.a,{disabled:!C,variant:"info",type:"button",onClick:function(){return T(!0)},style:{position:"absolute",right:"0px"},children:"Change password"})}),Object(I.jsxs)(u.a.Group,{className:"form__buttons mt-5",controlId:"buttons",children:[Object(I.jsx)(b.a,{disabled:!C,variant:"secondary",type:"submit",children:"Save"}),Object(I.jsx)(b.a,{onClick:function(){k(!C)},disabled:C,variant:"secondary",type:"button",children:"Edit"}),Object(I.jsx)(b.a,{onClick:function(){var e,t,n;k(!C),h({email:null===c||void 0===c?void 0:c.email,firstName:null===c||void 0===c?void 0:c.firstName,lastName:null===c||void 0===c?void 0:c.lastName,telephone:null===c||void 0===c?void 0:c.telephone,street:null===c||void 0===c||null===(e=c.address)||void 0===e?void 0:e.street,city:null===c||void 0===c||null===(t=c.address)||void 0===t?void 0:t.city,country:null===c||void 0===c||null===(n=c.address)||void 0===n?void 0:n.country})},disabled:!C,variant:"secondary",type:"button",children:"Cancel"})]})]})})})]})};var Ct=function(e){return Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(_t,{title:e.title}),Object(I.jsx)("hr",{}),Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsx)(ft,{})}),Object(I.jsx)("hr",{}),Object(I.jsx)(vt,{}),Object(I.jsx)("hr",{}),Object(I.jsx)(yt,{})]})};var kt=function(){return Object(I.jsx)("main",{children:Object(I.jsx)(Ct,{title:"Patient's information",col_width:6})})},wt=(n(517),n(617)),Nt=n(618),St=n(619);var Tt=function(){return Object(I.jsxs)("footer",{className:"my__footer",children:[Object(I.jsx)("p",{children:"Copyright \xa9 2021"}),Object(I.jsxs)("p",{children:["Produced by: Dejan Todorovic, Aleksandar Buljevic, Darko Tica and Jovan Simic",Object(I.jsx)(b.a,{className:"my__footer__btn",children:Object(I.jsx)(wt.a,{})}),Object(I.jsx)(b.a,{className:"my__footer__btn",children:Object(I.jsx)(Nt.a,{})}),Object(I.jsx)(b.a,{className:"my__footer__btn",children:Object(I.jsx)(St.a,{})})]})]})};var It=function(e){var t,n,c,r=e.details,s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],d=i[1];Object(a.useEffect)((function(){var e,t,n,a;return j(),document.getElementById("mapCol").innerHTML="",new ne.a({target:"mapCol",layers:[new ce.a({source:new ae.a})],view:new re.a({center:Object(se.d)([null===r||void 0===r||null===(e=r.address)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.longitude,null===r||void 0===r||null===(n=r.address)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.latitude]),zoom:10,minZoom:5,maxZoom:12})})}),[r]);var j=function(){y.get("/api/pharmacy/".concat(r.id,"/subscribe/").concat(Q())).then((function(e){console.log(e.data),d(e.data)}))};return Object(I.jsx)($.a.Pane,{eventKey:"first",children:Object(I.jsxs)(xe.a,{fluid:!0,children:[Object(I.jsxs)(X.a,{className:"row-content",children:[Object(I.jsxs)(ee.a,{lg:6,md:6,sm:12,className:"my-vertical-col center",children:[Object(I.jsx)("h1",{children:null===r||void 0===r?void 0:r.name}),Object(I.jsx)("div",{className:"center",children:r.avgGrade&&Object(le.a)(Array(Math.ceil(r.avgGrade))).map((function(){return Object(I.jsx)(Je.a,{className:"my__star"})}))}),Object(I.jsxs)("h5",{children:["- ",null===r||void 0===r?void 0:r.description," -"]}),Object(I.jsxs)("h4",{children:[null===r||void 0===r||null===(t=r.address)||void 0===t?void 0:t.street,", ",null===r||void 0===r||null===(n=r.address)||void 0===n?void 0:n.city,","," ",null===r||void 0===r||null===(c=r.address)||void 0===c?void 0:c.country]}),Object(I.jsx)(b.a,{variant:"primary",hidden:"PATIENT"!==Z(),onClick:function(){o?y.post("/api/pharmacy/".concat(r.id,"/unsubscribe/").concat(Q())).then((function(){alert("Success"),j()})).catch((function(){alert("Error")})):y.post("/api/pharmacy/".concat(r.id,"/subscribe/").concat(Q())).then((function(){alert("Success"),j()})).catch((function(){alert("Error")}))},children:o?"Unsubscribe":"Subscribe"})]}),Object(I.jsx)(ee.a,{lg:6,md:6,sm:12,id:"mapCol",className:"center"})]}),Object(I.jsx)("hr",{})]})})};var Dt=function(e){var t=e.priceListId,n=e.pharmacyId,c=Object(ie.useToasts)().addToast,r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(0),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)([]),g=Object(l.a)(v,2),_=g[0],C=g[1];return Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pricelist/".concat(t)).then((function(e){o(e.data.medicineItems)})).catch((function(e){c(e.response.data,{appearance:"error"})}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){if(0!=i.length){var e=Math.floor((null===i||void 0===i?void 0:i.length)/12)-1;(null===i||void 0===i?void 0:i.length)/12-1>e&&(e+=1),f(e)}}),[i]),Object(a.useEffect)((function(){var e=12*u,t=(null===i||void 0===i?void 0:i.length)<e+12?null===i||void 0===i?void 0:i.length:e+12;C(null===i||void 0===i?void 0:i.slice(e,t))}),[i,u]),Object(I.jsx)($.a.Pane,{eventKey:"second",children:Object(I.jsxs)(xe.a,{fluid:!0,children:[Object(I.jsx)(X.a,{children:_&&_.map((function(e,t){var a,c,r,s,o;return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(I.jsx)(te.a.Link,{as:Ke.b,className:"my__nav__link__card",to:"/medicine/".concat(null===e||void 0===e||null===(a=e.medicine)||void 0===a?void 0:a.id,"/pharmacy/").concat(n,"/price/").concat(null===e||void 0===e?void 0:e.price),children:Object(I.jsxs)(de.a,{className:"my__card",style:{width:"18rem"},children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsx)(de.a.Title,{children:null===e||void 0===e||null===(c=e.medicine)||void 0===c?void 0:c.name}),Object(I.jsxs)(de.a.Text,{children:["#",null===e||void 0===e||null===(r=e.medicine)||void 0===r?void 0:r.code]}),Object(I.jsx)(de.a.Text,{children:null===e||void 0===e||null===(s=e.medicine)||void 0===s?void 0:s.content})]}),Object(I.jsxs)(fe.a,{className:"list-group-flush",children:[Object(I.jsxs)(We.a,{className:"my__flex",children:[null===e||void 0===e?void 0:e.price,"$"]}),Object(I.jsx)(We.a,{className:"my__flex",children:i&&Object(le.a)(Array(Math.ceil(null===e||void 0===e||null===(o=e.medicine)||void 0===o?void 0:o.avgGrade))).map((function(){return Object(I.jsx)(Je.a,{className:"my__star"})}))})]})]})})},t)}))}),Object(I.jsx)(X.a,{className:"my__row__pagination",children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===u,onClick:function(){0!==u&&b(u-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:u}),Object(I.jsx)(je.a.Next,{disabled:u===p,onClick:function(){u!==p&&b(u+1)}})]})})})]})})};var Pt=function(e){var t=e.pharmacyId,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),o=Object(l.a)(i,2),d=o[0],j=o[1],h=Object(a.useState)(0),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)(0),g=Object(l.a)(v,2),_=g[0],C=g[1],k=Object(a.useState)([]),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(a.useState)("none"),D=Object(l.a)(T,2),P=D[0],L=D[1],E=Object(a.useState)({}),M=Object(l.a)(E,2),A=M[0],H=M[1],R=Object(a.useState)({}),G=Object(l.a)(R,2),Y=G[0],B=G[1],F=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=Q()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.get("/api/patients/"+Q()+"/points");case 4:return t=e.sent,H(t.data),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=Q()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.get("/api/ranking-category/points/"+A);case 4:return t=e.sent,B(t.data),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A]),Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/appointment/bypharmacyid/".concat(t));case 2:return n=e.sent,j(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,r]),Object(a.useEffect)((function(){var e=Math.floor((null===d||void 0===d?void 0:d.length)/12)-1;(null===d||void 0===d?void 0:d.length)/12-1>e&&(e+=1),C(e)}),[d,r]),Object(a.useEffect)((function(){var e=12*p,t=d.length<e+12?null===d||void 0===d?void 0:d.length:e+12;S(null===d||void 0===d?void 0:d.slice(e,t))}),[d,p,r]),Object(I.jsx)($.a.Pane,{eventKey:"third",children:Object(I.jsxs)(xe.a,{fluid:!0,children:[Object(I.jsx)(X.a,{className:"justify-content-center m-3",style:{display:0==d.length?"none":"flex"},children:Object(I.jsx)(u.a,{onSubmit:function(e){if(e.preventDefault(),"none"!==P){var n=new URLSearchParams;"ascPrice"===P&&n.append("sort","price,asc"),"descPrice"===P&&n.append("sort","price,desc"),"ascGrade"===P&&n.append("sort","worker.avgGrade,asc"),"descGrade"===P&&n.append("sort","worker.avgGrade,desc"),y.get("/api/appointment/bypharmacyid/".concat(t,"/sort"),{params:n}).then((function(e){return j(e.data)})).catch(j([]))}},children:Object(I.jsxs)(u.a.Group,{as:X.a,className:"align-items-center",children:[Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(u.a.Label,{children:"Choose sorter: "}),Object(I.jsxs)(u.a.Control,{as:"select",value:P,onChange:function(e){L(e.target.value)}.bind(this),name:"sorter",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"ascPrice",children:"Price (ascending)"}),Object(I.jsx)("option",{value:"descPrice",children:"Price (descending)"}),Object(I.jsx)("option",{value:"ascGrade",children:"Dermatologist grade (ascending)"}),Object(I.jsx)("option",{value:"descGrade",children:"Dermatologist grade (descending)"})]})]}),Object(I.jsxs)(ee.a,{className:"justify-content-center",children:[Object(I.jsxs)(b.a,{type:"submit",variant:"primary",children:[" ","Sort"," "]}),Object(I.jsxs)(b.a,{variant:"primary",onClick:function(){s(!r)},children:[" ","Reset"," "]})]})]})})}),Object(I.jsx)(X.a,{children:N&&N.map((function(e,t){var n,a;return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(I.jsxs)(de.a,{className:"my__card",style:{width:"18rem"},children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsx)(de.a.Title,{children:null===e||void 0===e?void 0:e.appointmentType}),Object(I.jsx)(de.a.Text,{children:me()(e.startTime).format("DD MMM YYYY")}),Object(I.jsxs)(de.a.Text,{children:[me()(e.startTime).format("hh:mm a")," -"," ",me()(e.endTime).format("hh:mm a")]})]}),Object(I.jsxs)(fe.a,{className:"list-group-flush",children:[Object(I.jsx)(We.a,{className:"my__flex",style:{display:""===Y||0===Object.keys(Y).length?"flex":"none"},children:e.price}),Object(I.jsxs)(We.a,{className:"my__flex",style:{display:""!==Y&&0!==Object.keys(Y).length?"flex":"none"},children:[Object(I.jsx)("span",{style:{textDecoration:"line-through"},children:e.price}),"   ->   ",e.price*(100-Y.discount)/100]}),Object(I.jsxs)(We.a,{className:"my__flex",children:[null===e||void 0===e||null===(n=e.worker)||void 0===n?void 0:n.lastName," ",null===e||void 0===e||null===(a=e.worker)||void 0===a?void 0:a.firstName]}),Object(I.jsx)(We.a,{className:"my__flex",children:Object(I.jsx)(b.a,{variant:"secondary",onClick:function(){return t=e,void y.post("/api/appointment/reserve/"+t.id+"/patient/"+Q()).then((function(e){F(e.data,{appearance:"success"}),s(!r)})).catch((function(e){F(void 0==e.response.data.message?e.response.data:e.response.data.message,{appearance:"error"}),s(!r)}));var t},style:{display:"PATIENT"===Z()?"block":"none"},children:"Reserve"})})]})]})},t)}))}),Object(I.jsx)(X.a,{className:"my__row__pagination",style:{display:0==d.length?"none":"flex"},children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===p,onClick:function(){0!==p&&f(p-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:p}),Object(I.jsx)(je.a.Next,{disabled:p===_,onClick:function(){p!==_&&f(p+1)}})]})})}),Object(I.jsx)("h3",{style:{display:0==d.length?"block":"none",textAlign:"center",marginTop:"50px"},children:"There's no empty checkups!"})]})})};var Lt=function(e){var t=e.pharmacyId,n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(0),o=Object(l.a)(i,2),d=o[0],j=o[1],u=Object(a.useState)(0),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)([]),f=Object(l.a)(p,2),v=f[0],g=f[1];return Object(a.useEffect)((function(){void 0!=t&&function(){var e=Object(x.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/workplace/bypharmacyid/".concat(t));case 2:return n=e.sent,s(n.data),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(a.useEffect)((function(){var e=Math.floor((null===r||void 0===r?void 0:r.length)/12)-1;(null===r||void 0===r?void 0:r.length)/12-1>e&&(e+=1),O(e)}),[r]),Object(a.useEffect)((function(){var e=12*d,t=r.length<e+12?null===r||void 0===r?void 0:r.length:e+12;g(null===r||void 0===r?void 0:r.slice(e,t))}),[r,d]),Object(I.jsx)($.a.Pane,{eventKey:"forth",children:Object(I.jsxs)(xe.a,{fluid:!0,children:[Object(I.jsx)(X.a,{children:v&&v.map((function(e,t){var n,a,c,r,s,i;return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(I.jsxs)(de.a,{className:"my__card",style:{width:"18rem"},children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:[null===e||void 0===e||null===(n=e.worker)||void 0===n?void 0:n.lastName," ",null===e||void 0===e||null===(a=e.worker)||void 0===a?void 0:a.firstName]}),Object(I.jsx)(de.a.Text,{children:null===e||void 0===e||null===(c=e.worker)||void 0===c?void 0:c.email}),Object(I.jsx)(de.a.Text,{children:null===e||void 0===e||null===(r=e.worker)||void 0===r?void 0:r.telephone})]}),Object(I.jsxs)(fe.a,{className:"list-group-flush",children:[Object(I.jsx)(We.a,{className:"my__flex",children:null===e||void 0===e||null===(s=e.worker)||void 0===s?void 0:s.roleName}),Object(I.jsx)(We.a,{className:"my__flex",children:e&&Object(le.a)(Array(Math.ceil(null===e||void 0===e||null===(i=e.worker)||void 0===i?void 0:i.avgGrade))).map((function(){return Object(I.jsx)(Je.a,{className:"my__star"})}))})]})]})},t)}))}),Object(I.jsx)(X.a,{className:"my__row__pagination",children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===d,onClick:function(){0!==d&&j(d-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:d}),Object(I.jsx)(je.a.Next,{disabled:d===h,onClick:function(){d!==h&&j(d+1)}})]})})})]})})},Et=function(e){var t=e.pharmacyId,n=Object(ie.useToasts)().addToast,c=Object(a.useState)({}),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)({}),d=Object(l.a)(o,2),j=d[0],h=d[1];return Object(a.useEffect)((function(){var e=j;0!=Object.keys(e)&&y({method:"post",url:"/api/pharmacy/e-recipe/".concat(t),data:e}).then((function(e){n(e.data,{appearance:"success"})})).catch((function(){n("E-Recipe is not in the pharmacy!",{appearance:"error"})}))}),[j]),Object(I.jsx)("div",{className:"consultation__insight__content",children:Object(I.jsx)(xe.a,{children:Object(I.jsx)(u.a,{onSubmit:function(e){!function(e){e.preventDefault(),e.stopPropagation();var t=new FormData;t.append("file",s),y({method:"post",url:"/api/e-recipes/upload-qr/".concat(Q()),data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){h(e.data)})).catch((function(){n("Invalid QR code",{appearance:"error"})}))}(e)},children:Object(I.jsx)(xe.a,{style:{marginBottom:"15px"},children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{className:"my-auto",md:{span:4,offset:2},children:Object(I.jsxs)(u.a.File,{children:[Object(I.jsx)(u.a.File.Label,{children:"Upload QR Code"}),Object(I.jsx)(u.a.File.Input,{onChange:function(e){return function(e){i(e.target.files[0])}(e)}})]})}),Object(I.jsx)(ee.a,{className:"my-auto",md:{span:4,offset:2},children:Object(I.jsx)(b.a,{type:"submit",children:"Submit"})})]})})})})})};var Mt=function(){var e=Object(ie.useToasts)().addToast,t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(O.i)().id;return Object(a.useEffect)((function(){function t(){return(t=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/api/pharmacy/".concat(s)).then((function(e){r(e.data)})).catch((function(t){e(t.response.data,{appearance:"error"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[s]),Object(I.jsx)("div",{style:{height:"100vh"},children:Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"Basic informations"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"Medicines"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"third",children:"Appointsments"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"forth",children:"Pharmacists and dermatologists"})}),"PATIENT"===Z()&&Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"fifth",children:"Check availability"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(It,{details:c}),Object(I.jsx)(Dt,{priceListId:null===c||void 0===c?void 0:c.priceListId,pharmacyId:null===c||void 0===c?void 0:c.id}),Object(I.jsx)(Pt,{pharmacyId:s}),Object(I.jsx)(Lt,{pharmacyId:s}),Object(I.jsx)(tt.a,{eventKey:"fifth",children:Object(I.jsx)(Et,{pharmacyId:s})})]})})]})})})},At=n(107),Ht=n.n(At);n(518);var Rt=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),u=j[0],h=j[1],p=Object(a.useState)({}),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(ie.useToasts)().addToast,C=Object(O.i)(),k=C.id,w=C.pid,N=C.priceid,S=Object(a.useState)({}),T=Object(l.a)(S,2),D=T[0],P=T[1],L=Object(a.useState)({}),E=Object(l.a)(L,2),M=E[0],A=E[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/"+Q()+"/points");case 2:return t=e.sent,P(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/ranking-category/points/"+D);case 2:return t=e.sent,A(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[D]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine/".concat(k));case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pharmacy/medicine/".concat(k));case 2:return t=e.sent,o(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}-1==w&&function(){e.apply(this,arguments)}()}),[k,w]),Object(I.jsx)("div",{className:"medicine__profile__container",children:Object(I.jsxs)("div",{className:"medicine__content",children:[Object(I.jsx)("p",{className:"my__medicine__header",children:n.name}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Code: "}),n.code]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Content:"})," ",n.content]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Side effects:"})," ",n.sideEffects]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Daily intake: "}),n.dailyIntake]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Recipe:"})," ","REQUIRED"===n.recipeRequired?"Required":"Not required"]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Additional notes: "}),n.additionalNotes]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Average grade: "})," ",n.avgGrade]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Points: "}),n.points]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Type: "}),n.medicineType]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Form: "}),n.medicineForm]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Manufacturer: "}),n.manufacturer]}),Object(I.jsxs)("div",{style:{display:"PATIENT"===Z()?"block":"none"},children:[Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",style:{display:0!==i.length||-1==w?"table":"none"},className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Address"}),Object(I.jsx)("th",{children:"Price"})]})}),Object(I.jsx)("tbody",{children:i&&i.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return function(e){g(e)}(e)},className:v.id===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.address}),Object(I.jsx)("td",{children:e.price})]},e.id)}))})]}),Object(I.jsxs)("p",{className:"my__medicine__paragraph",children:[Object(I.jsx)("span",{className:"my__start_paragraph",children:"Pickup deadline: "}),Object(I.jsx)(Ht.a,{closeOnScroll:!0,selected:u,dateFormat:"dd/MM/yyyy",onChange:function(e){return h(e)},isClearable:!0})]}),Object(I.jsxs)("p",{style:{textAlign:"center",display:""==M?"none":"block"},children:["You have a discount of ",M.discount,"%"]}),Object(I.jsxs)("p",{style:{textAlign:"center",fontSize:"1.3rem",display:-1==w&&0!=Object.keys(v).length?"block":"none"},children:["Total price:"," ",Object(I.jsx)("span",{style:{textDecoration:"line-through"},children:v.price}),"   ->   ",v.price*(100-M.discount)/100]}),Object(I.jsxs)("p",{style:{textAlign:"center",fontSize:"1.3rem",display:-1!=w?"block":"none"},children:["Total price:"," ",Object(I.jsx)("span",{style:{textDecoration:"line-through"},children:N}),"   ->   ",N*(100-M.discount)/100]}),Object(I.jsx)(b.a,{variant:"info",onClick:function(){if(u&&u<new Date)_("Choose date from the future!",{appearance:"warning"});else{var e={pickupDate:u.getTime(),medicineId:k,pharmacyId:-1==w?v.id:w,userId:Q(),price:-1==N?v.price:N};y.post("/api/medicine-reservation/",e).then((function(e){_(e.data,{appearance:"success"})})).catch((function(e){_(e.response.data,{appearance:"error"})})),g({}),h(null)}},disabled:null==u||0===Object.keys(v).length&&-1==w,style:{marginBottom:"25px"},children:"Reserve"})]})]})})};var Gt=function(e){return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:e.title})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsx)("p",{class:"text-danger",children:e.bodyText?e.bodyText:"Delete this item?"})}),Object(I.jsxs)(V.a.Footer,{children:[Object(I.jsx)(b.a,{variant:"danger",onClick:e.onDelete,children:"Confirm"}),Object(I.jsx)(b.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"})]})]}))},Yt=n(620),Bt=n(341),Ft=n(174),qt=n(343),Vt=n(205),Kt=n(339),zt=function(e){var t=e.onChange,n=e.defAddress,c=Object(a.useState)({}),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)({}),d=Object(l.a)(o,2),u=d[0],b=d[1],h=Object(a.useState)(),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(a.useState)([20.4820788,44.7901252]),f=Object(l.a)(x,2),v=f[0],y=f[1],g=Object(a.useState)(),_=Object(l.a)(g,2),C=_[0],k=_[1];Object(a.useEffect)((function(){n&&(i(n),y([n.location.longitude,n.location.latitude]));var e=new Yt.a({type:"icon",geometry:new Vt.a(Object(se.d)(v))});m(e)}),[]),Object(a.useEffect)((function(){p&&!C&&w()}),[p]);var w=function(){var e=new Ft.b({image:new qt.a({anchor:[.5,1],src:"http://cdn.mapmarker.io/api/v1/pin?text=P&size=30&hoffset=1"})});p.setStyle(e);var t=new Bt.a({features:[p]}),n=new Kt.a({source:t}),a=new ne.a({target:document.getElementById("pharmacyMap"),layers:[new ce.a({source:new ae.a}),n],view:new re.a({center:Object(se.d)(v),zoom:16,min:4,max:20})});a.on("singleclick",(function(e){var t=e.coordinate,n=Object(se.o)(t,"EPSG:3857","EPSG:4326");p.getGeometry().setCoordinates(n);var a="https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+n[1]+"&lon="+n[0];y(n),N(a)})),k(a)},N=function(e){j.a.get(e).then((function(e){var t=e.data;S(t)}))},S=function(e){var n=e.address,a={longitude:e?e.lon:"",latitude:e?e.lat:""},c={city:n?n.city:"",street:n?"".concat(n.road," ").concat(n.house_number):"",country:n?n.country:"",location:a};t(c),b(a),i(c)};return Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsx)("div",{className:"row h-100 w-100 mt-4",children:Object(I.jsx)("div",{className:"col-lg-12",style:{height:"300px",width:"500px"},children:Object(I.jsx)("div",{className:"h-100 w-100",id:"pharmacyMap"})})}),Object(I.jsxs)("div",{className:"row w-100 mt-4",children:[Object(I.jsxs)("div",{className:"col-lg-6",children:[Object(I.jsx)("label",{for:"longPharmacy",children:"Longitude"}),Object(I.jsx)("input",{className:"form-control",id:"longPharmacy",value:u.longitude,defaultValue:n?n.location.longitude:"",disabled:!0})]}),Object(I.jsxs)("div",{className:"col-lg-6",children:[Object(I.jsx)("label",{for:"latPharmacy",children:"Latitude"}),Object(I.jsx)("input",{className:"form-control",id:"latPharmacy",value:u.latitude,defaultValue:n?n.location.latitude:"",disabled:!0})]})]}),Object(I.jsxs)("div",{className:"row w-100 mt-4",children:[Object(I.jsxs)("div",{className:"col-lg-4",children:[Object(I.jsx)("label",{for:"streetPharmacy",children:"Street"}),Object(I.jsx)("input",{className:"form-control",id:"streetPharmacy",value:s.street,defaultValue:n?n.street:"",disabled:!0})]}),Object(I.jsxs)("div",{className:"col-lg-4",children:[Object(I.jsx)("label",{for:"cityPharmacy",children:"City"}),Object(I.jsx)("input",{className:"form-control",id:"cityPharmacy",value:s.city,defaultValue:n?n.city:"",disabled:!0})]}),Object(I.jsxs)("div",{className:"col-lg-4",children:[Object(I.jsx)("label",{for:"countryPharmacy",children:"Country"}),Object(I.jsx)("input",{className:"form-control",id:"countryPharmacy",value:s.country,defaultValue:n?n.country:"",disabled:!0})]})]})]})};var Ut=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),d=Object(l.a)(s,2),h=d[0],O=d[1],p=Object(a.useState)({}),m=Object(l.a)(p,2),x=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),g=y[0],_=y[1],C=Object(a.useState)(!1),k=Object(l.a)(C,2),w=k[0],N=k[1],S=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},e,t))),h[e]&&O(Object(o.a)(Object(o.a)({},h),{},Object(i.a)({},e,null)))},T=function(){var t=D();j.a.post("/api/pharmacy/",t).then((function(){r({}),e.onSuccess(),e.onHide(),N(!0)})).catch((function(){_(!0)}))},D=function(){var e={};return e.name=c.name,e.description=c.description,e.address=x,e};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add new pharmacy"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Name"}),Object(I.jsx)(u.a.Control,{type:"text",placeholder:"Name",isInvalid:!!h.name,onChange:function(e){return S("name",e.target.value)}}),Object(I.jsx)(u.a.Control.Feedback,{type:"invalid",children:h.name})]}),Object(I.jsxs)(u.a.Group,{controlId:"pharmacyDescription",children:[Object(I.jsx)(u.a.Label,{children:"Description"}),Object(I.jsx)(u.a.Control,{type:"text",placeholder:"Description",isInvalid:!!h.description,onChange:function(e){return S("description",e.target.value)}}),Object(I.jsx)(u.a.Control.Feedback,{type:"invalid",children:h.description})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Points for appointment"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return S("pointsForAppointment",e.target.value)},defaultValue:0,min:0,max:100,step:.01})]}),Object(I.jsx)(zt,{onChange:function(e){return f(e)}}),Object(I.jsx)(b.a,{variant:"primary",onClick:function(e){e.preventDefault();var t=function(){var e=c.name,t=c.description,n=x.city,a=x.street,r=x.country,s={};return e&&""!==e?e.length>40&&(s.name="Name is too long!"):s.name="Name cannot be blank!",t&&""!==t?t.length>60&&(s.description="Description is too long!"):s.description="Description cannot be blank!",n&&""!==n?n.length>40&&(s.city="City name is too long!"):s.city="City cannot be blank!",a&&""!==a?a.length>60&&(s.street="Street name is too long!"):s.street="Street cannot be blank!",r&&""!==r?r.length>40&&(s.country="Country name is too long!"):s.country="Country cannot be blank!",s}();Object.keys(t).length>0?O(t):T()},children:"Submit"})]})}),Object(I.jsx)(V.a.Footer,{}),Object(I.jsx)(z,{show:g,onHide:function(){return _(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:w,onHide:function(){return N(!1)},message:"Pharmacy added successfully.",children:" "})]}))};var Wt=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),d=Object(l.a)(s,2),h=d[0],O=d[1],p=Object(a.useState)({}),m=Object(l.a)(p,2),x=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),g=y[0],_=y[1],C=Object(a.useState)(!1),k=Object(l.a)(C,2),w=k[0],N=k[1],S=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},e,t))),h[e]&&O(Object(o.a)(Object(o.a)({},h),{},Object(i.a)({},e,null)))},T=function(){var e=c.name,t=c.description,n=(c.location,x.city),a=x.street,r=x.country,s={};return e&&""!==e?e.length>40&&(s.name="Name is too long!"):s.name="Name cannot be blank!",t&&""!==t?t.length>180&&(s.description="Description is too long!"):s.description="Description cannot be blank!",n&&""!==n?n.length>40&&(s.city="City name is too long!"):s.city="City cannot be blank!",a&&""!==a?a.length>60&&(s.street="Street name is too long!"):s.street="Street cannot be blank!",r&&""!==r?r.length>40&&(s.country="Country name is too long!"):s.country="Country cannot be blank!",s},D=function(){var t=P();console.log(t),j.a.put("/api/pharmacy/"+e.pharmacy.id,t).then((function(){r({}),N(!0),e.onSuccess(),e.onHide()})).catch((function(){_(!0)}))},P=function(){var t={};return t.id=e.pharmacy.id,t.name=c.name,t.description=c.description,t.pointsForAppointment=c.pointsForAppointment,t.address=x,t};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){var t={name:e.pharmacy.name,description:e.pharmacy.description};f(e.pharmacy.address),r(t),T()},children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Edit pharmacy"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Name"}),Object(I.jsx)(u.a.Control,{type:"text",defaultValue:e.pharmacy.name,isInvalid:!!h.name,onChange:function(e){return S("name",e.target.value)}}),Object(I.jsx)(u.a.Control.Feedback,{type:"invalid",children:h.name})]}),Object(I.jsxs)(u.a.Group,{controlId:"pharmacyDescription",children:[Object(I.jsx)(u.a.Label,{children:"Description"}),Object(I.jsx)(u.a.Control,{type:"text",defaultValue:e.pharmacy.description,isInvalid:!!h.description,onChange:function(e){return S("description",e.target.value)}}),Object(I.jsx)(u.a.Control.Feedback,{type:"invalid",children:h.description})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Points for appointment"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return S("pointsForAppointment",e.target.value)},defaultValue:e.pharmacy.pointsForAppointment,min:0,max:100,step:.01})]}),Object(I.jsx)(zt,{onChange:function(e){return f(e)},defAddress:e.pharmacy.address}),Object(I.jsx)(b.a,{variant:"primary",onClick:function(e){e.preventDefault();var t=T();Object.keys(t).length>0?O(t):D()},children:"Submit"})]})}),Object(I.jsx)(V.a.Footer,{}),Object(I.jsx)(z,{show:g,onHide:function(){return _(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:w,onHide:function(){return N(!1)},message:"Pharmacy updated successfully.",children:" "})]}))};var Jt=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),i=Object(l.a)(s,2),o=i[0],d=i[1],u=Object(a.useState)([]),h=Object(l.a)(u,2),O=h[0],p=h[1],f=Object(a.useState)(!1),v=Object(l.a)(f,2),y=v[0],g=v[1],_=Object(a.useState)(!1),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(a.useState)(!1),S=Object(l.a)(N,2),T=S[0],D=S[1],P=Object(a.useState)(!1),L=Object(l.a)(P,2),E=L[0],M=L[1],A=Object(a.useState)(!1),H=Object(l.a)(A,2),R=H[0],G=H[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/pharmacy/crud");case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var Y=function(){r(!c)};return Object(I.jsxs)(xe.a,{style:{marginTop:"10px"},children:[Object(I.jsx)(X.a,{className:"justify-content-md-between",children:Object(I.jsx)(b.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return g(!0)},children:"Add new pharmacy"})}),Object(I.jsxs)(he.a,{striped:!0,bordered:!0,hover:!0,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Descriptioin"}),Object(I.jsx)("th",{children:"Actions"})]})}),Object(I.jsx)("tbody",{children:O.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){d(e)},children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.description}),Object(I.jsxs)("td",{children:[Object(I.jsx)(b.a,{onClick:function(){return w(!0)},children:"Edit"}),Object(I.jsx)(b.a,{variant:"danger",onClick:function(){return D(!0)},children:"Delete"})]})]},e.id)}))})]}),Object(I.jsx)(Ut,{show:y,onHide:function(){return g(!1)},onSuccess:Y}),Object(I.jsx)(Wt,{show:k,pharmacy:o,onHide:function(){return w(!1)},onSuccess:Y}),Object(I.jsx)(Gt,{title:"Remove "+o.name,show:T,onHide:function(){return D(!1)},onDelete:function(){j.a.delete("/api/pharmacy/"+o.id).then((function(){Y(),D(!1),G(!0)})).catch((function(){M(!0)}))}}),Object(I.jsx)(z,{show:E,onHide:function(){return M(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:R,onHide:function(){return G(!1)},message:"Pharmacy deleted successfully."})]})},Qt=function(e){return Object(I.jsx)("div",{children:"Pharmacy search panel"})},Zt=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)(Qt,{}),Object(I.jsx)(Jt,{children:" "})]})};var $t=function(){return Object(I.jsx)("div",{children:"Medicine search panel"})},Xt=function(e){var t=e.medicine,n=e.onClick,a=e.editClick,c=(e.detailsClick,e.deleteClick);return Object(I.jsxs)("tr",{onClick:n,children:[Object(I.jsx)("td",{children:t.name}),Object(I.jsx)("td",{children:t.code}),Object(I.jsx)("td",{children:t.content}),Object(I.jsxs)("td",{children:[Object(I.jsx)(b.a,{onClick:a,children:"Edit"}),Object(I.jsxs)(b.a,{variant:"info",onClick:function(){return window.open("/api/medicine/".concat(t.id,"/get-pdf"),"_blank")},children:[" ","Details"]}),Object(I.jsx)(b.a,{variant:"danger",onClick:c,children:"Delete"})]})]},t.id)};var en=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Medicine Name",placeholder:"Enter medicine name...",minLength:1,maxLength:30,onChange:function(t){e.onChange(t)},required:!0}))};var tn=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Medicine Code",placeholder:"Enter medicine code...",minLength:1,maxLength:30,onChange:function(t){e.onChange(t)},required:!0}))};var nn=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Medicine Content",placeholder:"Enter medicine content...",minLength:1,maxLength:100,onChange:function(t){e.onChange(t)},required:!0}))};var an=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Side effects",placeholder:"Enter side effects...",minLength:1,maxLength:50,onChange:function(t){e.onChange(t)},required:!0}))};var cn=function(e){return Object(I.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{name:"Additional notes",placeholder:"Additional notes...",minLength:1,maxLength:150,onChange:function(t){e.onChange(t)},required:!0}))};var rn=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),h=d[0],O=d[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),x=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),g=y[0],_=y[1],C=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},e,t)))},k=function(){j.a.post("/api/medicine/",c).then((function(){r({}),e.onSuccess(),e.onHide(),_(!0)})).catch((function(){f(!0)}))};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add new medicine"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{noValidate:!0,validated:h,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(O(!0),k())},children:[Object(I.jsx)(en,{onChange:function(e){return C("name",e.target.value)}}),Object(I.jsx)(tn,{onChange:function(e){return C("code",e.target.value)}}),Object(I.jsx)(nn,{onChange:function(e){return C("content",e.target.value)}}),Object(I.jsx)(an,{onChange:function(e){return C("sideEffects",e.target.value)}}),Object(I.jsxs)(u.a.Group,{controlId:"userTypeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Recipe Required"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return C("recipeRequired",e.target.value)},children:[Object(I.jsx)("option",{value:"REQUIRED",children:"Required"}),Object(I.jsx)("option",{value:"NOTREQUIRED",children:"Not required"})]})]}),Object(I.jsxs)(u.a.Group,{controlId:"userTypeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Daily Intake"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return C("dailyIntake",e.target.value)},step:"0.1",min:"0",max:"10"})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Points"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return C("points",e.target.value)},defaultValue:0,min:0,max:100,step:.01})]}),Object(I.jsx)(cn,{onChange:function(e){return C("additionalNotes",e.target.value)}}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(I.jsx)(V.a.Footer,{}),Object(I.jsx)(z,{show:x,onHide:function(){return f(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:g,onHide:function(){return _(!1)},message:"Medicine added successfully.",children:" "})]}))};var sn=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),h=d[0],O=d[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),x=m[0],f=m[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),g=y[0],_=y[1],C=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},e,t)))},k=function(){j.a.put("/api/medicine/"+e.medicine.id,c).then((function(){r({}),e.onSuccess(),e.onHide(),_(!0)})).catch((function(){f(!0)}))};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsxs)(V.a.Title,{id:"contained-modal-title-vcenter",children:["Edit ",e.medicine.name]})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{noValidate:!0,validated:h,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(O(!0),k())},children:[Object(I.jsx)(en,{onChange:function(e){return C("name",e.target.value)},defaultValue:e.medicine.code?e.medicine.code:""}),Object(I.jsx)(tn,{onChange:function(e){return C("code",e.target.value)},defaultValue:e.medicine.name?e.medicine.name:""}),Object(I.jsx)(nn,{onChange:function(e){return C("content",e.target.value)},defaultValue:e.medicine.content?e.medicine.content:""}),Object(I.jsx)(an,{onChange:function(e){return C("sideEffects",e.target.value)},defaultValue:e.medicine.sideEffects?e.medicine.sideEffects:""}),Object(I.jsxs)(u.a.Group,{controlId:"userTypeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Recipe Required"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){return C("recipeRequired",e.target.value)},defaultValue:e.medicine.recipeRequired,children:[Object(I.jsx)("option",{value:"REQUIRED",children:"Required"}),Object(I.jsx)("option",{value:"NOTREQUIRED",children:"Not required"})]})]}),Object(I.jsxs)(u.a.Group,{controlId:"userTypeSelect",children:[Object(I.jsx)(u.a.Label,{children:"Daily Intake"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return C("dailyIntake",e.target.value)},step:"0.1",min:"0",max:"10",defaultValue:e.medicine.dailyIntake})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Points"}),Object(I.jsx)(u.a.Control,Object(i.a)({type:"number",onChange:function(e){return C("points",e.target.value)},defaultValue:e.medicine.points,min:0,max:100,step:.01},"defaultValue",e.medicine.dailyIntake))]}),Object(I.jsx)(cn,{onChange:function(e){return C("additionalNotes",e.target.value)},defaultValue:e.medicine.additionalNotes}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(I.jsx)(V.a.Footer,{}),Object(I.jsx)(z,{show:x,onHide:function(){return f(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:g,onHide:function(){return _(!1)},message:"Medicine updated successfully.",children:" "})]}))};var on=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),u=j[0],h=j[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(!1),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(!1),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(a.useState)(!1),A=Object(l.a)(M,2),H=A[0],R=A[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine/crud");case 2:t=e.sent,h(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var G=function(){c(!n)};return Object(I.jsxs)(xe.a,{style:{marginTop:"10px"},className:"justify-content-center",children:[Object(I.jsx)(X.a,{className:"justify-content-md-between",children:Object(I.jsx)(b.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return v(!0)},children:"Add new medicine"})}),Object(I.jsxs)(he.a,{striped:!0,bordered:!0,hover:!0,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Ingredients"}),Object(I.jsx)("th",{children:"Actions"})]})}),Object(I.jsx)("tbody",{children:u.map((function(e){return Object(I.jsx)(Xt,{medicine:e,onClick:function(){o(e)},editClick:function(){return k(!0)},deleteClick:function(){return T(!0)}},e.id)}))})]}),Object(I.jsx)(rn,{show:f,onHide:function(){return v(!1)},onSuccess:G}),Object(I.jsx)(Gt,{title:"Remove "+i.name,show:S,onHide:function(){return T(!1)},onDelete:function(){y.delete("/api/medicine/"+i.id).then((function(){G(),T(!1),R(!0)})).catch((function(){E(!0)}))}}),Object(I.jsx)(sn,{show:C,medicine:i,onHide:function(){return k(!1)},onSuccess:G}),Object(I.jsx)(z,{show:L,onHide:function(){return E(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:H,onHide:function(){return R(!1)},message:"Medicine deleted successfully."})]})},ln=function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)($t,{children:" "}),Object(I.jsx)(on,{children:" "})]})},dn=n(621),jn=n(337),un=n.n(jn);var bn=function(e){var t=Object(O.g)(),n=Object(ie.useToasts)().addToast,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],d=function(t){if(me()(Date.now())>me()(t.start).add(5,"minutes")){var a=new FormData;a.append("id",t.id),y.post("/api/appointment/cancel_appointment",a).then((function(){n("Appointment cancelled! Patient didn't show up!",{appearance:"info"}),function(){var t=new FormData;t.append("patient",null===e||void 0===e?void 0:e.info.patient),t.append("worker",null===e||void 0===e?void 0:e.info.worker),j.a.post("/api/appointment/byPatWorker",t).then((function(e){return i(e.data)})).catch((function(){return i([])}))}()})).catch((function(){return n("You can't cancel this appointment yet!",{appearance:"error"})}))}else n("You can't cancel this appointment yet!",{appearance:"error"})};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){function t(){return(t=Object(x.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("patient",null===e||void 0===e?void 0:e.info.patient),n.append("worker",null===e||void 0===e?void 0:e.info.worker),a=j.a.post("/api/appointment/byPatWorker",n).then((function(e){return i(e.data)})).catch((function(){return i([])})),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onHide:function(){e.onCloseModal(),i([])},children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsxs)(V.a.Title,{id:"contained-modal-title-vcenter",children:["Your upcomming appointments for ",e.info.patientName]})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(xe.a,{children:[0===s.length&&Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)("h3",{children:"No result!"})}),s.map((function(e,a){return Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsx)(ee.a,{children:Object(I.jsxs)(de.a,{fluid:!0,children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:["Date:"," ",Object(I.jsx)(un.a,{format:"DD/MM/yyyy HH:mm",children:e.start})]}),Object(I.jsx)(de.a.Text,{children:"DERMATOLOGIST"===Z().trim()&&Object(I.jsxs)("div",{children:["Pharmacy: ",e.pharmacy," "]})})]}),Object(I.jsx)(de.a.Footer,{children:Object(I.jsxs)(dn.a,{children:[Object(I.jsx)(b.a,{onClick:function(){return function(e){if(me()(Date.now())>me()(e.start).subtract(15,"minutes")){var a=new FormData;a.append("id",e.id),y.post("/api/appointment/start_appointment",a).then((function(){t.push({pathname:"/worker/appointment_report",state:{appointmentID:e.id}})})).catch((function(){return n("You can't start this appointment yet!",{appearance:"error"})}))}else n("You can't start this appointment yet!",{appearance:"error"})}(e)},children:"Start appointment"}),Object(I.jsx)(b.a,{onClick:function(){return d(e)},children:"Patient didn't show up"})]})})]})})},a)}))]})}),Object(I.jsx)(V.a.Footer,{})]}))};var hn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)({}),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(a.useState)(!1),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(a.useState)("Loading..."),S=Object(l.a)(N,2),T=S[0],D=S[1],P=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/all").then((function(e){return c(e.data)})).catch((function(){return c([])}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5 pb-3 pl-3 pr-3 align-items-center",children:Object(I.jsx)("h4",{className:"my_content_header",children:"Search for registered patients"})}),Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsx)(u.a,{onSubmit:function(e){e.preventDefault(),D("Loading..."),0===i.length&&0===h.length?y.get("/api/patients/all").then((function(e){c(e.data),0===e.data.length&&D("No result!")})).catch((function(){c([]),D("No result!")})):y.get("/api/patients/search",{params:{firstName:i,lastName:h}}).then((function(e){c(e.data),0===e.data.length&&D("No result!")})).catch((function(){c([]),D("No result!")}))},children:Object(I.jsxs)(u.a.Group,{as:X.a,className:"align-items-center search_field",children:[Object(I.jsx)(u.a.Label,{children:" First name: "}),Object(I.jsx)(ee.a,{children:Object(I.jsx)(u.a.Control,{type:"text",name:"firstName",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Enter first name..."})}),Object(I.jsx)(u.a.Label,{children:" Last name: "}),Object(I.jsx)(ee.a,{children:Object(I.jsx)(u.a.Control,{type:"text",name:"lastName",value:h,onChange:function(e){return O(e.target.value)},placeholder:"Enter last name..."})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(dn.a,{size:"sm",children:[Object(I.jsxs)(b.a,{type:"submit",variant:"primary",children:[" ","Search"," "]}),Object(I.jsxs)(b.a,{variant:"primary",onClick:function(){D("Loading..."),y.get("/api/patients/all").then((function(e){c(e.data),0===e.data.length&&D("No result!")})).catch((function(){return c([])})),o(""),O("")},children:[" ","Reset search"," "]})]})})]})})}),Object(I.jsx)(X.a,{className:"justify-content-center mt-3 ml-3 mr-3 pb-3",children:Object(I.jsxs)(ee.a,{md:6,children:[0===n.length&&Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)("h3",{children:T})}),n.map((function(e,t){return console.log(e),Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsx)(ee.a,{children:Object(I.jsx)(de.a,{fluid:!0,className:"card_appt_home",children:Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:[e.firstName+" "+e.lastName," "]}),Object(I.jsx)(de.a.Footer,{className:"justify-content-right",children:Object(I.jsx)(X.a,{className:"justify-content-center align-items-center",children:Object(I.jsxs)(b.a,{variant:"secondary",onClick:function(){return function(e){var t=Q();if(!t)return P("Token error!",{appearance:"error"}),void c([]);g({patient:null===e||void 0===e?void 0:e.email,worker:t,patientName:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.lastName)}),w(!0)}(e)},children:["Upcomming appointments with"," ",e.firstName+" "+e.lastName]})})})]})})})},t)}))]})}),Object(I.jsx)(bn,{show:k,info:v,onCloseModal:function(){w(!1),g({})}})]})};n(324);var On=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)({}),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(a.useState)(!1),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(a.useState)(null),S=Object(l.a)(N,2),T=S[0],D=S[1],P=Object(a.useState)(null),L=Object(l.a)(P,2),E=L[0],M=L[1],A=Object(a.useState)("none"),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)("none"),B=Object(l.a)(Y,2),F=B[0],q=B[1],V=Object(a.useState)("none"),K=Object(l.a)(V,2),z=K[0],U=K[1],W=Object(a.useState)("asc"),J=Object(l.a)(W,2),$=J[0],te=J[1],ne=Object(a.useState)("asc"),ae=Object(l.a)(ne,2),ce=ae[0],re=ae[1],se=Object(a.useState)("asc"),oe=Object(l.a)(se,2),le=oe[0],je=oe[1],ue=Object(a.useState)("PHARMACIST"),be=Object(l.a)(ue,2),he=be[0],Oe=be[1],pe=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Q()){e.next=5;break}return pe("Token error!",{appearance:"error"}),c([]),e.abrupt("return");case 5:if("DERMATOLOGIST"===(n=Z().trim())||"PHARMACIST"===n){e.next=9;break}return pe("Invalid user type!",{appearance:"error"}),e.abrupt("return");case 9:return Oe(n),e.next=12,y.get("/api/patients/getAllExaminedPatients?workerID="+t).then((function(e){return c(e.data)})).catch(c([]));case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsx)(X.a,{className:"pt-5 justify-content-center",children:Object(I.jsx)("h4",{className:"my_content_header",children:"Search examined patients"})}),Object(I.jsx)(X.a,{className:"justify-content-center align-items-center",children:Object(I.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t=Q();if(!t)return pe("Token error!",{appearance:"error"}),void c([]);var n=new URLSearchParams;if(0!=i.length&&n.append("firstName",i),0!=h.length&&n.append("firstName",h),T&&n.append("lowerTime",Math.floor(T.getTime())),E){if(T&&T.getTime()>=E.getTime())return void pe("Invalid date params!",{appearance:"error"});n.append("upperTime",Math.floor(E.getTime()))}("none"===R||R!==F&&R!==z)&&("none"===F||F!==R&&F!=z)?(console.log(R+" "+$),"none"!==R&&n.append("sort",R+","+$),"none"!==F&&n.append("sort",F+","+ce),"none"!==z&&n.append("sort",z+","+le),n.append("workerID",t),y.get("/api/patients/getExaminedPatients",{params:n}).then((function(e){return c(e.data)})).catch(c([]))):pe("Invalid sort params!",{appearance:"error"})},className:"search_field",children:[Object(I.jsxs)(u.a.Group,{as:X.a,className:"justify-content-center mt-3 pl-3 pr-3 mb-3 align-items-center",children:[Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(u.a.Label,{children:"First name:"}),Object(I.jsx)(u.a.Control,{type:"text",name:"firstName",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Enter first name..."})]}),Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(u.a.Label,{children:"Last name:"}),Object(I.jsx)(u.a.Control,{type:"text",name:"lastName",value:h,onChange:function(e){return O(e.target.value)},placeholder:"Enter last name..."})]}),Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(u.a.Label,{children:"Date from:"}),Object(I.jsx)(u.a.Control,{as:Ht.a,closeOnScroll:!0,selected:T,dateFormat:"dd/MM/yyyy",onChange:function(e){return D(e)},isClearable:!0})]}),Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(u.a.Label,{children:"Date to:"}),Object(I.jsx)(u.a.Control,{as:Ht.a,closeOnScroll:!0,selected:E,dateFormat:"dd/MM/yyyy",onChange:function(e){return M(e)},isClearable:!0})]})]}),Object(I.jsxs)(u.a.Group,{as:X.a,className:"justify-content-center mt-3 pl-3 pr-3 mb-3",children:[Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Sort by:"})}),Object(I.jsxs)(u.a.Control,{as:"select",value:R,onChange:function(e){return G(e.target.value)},name:"sort1",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"firstName",children:"first name"}),Object(I.jsx)("option",{value:"lastName",children:"last name"}),Object(I.jsx)("option",{value:"startTime",children:"date"})]}),Object(I.jsxs)(u.a.Control,{as:"select",value:$,onChange:function(e){return te(e.target.value)},name:"sortWay1",selected:"asc",children:[Object(I.jsx)("option",{value:"asc",children:"ascending"}),Object(I.jsx)("option",{value:"desc",children:"descending"})]})]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"then by:"})}),Object(I.jsxs)(u.a.Control,{as:"select",value:F,onChange:function(e){return q(e.target.value)},name:"sort1",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"firstName",children:"first name"}),Object(I.jsx)("option",{value:"lastName",children:"last name"}),Object(I.jsx)("option",{value:"startTime",children:"date"})]}),Object(I.jsxs)(u.a.Control,{as:"select",value:ce,onChange:function(e){return re(e.target.value)},name:"sortWay2",selected:"asc",children:[Object(I.jsx)("option",{value:"asc",children:"ascending"}),Object(I.jsx)("option",{value:"desc",children:"descending"})]})]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"then by:"})}),Object(I.jsxs)(u.a.Control,{as:"select",value:z,onChange:function(e){return U(e.target.value)},name:"sort1",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"firstName",children:"first name"}),Object(I.jsx)("option",{value:"lastName",children:"last name"}),Object(I.jsx)("option",{value:"startTime",children:"date"})]}),Object(I.jsxs)(u.a.Control,{as:"select",value:le,onChange:function(e){return je(e.target.value)},name:"sortWay2",selected:"asc",children:[Object(I.jsx)("option",{value:"asc",children:"ascending"}),Object(I.jsx)("option",{value:"desc",children:"descending"})]})]})})]}),Object(I.jsx)(u.a.Group,{as:X.a,className:"justify-content-center mt-3 pl-3 pr-3 mb-3",children:Object(I.jsx)(ee.a,{md:"auto",children:Object(I.jsxs)(dn.a,{children:[Object(I.jsxs)(b.a,{type:"submit",variant:"primary",children:[" ","Search"," "]}),Object(I.jsxs)(b.a,{variant:"primary",onClick:function(){var e=Q();if(!e)return pe("Token error!",{appearance:"error"}),void c([]);y.get("/api/patients/getAllExaminedPatients?workerID="+e).then((function(e){return c(e.data)})).catch((function(){return c([])})),o(""),O(""),D(null),M(null),G("none"),te("asc"),q("none"),re("asc"),U("none"),je("asc")},children:[" ","Reset search"," "]})]})})})]})}),Object(I.jsx)(X.a,{className:"justify-content-center mt-3 ml-3 mr-3 pb-3",children:Object(I.jsxs)(ee.a,{md:8,children:[0===n.length&&Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)("h3",{children:"No result!"})}),n.map((function(e,t){return Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsx)(ee.a,{children:Object(I.jsx)(de.a,{fluid:!0,className:"card_appt_home",children:Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:[e.firstName+" "+e.lastName," "]}),Object(I.jsxs)(de.a.Text,{children:["Last appointment: "+me()(e.appointmentStart).format("DD MMM YYYY hh:mm a")," "]}),"DERMATOLOGIST"===he&&Object(I.jsxs)(de.a.Text,{children:["At pharmacy: ",e.pharmacy," "]})]})})})},t)}))]})}),Object(I.jsx)(bn,{show:k,info:v,onHide:function(){w(!1),g({})}})]})},pn=n(625),mn=n(622),xn=function(e){e.userChanged;var t=Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsx)(pn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsxs)(pn.a.Collapse,{id:"basic-navbar-nav",children:[Object(I.jsxs)(te.a,{className:"mr-auto",children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/admin/users",children:"Users"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/admin/pharmacies",children:"Pharmacies"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/admin/medicine",children:"Medicine"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/admin/complaint-responses",children:"Complaints"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/admin/loyalty",children:"Loyalty Program"})]}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/profile",children:"Profile"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/",onClick:function(){t(S())},children:"Log out"})]})]})]})},fn=function(){Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar justify-content-between",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsxs)(te.a,{className:"justify-content-end",children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/registration",children:"Register"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/login",children:"Log In"})]})]})},vn=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/"+Q()+"/penalties");case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),{});var r=Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsx)(pn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsxs)(pn.a.Collapse,{id:"basic-navbar-nav",children:[Object(I.jsxs)(te.a,{className:"mr-auto",children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/reserve-consultation/pharmacies",children:"Reserve consultation"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/consultations-insight",children:"Consultations"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/checkups-insight",children:"Checkups"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/user/complaints",children:"Complaints"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/subscribed-pharmacies",children:"Subscribed pharmacies"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/reserved-medicines",children:"Reserved medicines"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/rating",children:"Rating"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{display:3===n?"none":"block",color:"white"},to:"/e-prescription",children:"E-Prescription"})]}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/profile",children:"Profile"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/",onClick:function(){r(S())},children:"Log out"})]})]})]})},yn=function(){var e=Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar justify-content-between",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/infoProfile",children:"Profile"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/",onClick:function(){e(S())},children:"Log out"})]})]})},gn=function(){var e=Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsx)(pn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsxs)(pn.a.Collapse,{id:"basic-navbar-nav",children:[Object(I.jsx)(te.a,{className:"mr-auto"}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/infoProfile",children:"Profile"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/",onClick:function(){e(S())},children:"Log out"})]})]})]})},_n=function(){var e=Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsx)(pn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsxs)(pn.a.Collapse,{id:"basic-navbar-nav",children:[Object(I.jsxs)(te.a,{className:"mr-auto",children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/search-patients",children:"Search patients"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/calendar",children:"Work Calendar"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/examined",children:"Examined patients"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/vacation",children:"Vacation"})]}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/dermatologist_profile",children:"Profile"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/",onClick:function(){e(S())},children:"Log out"})]})]})]})},Cn=function(){var e=Object(h.b)();return Object(I.jsxs)(pn.a,{className:"my__navbar",sticky:"top",expand:"lg",children:[Object(I.jsxs)(pn.a.Brand,{as:Ke.b,style:{color:"white"},className:"my__navbar__house",to:"/",children:[Object(I.jsx)(mn.a,{}),"Home"]}),Object(I.jsx)(pn.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsxs)(pn.a.Collapse,{id:"basic-navbar-nav",children:[Object(I.jsxs)(te.a,{className:"mr-auto",children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/search-patients",children:"Search patients"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/issue_medicine",children:"Issue medicine"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/calendar",children:"Work Calendar"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/examined",children:"Examined patients"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/vacation",children:"Vacation"})]}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/worker/pharmacist_profile",children:"Profile"}),Object(I.jsx)(te.a.Link,{as:Ke.b,style:{color:"white"},to:"/",onClick:function(){e(S())},children:"Log out"})]})]})]})},kn=function(){var e,t=Object(h.c)((function(e){return e.user})),n=Z();switch(Object(a.useEffect)((function(){n=Z()}),[t]),n){case"ADMIN":e=Object(I.jsx)(xn,{});break;case"PHARMACIST":e=Object(I.jsx)(Cn,{});break;case"DERMATOLOGIST":e=Object(I.jsx)(_n,{});break;case"SUPPLIER":e=Object(I.jsx)(yn,{});break;case"PATIENT":e=Object(I.jsx)(vn,{});break;case"PHARMACY_ADMIN":e=Object(I.jsx)(gn,{});break;default:e=Object(I.jsx)(fn,{})}return Object(I.jsx)("div",{children:e})},wn=n(342),Nn=n(228),Sn=n(344),Tn=n(340);var In=function(e){var t=Object(ie.useToasts)().addToast,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],s=c[1];return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){e.appointment.id&&y.get("/api/appointment/get_info/"+e.appointment.id).then((function(e){s(e.data)})).catch((function(){return t("Error while fetching appointment info!",{appearance:"error"})}))},onHide:function(){s(null),e.onHideFun()},children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Appointment information"})}),r&&Object(I.jsx)(V.a.Body,{children:Object(I.jsx)(xe.a,{children:Object(I.jsxs)(ee.a,{style:{backgroundColor:"#83CEC2"},className:"p-2",children:[Object(I.jsxs)(X.a,{className:"m-2",children:["-Patient: ",r.patient]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Pharmacy: ",r.pharmacy]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Price: ",r.price]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Start time:"," ",me()(r.start).format("DD. MMM YYYY. HH:mm")]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-End time: ",me()(r.end).format("DD. MMM YYYY. HH:mm")]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Info: ",r.info]}),r.therapyDTOList.length>0&&Object(I.jsxs)("div",{children:[Object(I.jsx)(X.a,{className:"m-2",children:"-Therapy:"}),r.therapyDTOList.map((function(e,t){return Object(I.jsxs)(X.a,{className:"ml-5 mt-1 mb-1",children:[e.code," - ",e.medicineName," :"," ",e.therapyLength," days"]},t)}))]})]})})})]}))},Dn=(n(592),n(268));n(593);var Pn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)({}),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)({}),g=Object(l.a)(v,2),_=g[0],C=g[1],k=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Q(),n=Z().trim(),console.log(n),t){e.next=9;break}return k("No user id in token! error",{appearance:"error"}),c([]),e.abrupt("return");case 9:if("DERMATOLOGIST"===n||"PHARMACIST"===n){e.next=13;break}return k("Invalid user type",{appearance:"error"}),c([]),e.abrupt("return");case 13:return C({id:t,type:n}),e.next=16,y.get("/api/workers/calendarAppointments/"+t).then((function(e){var n=e.data;y.get("/api/vacation/getAcceptedVacationsFromWorker?id="+t).then((function(e){var t=e.data;c(n.concat(t))})).catch((function(){c(n),k("Error while getting vacations from server!",{appearance:"error"})}))})).catch((function(){c([]),k("Error while getting events!",{appearance:"error"})}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(I.jsxs)("div",{className:"my__container p-5",style:{minHeight:"100vh"},children:[Object(I.jsx)(wn.a,{plugins:[Nn.b,Sn.a,Tn.a],headerToolbar:{left:"prev,next today",center:"title",right:"WeekView,MonthView,YearView"},allDaySlot:!1,events:n,initialView:"MonthView",eventClick:function(e){if("appointment"===e.event.extendedProps.calendarType){if("FINISHED"===e.event.extendedProps.appointmentState){var t={};for(var n in e.event.extendedProps)t[n]=e.event.extendedProps[n];return t.id=e.event.id,f(t),void b(!0)}if("RESERVED"===e.event.extendedProps.appointmentState)if(me()(Date.now())>me()(e.event.extendedProps.start).subtract(15,"minutes")){var a={};for(var n in e.event.extendedProps)a[n]=e.event.extendedProps[n];a.id=e.event.id,f(a),o(!0)}else k("You can't initiate this appointment yet!",{appearance:"error"})}},views:{WeekView:{type:"timeGrid",buttonText:"Week View",duration:{weeks:1},eventContent:function(e){var t=e.event.extendedProps;return"appointment"===t.calendarType?{html:"<div>"+t.patient+"</div>"}:{html:"<div>"+t.absenceType+"</div>"}},eventDidMount:function(e){var t=e.event.extendedProps;"appointment"===t.calendarType?Object(Dn.a)(e.el,{allowHTML:!0,content:"<div><p>"+me()(e.event.start).format("HH:mm")+"-"+me()(e.event.end).format("HH:mm")+"</p><p>"+t.patient+"<br/>"+("DERMATOLOGIST"===_.type?t.pharmacy+"<br/><i>":"<i>")+t.appointmentState+"</i></p></div>"}):(e.event.setProp("backgroundColor","rgba(20, 87, 97, 0.897)"),Object(Dn.a)(e.el,{allowHTML:!0,content:"<div><p>"+me()(e.event.start).format("DD MMM")+"-"+me()(e.event.end).format("DD MMM")+"</p><p>"+t.absenceType+"</p></div>"}))}},MonthView:{type:"dayGrid",buttonText:"Month View",duration:{months:1},slotDuration:{days:1},dayMaxEvents:2,eventContent:function(e){var t=e.event.extendedProps;return"appointment"===t.calendarType?{html:"<div><p>"+me()(e.event.start).format("HH:mm")+"-"+me()(e.event.end).format("HH:mm")+"</p><p>"+t.patient+"<br/>"+("DERMATOLOGIST"===_.type?t.pharmacy+"<br/><i>":"<i>")+t.appointmentState+"</i></p></div>"}:{html:"<div><p>"+me()(e.event.start).format("DD MMM")+"-"+me()(e.event.end).format("DD MMM")+"</p><p>"+t.absenceType+"</p></div>"}},eventDidMount:function(e){"appointment"!==e.event.extendedProps.calendarType&&e.event.setProp("backgroundColor","rgba(20, 87, 97, 0.897)")}},YearView:{type:"timeline",buttonText:"Year view",duration:{years:1},slotDuration:{months:1},visibleRange:{start:me()().startOf("year").toDate(),end:me()().endOf("year").toDate()},eventContent:function(e){var t=e.event.extendedProps;return"appointment"===t.calendarType?{html:me()(e.event.start).format("DD/MM | HH:mm")+"-"+me()(e.event.end).format("HH:mm")+"<br/>"+t.patient+"<br/>"+("DERMATOLOGIST"===_.type?t.pharmacy+"<br/><i>":"<i>")+t.appointmentState+"</i>"}:{html:"<div><p>"+me()(e.event.start).format("DD MMM")+"-"+me()(e.event.end).format("DD MMM")+"</p><p>"+t.absenceType+"</p></div>"}},eventDidMount:function(e){"appointment"!==e.event.extendedProps.calendarType&&e.event.setProp("backgroundColor","rgba(20, 87, 97, 0.897)")}}}}),Object(I.jsx)(In,{show:u,appointment:p,onHideFun:function(){b(!1),f({})}}),Object(I.jsx)(Ve,{show:i,onCancelMethod:function(){o(!1);var e=Q();if(!e)return k("Invalid user!",{appearance:"error"}),void c([]);y.get("/api/workers/calendarAppointments/"+e).then((function(t){var n=t.data;y.get("/api/vacation/getAcceptedVacationsFromWorker?id="+e).then((function(e){var t=e.data;c(n.concat(t))})).catch((function(){return c(n)}))})).catch((function(){return c([])}))},appointment:p,onHide:function(){o(!1),f({})}})]})},Ln=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),d=i[0],j=i[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],f=O[1],v=Object(a.useState)([]),g=Object(l.a)(v,2),_=g[0],C=g[1],k=Object(a.useState)([]),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(a.useState)(!1),D=Object(l.a)(T,2),P=D[0],L=D[1],E=Object(a.useState)(null),M=Object(l.a)(E,2),A=M[0],H=M[1],R=Object(a.useState)(!1),G=Object(l.a)(R,2),Y=G[0],B=G[1],F=Object(a.useState)(""),q=Object(l.a)(F,2),K=q[0],z=q[1],U=Object(ie.useToasts)().addToast,W=function(){r([]),j([]),f(!1),C([]),S([]),L(!1),H(null),B(!1),z("")};Object(a.useEffect)((function(){function t(){return(t=Object(x.a)(m.a.mark((function t(){var n,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.appt){t.next=2;break}return t.abrupt("return");case 2:return n=e.appt.pharmacyID,a=e.appt.patientID,t.next=6,y.get("/api/pharmacy/getMedicineFromPharmWithoutAllergies?pharm_id="+n+"&patient_id="+a).catch((function(){U("No medicine to add to therapy!",{appearance:"error"}),J()}));case 6:0===(c=t.sent).data.length&&(U("No medicine to add to therapy!",{appearance:"error"}),J()),j(c.data);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.clickedShow]);var J=function(){W(),e.onHideModal()},Z=function(t){if(t.preventDefault(),t.stopPropagation(),!Y)if(A)if(K)if(isNaN(K))U("Invalid therapy duration!",{appearance:"error"});else{var n=parseInt(""+K);n<=0?U("Invalid therapy duration!",{appearance:"error"}):(A.duration=n,e.onAddMedicine(A),W())}else U("Therapy length not defined!",{appearance:"error"});else U("No medicine is selected!",{appearance:"error"})};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,scrollable:!0,onHide:J,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Add medicine for therapy"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{onSubmit:Z,children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Medicine"}),Object(I.jsx)(Ze.a,{id:"1",labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},onChange:function(t){B(!1),r(t),S([]),C([]),t.length>0?t[0].amount<=0?function(t,n){if(e.appt){var a=Q();if(a){var c=e.appt.pharmacyID,r=e.appt.patientID;y.get("/api/pharmacy/getAlternativeFromPharmacy?worker_id="+a+"&pharm_id="+c+"&patient_id="+r+"&medicine_item_id="+t+"&medicine_id="+n).then((function(e){0==e.data.length?B(!0):S(e.data)})).catch((function(){return B(!0)}))}}}(t[0].medicineItemID,t[0].medicineID):H(t[0]):H(null)},options:d,placeholder:"Select a medicine...",selected:c})]}),Object(I.jsx)(X.a,{className:"justify-content-center mb-4",children:Object(I.jsx)(b.a,{variant:"primary",onClick:function(){return f(!p)},children:"Show/Hide info"})}),c.length>0&&p&&Object(I.jsxs)(ee.a,{style:{backgroundColor:"#83CEC2"},children:[Object(I.jsx)(X.a,{className:"justify-content-center mt-3",children:"Medicine information"}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Code: ",c[0].code]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Name: ",c[0].name]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Price: ",c[0].price]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Content: ",c[0].content]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Side effects: ",c[0].sideEffects]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Daily intake: ",c[0].dailyIntake]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Additional notes: ",c[0].additionalNotes]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Type: ",c[0].medicineType]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Form: ",c[0].medicineForm]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Manufacturer: ",c[0].manufacturer]})]}),c.length>0&&c[0].amount<=0&&Object(I.jsx)("div",{children:Y?Object(I.jsxs)("div",{style:{color:"red"},children:["Selected medicine '",c[0].name,"' is currently not in stock and has no alternative medicine available. Please chose another."]}):Object(I.jsxs)("div",{children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsxs)(u.a.Label,{children:["Selected medicine '",c[0].name,"' is currently not in stock. Please select an alternative medicine:"]}),Object(I.jsx)(Ze.a,{id:"2",labelKey:function(e){return"".concat(e.code," -- ").concat(e.name)},onChange:function(e){C(e),e.length>0?H(e[0]):H(null)},options:N,placeholder:"Select a medicine...",selected:_})]}),Object(I.jsx)(X.a,{className:"justify-content-center mb-4",children:Object(I.jsx)(b.a,{variant:"primary",onClick:function(){return L(!P)},children:"Show/Hide alternative info"})})]})}),_.length>0&&P&&Object(I.jsxs)(ee.a,{style:{backgroundColor:"#83CEC2"},children:[Object(I.jsx)(X.a,{className:"justify-content-center mt-3",children:"Alternative medicine information"}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Code: ",_[0].code]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Name: ",_[0].name]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Price: ",_[0].price]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Content: ",_[0].content]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Side effects: ",_[0].sideEffects]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Daily intake: ",_[0].dailyIntake]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Additional notes: ",_[0].additionalNotes]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Type: ",_[0].medicineType]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Form: ",_[0].medicineForm]}),Object(I.jsxs)(X.a,{className:"m-2",children:["-Manufacturer: ",_[0].manufacturer]})]}),Object(I.jsxs)(X.a,{className:"mb-2 mt-5 ml-2",children:["Selected medicine:"," ",A?A.name:"- none selected -"]}),Object(I.jsxs)(u.a.Group,{as:X.a,className:"mb-4 ml-2",children:[Object(I.jsx)(u.a.Label,{children:"Prescribed days of therapy: "}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsx)(u.a.Control,{type:"text",onChange:function(e){return z(e.target.value)},value:K})})]}),Object(I.jsx)(b.a,{variant:"primary",onClick:Z,children:"Confirm"}),Object(I.jsx)(b.a,{variant:"secondary",onClick:J,children:"Cancel"})]})})]}))},En=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),i=Object(l.a)(s,2),d=i[0],j=i[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(a.useState)([]),f=Object(l.a)(x,2),v=f[0],g=f[1],_=Object(a.useState)(""),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(a.useState)(""),S=Object(l.a)(N,2),T=S[0],D=S[1],P=Object(a.useState)(""),L=Object(l.a)(P,2),E=L[0],M=L[1],A=Object(ie.useToasts)().addToast;Object(a.useEffect)((function(){var t=new FormData,n=Q();null!==n&&(t.append("workerID",n),"PHARMACIST"===Z().trim()?y.post("/api/workers/getWorkTimeForReport",t).then((function(e){j(e.data)})).catch((function(){return A("Couldn't get worktime!",{appearance:"error"})})):e.appt&&(t.append("pharmacyID",e.appt.pharmacyID),y.post("/api/workers/getWorkTimeForReportDerm",t).then((function(e){j(e.data)})).catch((function(){return A("Couldn't get worktime!",{appearance:"error"})}))))}),[e.appt]),Object(a.useEffect)((function(){if(c){var t=new FormData,n=Q();null!==n&&(t.append("workerID",n),t.append("patientID",e.appt.patientID),t.append("date",me()(c).valueOf()),y.post("/api/appointment/appointmentsOnThatDate",t).then((function(e){g(e.data)})).catch((function(){return A("Couldn't get appts on selected date!",{appearance:"error"})})))}else g([])}),[c]);return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,scrollable:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Schedule another appointment"})}),Object(I.jsxs)(V.a.Body,{children:[Object(I.jsx)(X.a,{className:"ml-3 mb-2",children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Worker's schedule"})}),Object(I.jsx)(b.a,{onClick:function(){return m(!p)},children:"Show/hide"})]})}),p&&Object(I.jsxs)("div",{children:[Object(I.jsx)(X.a,{className:"ml-5 mb-2",children:"Holidays:"}),(d?d.holidays:[]).map((function(e,t){return Object(I.jsxs)(X.a,{className:"ml-5 mb-2",children:[t+1,") On holiday from"," ",me()(e.startTime).format("DD MMM YYYY")," to"," ",me()(e.endTime).format("DD MMM YYYY")]},t+100)})),Object(I.jsx)(X.a,{className:"ml-5 mb-2",children:"Worktime:"}),(d?d.workDayList:[]).map((function(e,t){return Object(I.jsxs)(X.a,{className:"ml-5 mb-2",children:[e.weekday,": ",e.startTime," - ",e.endTime]},t)}))]}),Object(I.jsx)(u.a,{children:Object(I.jsx)(u.a.Group,{as:X.a,className:"ml-3 mb-2 mt-4",children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Date for appointment:"})}),Object(I.jsx)(u.a.Control,{as:Ht.a,closeOnScroll:!0,selected:c,minDate:Date.now(),dateFormat:"dd/MM/yyyy",onChange:function(e){return r(e)},isClearable:!0})]})})}),v.length>0&&Object(I.jsxs)("div",{children:[Object(I.jsx)(X.a,{className:"ml-5 mb-2",children:"Appointments on selected date:"}),v.map((function(e,t){return Object(I.jsxs)(X.a,{className:"ml-5 mb-2",children:[t+1,") From ",me()(e.startTime).format("HH:mm")," to"," ",me()(e.endTime).format("HH:mm")]},t+100)}))]}),Object(I.jsx)(X.a,{className:"ml-1 mt-4 mb-2",children:Object(I.jsx)(ee.a,{md:8,children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Start time:"})}),Object(I.jsx)(u.a.Control,{type:"text",placeholder:"hours",value:k,onChange:function(e){return w(e.target.value)}}),Object(I.jsx)(u.a.Control,{type:"text",placeholder:"minutes",value:T,onChange:function(e){return D(e.target.value)}})]})})}),Object(I.jsx)(X.a,{className:"ml-1 mt-4 mb-2",children:Object(I.jsx)(ee.a,{md:8,children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Duration(min):"})}),Object(I.jsx)(u.a.Control,{type:"text",value:E,onChange:function(e){return M(e.target.value)}})]})})}),Object(I.jsx)(X.a,{className:"justify-content-center m-3 align-items-center",children:Object(I.jsx)(b.a,{onClick:function(){return function(){if(c)if(isNaN(k))A("Invalid start time!",{appearance:"error"});else if(isNaN(T))A("Invalid start time!",{appearance:"error"});else if(isNaN(E))A("Invalid duration!",{appearance:"error"});else{var t=parseInt(k),n=parseInt(T),a=parseInt(E);if(t<0||t>24||n<0||n>60)A("Invalid start time!",{appearance:"error"});else if(a<0||a>180)A("Invalid duration!",{appearance:"error"});else{var r=60*t*60*1e3+60*n*1e3,s=new FormData,i=Q();null!==i&&(s.append("workerID",i),s.append("patientID",e.appt.patientID),s.append("pharmacyID",e.appt.pharmacyID),s.append("date",me()(c).valueOf()+r),s.append("duration",a),y.post("/api/appointment/scheduleAppointment",s).then((function(){A("Appointment scheduled!",{appearance:"success"}),e.onSchedule()})).catch((function(e){A(e.response.data,{appearance:"error"})})))}}else A("Invalid date",{appearance:"error"})}()},children:"Schedule"})})]})]}))};var Mn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),h=j[0],p=j[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)(null),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(""),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)(""),P=Object(l.a)(D,2),L=P[0],E=P[1],M=Object(O.h)(),A=Object(O.g)(),H=Object(ie.useToasts)().addToast;Object(a.useEffect)((function(){"DERMATOLOGIST"===Z().trim()?E("checkup"):"PHARMACIST"===Z().trim()?E("consultation"):E("appointment");var e=new FormData;if(!M.state.appointmentID)return H("No appointment id! Couldn't start appointment!",{appearance:"error"}),void A.push("/");var t=M.state.appointmentID;e.append("id",t),y.post("/api/appointment/getApptForReport",e).then((function(e){k(e.data)})).catch((function(){H("Couldn't get ids!",{appearance:"error"}),A.push("/")}))}),[]);var R=function(){var e=C.id;y.post("/api/appointment/finalizeAppointment",{apptId:e,medicineList:n,info:S}).then((function(){H("Appointment finished!",{appearance:"success"}),p(!1),A.push("/")})).catch((function(e){c([]),H(e.response.data,{appearance:"error"})}))};return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{style:{backgroundColor:"#395E82"},children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5 mb-2 align-items-center",children:Object(I.jsxs)("h2",{style:{color:"#83CEC2"},children:["Appointment report for: ",null===C||void 0===C?void 0:C.patient]})}),Object(I.jsx)(X.a,{className:"justify-content-center mb-5 align-items-center",children:Object(I.jsx)("h3",{style:{color:"#83CEC2"},children:null===C||void 0===C?void 0:C.pharmacy})}),Object(I.jsx)(X.a,{className:"justify-content-center pb-3  align-items-center",children:Object(I.jsx)(ee.a,{md:8,children:Object(I.jsxs)(X.a,{className:"justify-content-center align-items-center pt-3 rounded",style:{backgroundColor:"#83CEC2"},children:[Object(I.jsx)(ee.a,{children:Object(I.jsxs)("p",{className:"text-center",children:["Date: ",me()(null===C||void 0===C?void 0:C.start).format("DD MMM YYYY")]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)("p",{className:"text-center",children:["Time:",me()(null===C||void 0===C?void 0:C.start).format("HH:mm a"),"-",me()(null===C||void 0===C?void 0:C.end).format("HH:mm a")]})}),Object(I.jsx)(ee.a,{children:Object(I.jsxs)("p",{className:"text-center",children:["Price: ",null===C||void 0===C?void 0:C.price]})})]})})}),Object(I.jsx)(X.a,{className:"justify-content-center mb-5 align-items-center",children:Object(I.jsx)(ee.a,{md:8,children:Object(I.jsx)(u.a,{children:Object(I.jsxs)(u.a.Group,{as:X.a,className:"justify-content-center align-items-center  mt-3",children:[Object(I.jsx)(u.a.Label,{children:Object(I.jsxs)("h4",{style:{color:"#83CEC2"},children:["Input information about the ",L]})}),Object(I.jsx)(u.a.Control,{as:"textarea",rows:"8",name:"address",value:S,onChange:function(e){return T(e.target.value)}})]})})})}),Object(I.jsx)(X.a,{className:"justify-content-center pb-5 align-items-center",children:Object(I.jsxs)(ee.a,{md:8,children:[Object(I.jsxs)(X.a,{className:"justify-content-center align-items-center",children:[Object(I.jsx)("div",{style:{color:"white"},children:"Therapy medicine"}),Object(I.jsx)(b.a,{size:"sm",onClick:function(){o(!0),v(!f)},children:"Add new"})]}),(n||[]).map((function(e,t){return Object(I.jsxs)(X.a,{className:"justify-content-center align-items-center mt-3 ml=5",children:[Object(I.jsxs)("div",{style:{color:"white"},children:["Medicine: ",e.code," - ",e.name,". Duration of therapy(in days): ",e.duration]}),Object(I.jsx)(b.a,{onClick:function(){for(var e=[],a=0;a<n.length;a++)a!=t&&e.push(n[a]);c(e)},children:"Remove"})]},e.code)})),Object(I.jsx)(X.a,{className:"justify-content-center mt-5 align-items-center",children:Object(I.jsx)("div",{style:{color:"#83CEC2"},children:"Finalize appointment"})}),Object(I.jsxs)(X.a,{className:"justify-content-center mt-3 mb-5 align-items-center",children:[Object(I.jsx)(b.a,{onClick:function(){p(!0)},children:"Schedule another and finish appointment"}),Object(I.jsxs)(b.a,{onClick:function(){return R()},children:[" ","Finish appointment without scheduling"]})]})]})})]}),Object(I.jsx)(Ln,{show:i,appt:C,onHideModal:function(){o(!1)},onAddMedicine:function(e){for(var t=0;t<n.length;t++)if(n[t].medicineID===e.medicineID)return void H("That medicine is already added to therapy!",{appearance:"error"});n.push(e),o(!1)},clickedShow:f}),Object(I.jsx)(En,{show:h,appt:C,onHide:function(){return p(!1)},onSchedule:function(){p(!1),R()}})]})};var An=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),i=Object(l.a)(s,2),d=i[0],j=i[1],h=Object(a.useState)("none"),O=Object(l.a)(h,2),p=O[0],m=O[1],x=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){j(null),r(null),m("none")}),[e.show]),Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:"Create a request for a vacation"})}),Object(I.jsx)(V.a.Body,{as:X.a,className:"justify-content-center m-3",children:Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Start date:"})}),Object(I.jsx)(u.a.Control,{as:Ht.a,closeOnScroll:!0,selected:c,dateFormat:"dd/MM/yyyy",onChange:function(e){return r(e)},isClearable:!0})]})}),Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"End date:"})}),Object(I.jsx)(u.a.Control,{as:Ht.a,closeOnScroll:!0,selected:d,dateFormat:"dd/MM/yyyy",onChange:function(e){return j(e)},isClearable:!0})]})}),Object(I.jsx)(X.a,{className:"justify-content-center m-3",children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Type:"})}),Object(I.jsxs)(u.a.Control,{as:"select",value:p,onChange:function(e){return m(e.target.value)},name:"typeVac",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"vacation",children:"vacation"}),Object(I.jsx)("option",{value:"leave",children:"leave"})]})]})})]})}),Object(I.jsx)(V.a.Footer,{children:Object(I.jsx)(b.a,{onClick:function(){if(c)if(d)if("none"!==p)if(c.getTime()>=d.getTime())x("Invalid start/end date!",{appearance:"error"});else{var t=Q();if(t){var n=Math.floor(c.getTime()),a=Math.floor(d.getTime());if(me()(Date.now())>me()(n))x("Start date of vacation has to be in future!",{appearance:"error"});else{var r=new URLSearchParams;r.append("id",t),r.append("start",n),r.append("end",a),r.append("type",p),y.get("/api/vacation/request_vacation",{params:r}).then((function(){return e.onCreateMethod()})).catch((function(e){return x(e.response.data,{appearance:"error"})}))}}else x("No user id in token! error",{appearance:"error"})}else x("Vacation type is none!",{appearance:"error"});else x("Ending date is empty!",{appearance:"error"});else x("Starting date is empty!",{appearance:"error"})},children:"Create request"})})]}))};var Hn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){var e=Q();e?y.get("/api/vacation/getVacationsFromWorker?id="+e).then((function(e){return c(e.data)})).catch((function(){return c([])})):d("No user id in token! error",{appearance:"error"})}),[]),Object(I.jsx)("div",{className:"my__container",style:{minHeight:"100vh"},children:Object(I.jsxs)(X.a,{className:"justify-content-center ml-5 pb-4 pt-5 align-items-center",children:[Object(I.jsxs)(ee.a,{md:6,children:[Object(I.jsx)(X.a,{className:"justify-content-center ml-5 mb-2 align-items-center",children:Object(I.jsx)("h2",{className:"my_content_header",children:"Requests for vacations"})}),Object(I.jsx)(X.a,{className:"justify-content-center ml-5 mb-4 align-items-center",children:Object(I.jsx)(b.a,{onClick:function(){o(!0)},size:"lg",children:"Create new"})}),n.map((function(e,t){return Object(I.jsx)(X.a,{className:"justify-content-center ml-5 mb-4 align-items-center",children:Object(I.jsx)(ee.a,{children:Object(I.jsx)(de.a,{fluid:!0,className:"card_appt_home",children:Object(I.jsxs)(de.a.Body,{children:[Object(I.jsx)(de.a.Title,{children:"From: "+me()(e.start).format("DD MMM YYYY")+" | To: "+me()(e.end).format("DD MMM YYYY")}),Object(I.jsx)(de.a.Text,{children:"Type: "+e.absenceType}),Object(I.jsx)(de.a.Text,{children:"Status: "+e.requestState}),"CANCELLED"===e.requestState.trim()&&Object(I.jsxs)(de.a.Text,{children:["Reason for decline: ",e.declineText]})]})})})},t)}))]}),Object(I.jsx)(An,{show:i,onCreateMethod:function(){var e=Q();e?(y.get("/api/vacation/getVacationsFromWorker?id="+e).then((function(e){return c(e.data)})).catch((function(){return c([])})),o(!1)):d("No user id in token! error",{appearance:"error"})},onHide:function(){o(!1)}})]})})};var Rn=function(){var e,t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(0),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){var e=Q();e?y.get("/api/workplace/dermatologist/get_workplaces/"+e).then((function(e){r(e.data),console.log(c),c.length>0&&d(0)})).catch((function(){return r([])})):j("No token, error!",{appearance:"error"})}),[]),Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5 align-items-center",children:Object(I.jsx)(_t,{title:"Dermatologist profile"})}),Object(I.jsx)(X.a,{className:"justify-content-center mt-5 ml-5 mr-5 pb-5 align-items-center",children:Object(I.jsxs)(ee.a,{md:4,className:"card_appt_home",style:{backgroundColor:"white"},children:[Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsx)("h3",{className:"my_content_header",style:{textAlign:"center"},children:"Working hours"})}),Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsxs)(Ae.a,{children:[Object(I.jsx)(Ae.a.Prepend,{children:Object(I.jsx)(Ae.a.Text,{children:"Select pharmacy:"})}),Object(I.jsx)(u.a.Control,{as:"select",defaultValue:0,value:o,onChange:function(e){return d(e.target.value)},children:c.map((function(e,t){return Object(I.jsx)("option",{value:t,children:e.pharmacy})}))})]})}),((null===(e=c[o])||void 0===e?void 0:e.workDayList)?c[o].workDayList:[]).map((function(e,t){return Object(I.jsx)(X.a,{className:"justify-content-center p-2 m-2 align-items-center",style:{backgroundColor:"#83CEC2"},children:Object(I.jsxs)("div",{children:[e.weekday,": ",e.startTime," - ",e.endTime,"h"]})})}))]})})]})};var Gn=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){var e=Q();e?y.get("/api/workplace/pharmacist/get_workplace/"+e).then((function(e){c(e.data)})).catch((function(){return c({})})):r("Token error!",{appearance:"error"})}),[]),Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5 align-items-center",children:Object(I.jsx)(_t,{title:"Pharmacist profile"})}),Object(I.jsx)(X.a,{className:"justify-content-center mt-5 ml-5 mr-5 pb-5 align-items-center",children:Object(I.jsxs)(ee.a,{md:4,className:"card_appt_home",style:{backgroundColor:"white"},children:[Object(I.jsx)(X.a,{className:"justify-content-center m-5 align-items-center",children:Object(I.jsxs)("h3",{className:"my_content_header",style:{textAlign:"center"},children:["Working hours: ",n?n.pharmacy:""]})}),((null===n||void 0===n?void 0:n.workDayList)?n.workDayList:[]).map((function(e,t){return Object(I.jsx)(X.a,{className:"justify-content-center m-2 align-items-center p-2",style:{backgroundColor:"#83CEC2"},children:Object(I.jsxs)("div",{children:[e.weekday,": ",e.startTime," - ",e.endTime,"h"]})})}))]})})]})};var Yn=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(ie.useToasts)().addToast;return Object(I.jsxs)("div",{className:"my__container",style:{minHeight:"100vh"},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(X.a,{className:"justify-content-center pt-5",children:Object(I.jsx)("h4",{className:"my_content_header",children:"Issue medicine"})}),Object(I.jsx)(X.a,{className:"justify-content-center align-items-center",children:Object(I.jsx)(u.a,{onSubmit:function(e){return e.preventDefault()},className:"search_field",children:Object(I.jsxs)(u.a.Group,{as:X.a,className:"justify-content-center m-3 align-items-center",children:[Object(I.jsx)(u.a.Label,{children:"Search reservation:"}),Object(I.jsx)(u.a.Control,{type:"text",placeholder:"Reservation ID",value:i,onChange:function(e){return o(e.target.value)}}),Object(I.jsx)(X.a,{className:"mt-3",children:Object(I.jsx)(b.a,{onClick:function(){return function(){var e=new FormData,t=Q();null!==t&&(e.append("workerID",t),e.append("resID",i),y.post("/api/medicine-reservation/getReservedIssue",e).then((function(e){c(e.data)})).catch((function(e){d(e.response.data.message,{appearance:"error"}),c(null)})))}()},children:"Search"})})]})})})]}),Object(I.jsx)(X.a,{className:"justify-content-center p-3",children:n&&Object(I.jsx)(ee.a,{md:6,children:Object(I.jsxs)(de.a,{fluid:!0,className:"card_appt_home",children:[Object(I.jsxs)(de.a.Body,{children:[Object(I.jsxs)(de.a.Title,{children:["Reservation ID: ",n.reservationID]}),Object(I.jsxs)(de.a.Text,{children:["Reservation date:"," ",me()(n.reservationDate).format("DD MMM YYYY")]}),Object(I.jsxs)(de.a.Text,{children:["Reservation pickup due date:"," ",me()(n.pickupDate).format("DD MMM YYYY")]}),Object(I.jsxs)(de.a.Text,{children:["Medicine name: ",n.medicineName]}),Object(I.jsxs)(de.a.Text,{children:["Medicine ID: ",n.medicineID]})]}),Object(I.jsx)(X.a,{className:"justify-content-center align-items-center m-3",children:Object(I.jsx)(b.a,{onClick:function(){return function(){var e=new FormData,t=Q();null!==t&&(e.append("workerID",t),e.append("resID",i),y.post("/api/medicine-reservation/issueMedicine",e).then((function(e){d(e.data,{appearance:"success"}),c(null),o("")})).catch((function(e){d(e.response.data.message,{appearance:"error"}),c(null)})))}()},children:"Issue medicine"})})]})})})]})};var Bn=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),j=d[0],h=d[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)(!1),v=Object(l.a)(f,2),g=v[0],_=v[1],C=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},e,t)))},k=function(){var t=w(c);console.log(t),y.post("/api/users/",t).then((function(){r({}),e.onSuccess(),e.onHide(),_(!0)})).catch((function(){x(!0)}))},w=function(){var t={city:c.city,street:c.street,country:c.country},n=Object(o.a)(Object(o.a)({},c),{},{address:t,roleName:e.usertype});return delete n.city,delete n.street,delete n.country,n};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsxs)(V.a.Title,{id:"contained-modal-title-vcenter",children:["Add new ",e.usertype]})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{noValidate:!0,validated:j,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(h(!0),k())},children:[Object(I.jsx)(R,{onChange:function(e){return C("firstName",e.target.value)}}),Object(I.jsx)(G,{onChange:function(e){return C("lastName",e.target.value)}}),Object(I.jsx)(L,{onChange:function(e){return C("email",e.target.value)}}),Object(I.jsx)(M,{onChange:function(e){return C("password",e.target.value)}}),Object(I.jsx)(Y,{onChange:function(e){return C("telephone",e.target.value)}}),Object(I.jsx)(B,{onChange:function(e){return C("city",e.target.value)}}),Object(I.jsx)(q,{onChange:function(e){return C("street",e.target.value)}}),Object(I.jsx)(F,{onChange:function(e){return C("country",e.target.value)}}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(I.jsx)(V.a.Footer,{}),Object(I.jsx)(z,{show:m,onHide:function(){return x(!1)},message:"Something went wrong. User registration failed."}),Object(I.jsx)(W,{show:g,onHide:function(){return _(!1)},message:"User added successfully."})]}))};var Fn=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),j=d[0],h=d[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)(!1),v=Object(l.a)(f,2),g=v[0],_=v[1],C=function(e,t){r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},e,t)))},k=function(){var t=w(c);console.log(t),y.put("/api/users/"+e.user.id,t).then((function(){r({}),e.onSuccess(),e.onHide(),_(!0)})).catch((function(){x(!0)}))},w=function(){var t=Object(o.a)(Object(o.a)({},e.user.address),{},{city:c.city,street:c.street,country:c.country}),n=Object(o.a)(Object(o.a)({},c),{},{address:t,roleName:e.usertype});return delete n.city,delete n.street,delete n.country,n};return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onShow:function(){var t=Object(o.a)(Object(o.a)({},e.user),{},{city:e.user.address.city,street:e.user.address.street,country:e.user.address.country});r(t)},children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsxs)(V.a.Title,{id:"contained-modal-title-vcenter",children:["Edit ",e.user.firstName+" "+e.user.lastName]})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{noValidate:!0,validated:j,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()&&(h(!0),k())},children:[Object(I.jsx)(R,{onChange:function(e){return C("firstName",e.target.value)},defaultValue:e.user.firstName?e.user.firstName:""}),Object(I.jsx)(G,{onChange:function(e){return C("lastName",e.target.value)},defaultValue:e.user.lastName?e.user.lastName:""}),Object(I.jsx)(L,{onChange:function(e){return C("email",e.target.value)},defaultValue:e.user.email?e.user.email:"",disabled:!0}),Object(I.jsx)(Y,{onChange:function(e){return C("telephone",e.target.value)},defaultValue:e.user.telephone?e.user.telephone:""}),Object(I.jsx)(B,{onChange:function(e){return C("city",e.target.value)},defaultValue:e.user.address?e.user.address.city:""}),Object(I.jsx)(q,{onChange:function(e){return C("street",e.target.value)},defaultValue:e.user.address?e.user.address.street:""}),Object(I.jsx)(F,{onChange:function(e){return C("country",e.target.value)},defaultValue:e.user.address?e.user.address.country:""}),Object(I.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(I.jsx)(V.a.Footer,{}),Object(I.jsx)(z,{show:m,onHide:function(){return x(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:g,onHide:function(){return _(!1)},message:"User updated successfully."})]}))};function qn(e){var t=e.user,n=e.onClick,a=e.editClick,c=(e.detailsClick,e.deleteClick);return Object(I.jsxs)("tr",{onClick:n,children:[Object(I.jsx)("td",{children:t.firstName}),Object(I.jsx)("td",{children:t.lastName}),Object(I.jsx)("td",{children:t.email}),Object(I.jsx)("td",{children:t.telephone}),Object(I.jsx)("td",{children:t.address.city+" "+t.address.street}),Object(I.jsxs)("td",{children:[Object(I.jsx)(b.a,{onClick:a,children:"Edit"}),Object(I.jsx)(b.a,{variant:"danger",onClick:c,children:"Delete"})]})]},t.id)}var Vn=function(e){var t=e.initialUserType,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)({}),o=Object(l.a)(i,2),d=o[0],h=o[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)(""),g=Object(l.a)(y,2),_=g[0],C=g[1],k=Object(a.useState)(!1),w=Object(l.a)(k,2),N=w[0],S=w[1],T=Object(a.useState)(!1),D=Object(l.a)(T,2),P=D[0],L=D[1],E=Object(a.useState)(!1),M=Object(l.a)(E,2),A=M[0],H=M[1],R=Object(a.useState)(!1),G=Object(l.a)(R,2),Y=G[0],B=G[1],F=Object(a.useState)(!1),q=Object(l.a)(F,2),V=q[0],K=q[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/users/?type="+_);case 2:t=e.sent,v(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,_]),Object(a.useEffect)((function(){C(t)}),[t]);var U=function(){s(!r)};return Object(I.jsxs)(xe.a,{style:{marginTop:"10px"},className:"justify-content-center",children:[Object(I.jsxs)(X.a,{className:"justify-content-md-between",children:[Object(I.jsxs)(u.a.Group,{controlId:"userTypeSelect",children:[Object(I.jsx)(u.a.Label,{children:"User Type"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){C(e.target.value)}.bind(this),children:[Object(I.jsx)("option",{value:"PHARMACIST",children:"Pharmacist"}),Object(I.jsx)("option",{value:"DERMATOLOGIST",children:"Dermatologist"}),Object(I.jsx)("option",{value:"SUPPLIER",children:"Supplier"}),Object(I.jsx)("option",{value:"PHARMACY_ADMIN",children:"Pharmacy Admin"}),Object(I.jsx)("option",{value:"ADMIN",children:"System Admin"})]})]}),Object(I.jsxs)(b.a,{variant:"secondary",style:{float:"right",margin:"20px"},onClick:function(){return S(!0)},children:["Add new ",function(){switch(_){case"PHARMACIST":return"Pharmacist";case"DERMATOLOGIST":return"Dermatologist";case"SUPPLIER":return"Supplier";case"ADMIN":return"System Admin";case"PHARMACY_ADMIN":return"Pharmacy Admin";default:return""}}()]})]}),Object(I.jsxs)(he.a,{striped:!0,bordered:!0,hover:!0,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"First Name"}),Object(I.jsx)("th",{children:"Last Name"}),Object(I.jsx)("th",{children:"E Mail"}),Object(I.jsx)("th",{children:"Phone number"}),Object(I.jsx)("th",{children:"Address"}),Object(I.jsx)("th",{children:"Actions"})]})}),Object(I.jsx)("tbody",{children:f.map((function(e){return Object(I.jsx)(qn,{user:e,onClick:function(){h(e)},editClick:function(){return L(!0)},deleteClick:function(){return H(!0)}},e.id)}))})]}),Object(I.jsx)(Bn,{show:N,onHide:function(){return S(!1)},onSuccess:U,usertype:_}),Object(I.jsx)(Gt,{title:"Remove "+d.firstName+" "+d.lastName,show:A,onHide:function(){return H(!1)},onDelete:function(){j.a.delete("/api/users/"+d.id).then((function(){U(),H(!1),K(!0)})).catch((function(){B(!0)}))}}),Object(I.jsx)(Fn,{show:P,user:d,onHide:function(){return L(!1)},onSuccess:U,usertype:_}),Object(I.jsx)(z,{show:Y,onHide:function(){return B(!1)},message:"Something went wrong."}),Object(I.jsx)(W,{show:V,onHide:function(){return K(!1)},message:"User deleted successfully."})]})},Kn=function(e){return Object(I.jsx)("div",{children:"User search panel"})},zn=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)(Kn,{children:" "}),Object(I.jsx)(Vn,{initialUserType:"PHARMACIST",children:" "})]})};n(130);var Un=function(){var e=Object(a.useState)(new Date),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)([]),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(a.useState)([]),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(a.useState)(null),S=Object(l.a)(N,2),T=S[0],D=S[1],P=Object(a.useState)(0),L=Object(l.a)(P,2),E=L[0],M=L[1],A=Object(a.useState)(0),H=Object(l.a)(A,2),R=H[0],G=H[1],Y=Object(a.useState)([]),B=Object(l.a)(Y,2),F=B[0],q=B[1],V=Object(a.useState)({}),K=Object(l.a)(V,2),z=K[0],U=K[1],W=Object(a.useState)(!1),J=Object(l.a)(W,2),Z=J[0],$=J[1],te=Object(a.useState)("none"),ne=Object(l.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(!1),se=Object(l.a)(re,2),oe=se[0],ue=se[1],be=Object(a.useState)("none"),Oe=Object(l.a)(be,2),pe=Oe[0],me=Oe[1],ve=Object(a.useState)(!1),ye=Object(l.a)(ve,2),ge=ye[0],_e=ye[1],Ce=Object(a.useState)({}),ke=Object(l.a)(Ce,2),we=ke[0],Ne=ke[1],Se=Object(a.useState)({}),Te=Object(l.a)(Se,2),Ie=Te[0],De=Te[1],Pe=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/"+Q()+"/points");case 2:return t=e.sent,Ne(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/ranking-category/points/"+we);case 2:return t=e.sent,De(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[we]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URLSearchParams).append("date",h),e.next=4,y.get("/api/pharmacy/all/free-pharmacists/",{params:t});case 4:return 404==(n=e.sent).status&&(Pe(n.data,{appearance:"error"}),g([])),200==n.status&&(0==n.data.length&&Pe("There's no available pharmacists!",{appearance:"warning"}),g(n.data)),D(null),U({}),w([]),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!=h&&function(){e.apply(this,arguments)}()}),[Z,h,oe]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URLSearchParams).append("date",h),t.append("id",T.id),e.next=5,y.get("/api/workers/all/free-pharmacists/pharmacy",{params:t});case 5:return 404==(n=e.sent).status&&(Pe(n.data,{appearance:"error"}),w([])),200==n.status&&(0==n.data.length&&Pe("There's no available pharmacists!",{appearance:"warning"}),w(n.data)),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!=T&&function(){e.apply(this,arguments)}()}),[T,ge]),Object(a.useEffect)((function(){var e=Math.floor((null===v||void 0===v?void 0:v.length)/12)-1;(null===v||void 0===v?void 0:v.length)/12-1>e&&(e+=1),G(e)}),[v]),Object(a.useEffect)((function(){var e=12*E,t=v.length<e+12?null===v||void 0===v?void 0:v.length:e+12;q(null===v||void 0===v?void 0:v.slice(e,t))}),[v,E]),Object(I.jsx)(xe.a,{fluid:!0,className:"reserve__consultation__container",children:Object(I.jsxs)("div",{className:"reserve__consultation__content",children:[Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsx)("h3",{children:"Choose a date and time of consultation"})})}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(ee.a,{className:"my__flex",children:[Object(I.jsxs)(u.a.Group,{controlId:"datePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Date"}),Object(I.jsx)(u.a.Control,{type:"date",onChange:function(e){return function(e){var t=e.split("-"),n=new Date(Number.parseInt(t[0]),Number.parseInt(t[1])-1,Number.parseInt(t[2]));c(n)}(e.target.value)}})]}),Object(I.jsxs)(u.a.Group,{controlId:"timePicker",di:!0,children:[Object(I.jsx)(u.a.Label,{children:"Start time"}),Object(I.jsx)(u.a.Control,{type:"time",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(I.jsx)(b.a,{variant:"info",onClick:function(){var e=n,t=i.split(":");e.setHours(Number.parseInt(t[0]),Number.parseInt(t[1]),0),e.getTime()&&(e.getTime()<new Date?Pe("Choose a date from the future!",{appearance:"warning"}):O(e.getTime()))},disabled:null==n||null==i,children:"Search"})]})}),Object(I.jsx)(X.a,{className:"justify-content-center mt-5",style:{display:0==v.length?"none":"flex"},children:Object(I.jsx)(u.a,{onSubmit:function(e){if(e.preventDefault(),"none"!==ae){var t=new URLSearchParams;"ascPrice"===ae&&t.append("sort","consultationPrice,asc"),"descPrice"===ae&&t.append("sort","consultationPrice,desc"),"ascGrade"===ae&&t.append("sort","avgGrade,asc"),"descGrade"===ae&&t.append("sort","avgGrade,desc"),t.append("date",h),y.get("/api/pharmacy/all/free-pharmacists/",{params:t}).then((function(e){return g(e.data)})).catch(g([]))}},children:Object(I.jsxs)(u.a.Group,{as:X.a,className:"align-items-center",children:[Object(I.jsxs)(ee.a,{className:"my__flex",md:6,lg:6,children:[Object(I.jsxs)(u.a.Label,{style:{marginRight:"20px"},children:["Sorter:"," "]}),Object(I.jsxs)(u.a.Control,{as:"select",value:ae,onChange:function(e){ce(e.target.value)}.bind(this),name:"sorter",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"ascPrice",children:"Price (ascending)"}),Object(I.jsx)("option",{value:"descPrice",children:"Price (descending)"}),Object(I.jsx)("option",{value:"ascGrade",children:"Pharmacy grade (ascending)"}),Object(I.jsx)("option",{value:"descGrade",children:"Pharmacy grade (descending)"})]})]}),Object(I.jsxs)(ee.a,{className:"justify-content-center",md:6,lg:6,children:[Object(I.jsxs)(b.a,{type:"submit",variant:"primary",children:[" ","Sort"," "]}),Object(I.jsxs)(b.a,{variant:"primary",onClick:function(){ue(!oe)},children:[" ","Reset"," "]})]})]})})}),Object(I.jsx)(X.a,{children:F&&F.map((function(e){return Object(I.jsx)(ee.a,{className:"my__flex",lg:3,md:6,sm:12,children:Object(I.jsxs)(de.a,{className:"my__card",style:{width:"18rem"},onClick:function(){D(e),U({})},children:[Object(I.jsx)(de.a.Body,{children:Object(I.jsx)(de.a.Title,{children:e.name})}),Object(I.jsxs)(fe.a,{className:"list-group-flush",children:[Object(I.jsx)(We.a,{className:"my__flex",children:e.address}),Object(I.jsx)(We.a,{className:"my__flex",children:Object(le.a)(Array(Math.ceil(e.avgGrade))).map((function(){return Object(I.jsx)(Je.a,{className:"my__star"})}))}),Object(I.jsxs)(We.a,{className:"my__flex",children:["Price: ",e.consultationPrice]})]})]})},e.id)}))}),F.length>0&&Object(I.jsx)(X.a,{className:"my__row__pagination",children:Object(I.jsx)(ee.a,{className:"my__flex",children:Object(I.jsxs)(je.a,{size:"lg",children:[Object(I.jsx)(je.a.Prev,{disabled:0===E,onClick:function(){0!==E&&M(E-1)}}),Object(I.jsx)(je.a.Item,{disabled:!0,children:E}),Object(I.jsx)(je.a.Next,{disabled:E===R,onClick:function(){E!==R&&M(E+1)}})]})})}),Object(I.jsx)(X.a,{className:"justify-content-center mt-5",style:{display:null!=h&&0===F.length?"none":"flex"},children:Object(I.jsx)(u.a,{onSubmit:function(e){if(e.preventDefault(),"none"!==pe){var t=new URLSearchParams;"ascGrade"===pe&&t.append("sort","avgGrade,asc"),"descGrade"===pe&&t.append("sort","avgGrade,desc"),t.append("date",h),t.append("id",T.id),y.get("/api/workers/all/free-pharmacists/pharmacy",{params:t}).then((function(e){return w(e.data)})).catch(w([]))}},style:{display:0===k.length?"none":"block"},children:Object(I.jsxs)(u.a.Group,{as:X.a,className:"align-items-center",children:[Object(I.jsxs)(ee.a,{className:"my__flex",md:6,lg:6,children:[Object(I.jsxs)(u.a.Label,{style:{marginRight:"20px"},children:["Sorter:"," "]}),Object(I.jsxs)(u.a.Control,{as:"select",value:pe,onChange:function(e){me(e.target.value)}.bind(this),name:"sorter2",children:[Object(I.jsx)("option",{value:"none",children:"none"}),Object(I.jsx)("option",{value:"ascGrade",children:"Pharmacist grade (ascending)"}),Object(I.jsx)("option",{value:"descGrade",children:"Pharmacist grade (descending)"})]})]}),Object(I.jsxs)(ee.a,{className:"justify-content-center",md:6,lg:6,children:[Object(I.jsxs)(b.a,{type:"submit",variant:"primary",children:[" ","Sort"," "]}),Object(I.jsxs)(b.a,{variant:"primary",onClick:function(){_e(!ge)},children:[" ","Reset"," "]})]})]})})}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",style:{display:null!==T&&k.length>0?"table":"none",width:"50%"},className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Average grade"})]})}),Object(I.jsx)("tbody",{children:k&&k.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return function(e){U(e)}(e)},className:z.id===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.avgGrade})]},e.id)}))})]})}),Object(I.jsxs)("p",{style:{textAlign:"center",display:""==Ie?"none":"block"},children:["You have a discount of ",null===Ie||void 0===Ie?void 0:Ie.discount,"%"]}),Object(I.jsxs)("p",{style:{textAlign:"center",fontSize:"1.3rem",display:""==Ie||null==T?"none":"block"},children:["Total price:"," ",Object(I.jsx)("span",{style:{textDecoration:"line-through"},children:null===T||void 0===T?void 0:T.consultationPrice}),"   ->   ",(null===T||void 0===T?void 0:T.consultationPrice)*(100-Ie.discount)/100]}),Object(I.jsx)(X.a,{children:Object(I.jsx)(b.a,{variant:"info",onClick:function(){y.post("/api/appointment/reserve-consultation/pharmacy/".concat(T.id,"/pharmacist/").concat(z.id,"/patient/").concat(Q(),"/date/").concat(h,"/")).then((function(e){Pe(e.data,{appearance:"success"}),O(null),g([]),$(!Z)})).catch((function(e){Pe(e.response.data,{appearance:"error"}),$(!Z)})),D(null),U({}),w([])},style:{display:0===Object.keys(z).length||null==T?"none":"inline-block",margin:"auto"},children:"Reserve"})})]})})};var Wn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("History"),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)("none"),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)("none"),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(a.useState)(!1),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("History"!==i){e.next=10;break}return t=new URLSearchParams,"none"!=h&&"none"!=v&&t.append("sort",h+v),e.next=5,y.get("/api/appointment/history/patient/"+Q(),{params:t});case 5:return n=e.sent,c(n.data),e.abrupt("return",n);case 10:return a=new URLSearchParams,"none"!=h&&"none"!=v&&a.append("sort",h+v),e.next=14,y.get("/api/appointment/upcoming/patient/"+Q(),{params:a});case 14:return r=e.sent,c(r.data),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,h,v,k]),Object(I.jsx)(xe.a,{fluid:!0,className:"consultation__insight__container",children:Object(I.jsxs)("div",{className:"consultation__insight__content",children:[Object(I.jsxs)(X.a,{style:{justifyContent:"space-between"},children:[Object(I.jsx)(ee.a,{className:"my__flex",md:3,lg:3,children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:i}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){o("History")},children:"History"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){o("Upcoming")},children:"Upcoming"})]})]})}),Object(I.jsxs)(ee.a,{className:"my__flex",md:6,lg:6,children:[Object(I.jsx)(u.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:h}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){O("none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("start time")},children:"start time"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("end time")},children:"end time"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("duration")},children:"duration"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("price")},children:"price"})]})]}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:v}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){g("none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){g("asc")},children:"ascending"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){g("desc")},children:"descending"})]})]})]})]}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Start time"}),Object(I.jsx)("th",{children:"End time"}),Object(I.jsx)("th",{children:"Duration"}),Object(I.jsx)("th",{children:"Price"}),Object(I.jsx)("th",{children:"Pharmacist"}),Object(I.jsx)("th",{children:"Pharmacy"}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:n&&n.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:me()(e.startTime).format("DD-MM-YYYY HH:mm")}),Object(I.jsx)("td",{children:me()(e.endTime).format("DD-MM-YYYY HH:mm")}),Object(I.jsx)("td",{children:e.duration}),Object(I.jsx)("td",{children:e.price}),Object(I.jsx)("td",{children:e.workerName}),Object(I.jsx)("td",{children:e.pharmacyName}),Object(I.jsx)("td",{children:Object(I.jsx)(b.a,{variant:"danger",onClick:function(){return t=e.id,void y.put("/api/appointment/cancel-consultation/"+t).then((function(e){N(e.data,{appearance:"success"}),w(!k)})).catch((function(e){N(e.response.data,{appearance:"error"}),w(!k)}));var t},style:{display:"Upcoming"!==i||(t=e.startTime,(t-(new Date).getTime())/6e4<1440)?"none":"inline-block"},children:"Cancel"})})]},e.id);var t}))})]})})]})})};var Jn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("History"),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)("none"),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)("none"),f=Object(l.a)(p,2),v=f[0],g=f[1],_=Object(a.useState)(!1),C=Object(l.a)(_,2),k=C[0],w=C[1],N=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("History"!==i){e.next=10;break}return t=new URLSearchParams,"none"!=h&&"none"!=v&&t.append("sort",h+v),e.next=5,y.get("/api/appointment/checkups/history/patient/"+Q(),{params:t});case 5:return n=e.sent,c(n.data),e.abrupt("return",n);case 10:return a=new URLSearchParams,"none"!=h&&"none"!=v&&a.append("sort",h+v),e.next=14,y.get("/api/appointment/checkups/upcoming/patient/"+Q(),{params:a});case 14:return r=e.sent,c(r.data),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,h,v,k]),Object(I.jsx)(xe.a,{fluid:!0,className:"consultation__insight__container",children:Object(I.jsxs)("div",{className:"consultation__insight__content",children:[Object(I.jsxs)(X.a,{style:{justifyContent:"space-between"},children:[Object(I.jsx)(ee.a,{className:"my__flex",md:3,lg:3,children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:i}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){o("History")},children:"History"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){o("Upcoming")},children:"Upcoming"})]})]})}),Object(I.jsxs)(ee.a,{className:"my__flex",md:6,lg:6,children:[Object(I.jsx)(u.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:h}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){O("none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("start time")},children:"start time"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("end time")},children:"end time"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("duration")},children:"duration"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){O("price")},children:"price"})]})]}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:v}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){g("none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){g("asc")},children:"ascending"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){g("desc")},children:"descending"})]})]})]})]}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Start time"}),Object(I.jsx)("th",{children:"End time"}),Object(I.jsx)("th",{children:"Duration"}),Object(I.jsx)("th",{children:"Price"}),Object(I.jsx)("th",{children:"Pharmacist"}),Object(I.jsx)("th",{children:"Pharmacy"}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:n&&n.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:me()(e.startTime).format("DD-MM-YYYY HH:mm")}),Object(I.jsx)("td",{children:me()(e.endTime).format("DD-MM-YYYY HH:mm")}),Object(I.jsx)("td",{children:e.duration}),Object(I.jsx)("td",{children:e.price}),Object(I.jsx)("td",{children:e.workerName}),Object(I.jsx)("td",{children:e.pharmacyName}),Object(I.jsx)("td",{children:Object(I.jsx)(b.a,{variant:"danger",onClick:function(){return t=e.id,void y.put("/api/appointment/cancel-checkup/"+t).then((function(e){N(e.data,{appearance:"success"}),w(!k)})).catch((function(e){N(e.response.data,{appearance:"error"}),w(!k)}));var t},style:{display:"Upcoming"!==i||(t=e.startTime,(t-(new Date).getTime())/6e4<1440)?"none":"inline-block"},children:"Cancel"})})]},e.id);var t}))})]})})]})})},Qn=n(623);var Zn=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){h()}),[]);var h=function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/pharmacy/subscribed/patient/"+Q());case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()};return Object(I.jsxs)(xe.a,{fluid:!0,className:"consultation__insight__container",children:[Object(I.jsxs)("div",{className:"consultation__insight__content",children:[Object(I.jsx)(X.a,{className:"my__flex",children:Object(I.jsx)("h3",{children:"Pharmacies to which you are subscribed"})}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Description"}),Object(I.jsx)("th",{children:"Average grade"}),Object(I.jsx)("th",{children:"Address"}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:n&&n.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){o(e)},children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.description.length>30?e.description.substr(0,29)+"...":e.description}),Object(I.jsx)("td",{children:e.avgGrade}),Object(I.jsx)("td",{children:e.address}),Object(I.jsx)("td",{children:Object(I.jsx)(Qn.a,{style:{color:"red"},onClick:function(){b(!0)}})})]},e.id)}))})]})})]}),Object(I.jsx)(Gt,{show:u,title:"Unsubscribe from ".concat(i.name),bodyText:"Press 'confirm' to unsubscribe",onDelete:function(){y.post("/api/pharmacy/".concat(i.id,"/unsubscribe/").concat(Q())).then((function(){h(),b(!1)}))},onHide:function(){b(!1)},children:" "})]})};var $n=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/medicine-reservation/reserved-medicines/patient/"+Q());case 2:return t=e.sent,c(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(I.jsx)(xe.a,{fluid:!0,className:"consultation__insight__container",children:Object(I.jsxs)("div",{className:"consultation__insight__content",children:[Object(I.jsx)(X.a,{className:"my__flex",style:{display:0===n.length?"none":"flex"},children:Object(I.jsx)("h3",{children:"Reserved medicines"})}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",style:{display:0===n.length?"none":"table"},children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Id"}),Object(I.jsx)("th",{children:"Reservation date"}),Object(I.jsx)("th",{children:"Pickup date"}),Object(I.jsx)("th",{children:"Medicine"}),Object(I.jsx)("th",{children:"Pharmacy"}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:n&&n.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.reservationID}),Object(I.jsx)("td",{children:me()(e.reservationDate).format("DD-MM-YYYY HH:mm")}),Object(I.jsx)("td",{children:me()(e.pickupDate).format("DD-MM-YYYY HH:mm")}),Object(I.jsx)("td",{children:e.medicineName}),Object(I.jsx)("td",{children:e.pharmacyName}),Object(I.jsx)("td",{children:Object(I.jsx)(b.a,{variant:"danger",onClick:function(){return t=e.id,void y.put("/api/medicine-reservation/cancel-reservation/"+t).then((function(e){d(e.data,{appearance:"success"}),o(!i)})).catch((function(e){d(e.response.data,{appearance:"error"}),o(!i)}));var t},style:{display:(t=e.pickupDate,(t-(new Date).getTime())/6e4<1440?"none":"inline-block")},children:"Cancel"})})]},e.id);var t}))})]})}),Object(I.jsx)(X.a,{className:"my__flex",style:{display:0===n.length?"block":"none"},children:Object(I.jsx)("h3",{children:"You have no reservations made!"})})]})})},Xn=n(50),ea=n(338),ta=n.n(ea);var na=function(){var e=Object(a.useState)("Dermatologist"),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),u=j[0],h=j[1],O=Object(a.useState)(null),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(!1),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)(!1),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(ie.useToasts)().addToast,P=document.querySelectorAll("span");Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Dermatologist"===n?"/api/workers/all-dermatologists/patient/":"Pharmacist"===n?"/api/workers/all-pharmacists/patient/":"Medicine"===n?"/api/medicine/all-medicines/patient/":"/api/pharmacy/all-pharmacies/patient/",e.next=3,y.get(t+Q()).then((function(e){o(e.data)})).catch((function(){o([])}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,S]);var L=function(e){h(e),y.get("/api/rating/"+n.toLowerCase()+"/"+e.id+"/patient/"+Q()+"/grade").then((function(e){v(e.data)}))},E=function(){var e,t=Object(Xn.a)(P);try{for(t.s();!(e=t.n()).done;){e.value.classList.add("my__color__star")}}catch(n){t.e(n)}finally{t.f()}};return Object(I.jsx)(xe.a,{fluid:!0,className:"consultation__insight__container",children:Object(I.jsxs)("div",{className:"consultation__insight__content",children:[Object(I.jsx)(X.a,{className:"my__flex",children:Object(I.jsx)("h3",{children:"Rating procedure"})}),Object(I.jsx)(X.a,{children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:n}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){c("Dermatologist"),h(null),v(null),k(!1),E()},children:"Dermatologist"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){c("Pharmacist"),h(null),v(null),k(!1),E()},children:"Pharmacist"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){c("Medicine"),h(null),v(null),k(!1),E()},children:"Medicine"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){c("Pharmacy"),h(null),v(null),k(!1),E()},children:"Pharmacy"})]})]})}),Object(I.jsx)(X.a,{style:{display:("Dermatologist"==n||"Pharmacist"==n)&&i.length>0?"flex":"none"},children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Average grade"})]})}),Object(I.jsx)("tbody",{children:i&&i.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return L(e)},className:(null===u||void 0===u?void 0:u.id)===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.avgGrade})]},e.id)}))})]})}),Object(I.jsx)(X.a,{style:{display:"Medicine"==n&&i.length>0?"flex":"none"},children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Medicine code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Average grade"})]})}),Object(I.jsx)("tbody",{children:i&&i.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return L(e)},className:(null===u||void 0===u?void 0:u.id)===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.medicineCode}),Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.avgGrade})]},e.id)}))})]})}),Object(I.jsx)(X.a,{style:{display:"Pharmacy"==n&&i.length>0?"flex":"none"},children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Average grade"}),Object(I.jsx)("th",{children:"Address"})]})}),Object(I.jsx)("tbody",{children:i&&i.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return L(e)},className:(null===u||void 0===u?void 0:u.id)===e.id?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.avgGrade}),Object(I.jsx)("td",{children:e.address})]},e.id)}))})]})}),Object(I.jsxs)(X.a,{className:"my__flex",style:{display:null!=f&&"not graded"!==f?"flex":"none"},children:[Object(I.jsxs)("p",{className:"my__flex",style:{marginBottom:"0"},children:["You have graded last time"," ",f&&me()(null===f||void 0===f?void 0:f.date).format("DD-MM-YYYY HH:mm"),":"," ",Object(le.a)(Array(f&&(null===f||void 0===f?void 0:f.grade))).map((function(){return Object(I.jsx)(Je.a,{style:{width:"1.5rem"}})}))]}),Object(I.jsx)(b.a,{disabled:C,variant:"info",onClick:function(){return k(!0)},children:"Change grade"})]}),Object(I.jsx)(X.a,{className:"my__flex",style:{display:null!=f&&"not graded"===f||C?"flex":"none"},children:Object(I.jsx)(ta.a,{count:5,onChange:function(e){var t,a=Object(Xn.a)(P);try{for(a.s();!(t=a.n()).done;){t.value.classList.remove("my__color__star")}}catch(r){a.e(r)}finally{a.f()}var c={id:-1,grade:e,gradedID:u.id,date:(new Date).getTime(),patientId:Q(),type:n.toUpperCase()};!1===C?y.post("/api/rating/",c).then((function(e){D(e.data,{appearance:"success"}),k(!1),L(u),T(!S)})).catch((function(e){D(e.response.data,{appearance:"error"})})):(c.id=f.id,y.put("/api/rating/",c).then((function(e){D(e.data,{appearance:"success"}),k(!1),L(u),T(!S)})).catch((function(e){D(e.response.data,{appearance:"error"})})))},size:48,activeColor:"green"})}),Object(I.jsx)(X.a,{style:{justifyContent:"center",display:0===i.length?"flex":"none"},children:Object(I.jsxs)(ue.a,{transition:!0,variant:"warning",children:["There's no ",n.toLowerCase()," to grade!"]})})]})})},aa=function(){var e=Object(a.useState)("PHARMACIST"),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),h=j[0],O=j[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),x=m[0],f=m[1];Object(a.useEffect)((function(){var e="/api/patients/".concat(Q(),"/");switch(n){case"PHARMACIST":e+="my-pharmacists";break;case"DERMATOLOGIST":e+="my-dermatologists";break;case"PHARMACY":e+="my-pharmacies";break;default:return}y.get(e).then((function(e){O(e.data),o([])}))}),[n]);var v=function(e){try{switch(n){case"PHARMACIST":case"DERMATOLOGIST":return"".concat(e.name);case"PHARMACY":return"".concat(e.name," -- ").concat(e.address.street);default:return""}}catch(t){return""}};return Object(I.jsx)(u.a,{onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),i[0])if(x){var t={content:x,complaintOn:v(i[0]),complaintOnId:i[0].id,type:n,date:Date.now(),patientId:Q()};y.post("/api/complaints/",JSON.stringify(t)).then((function(){alert("Successfully submitted")})).catch((function(e){console.log(e),alert("Error. Complaint not submitted")}))}else alert("Please fill out complaint text");else alert("Please select the ".concat(n.toLocaleLowerCase()))},children:Object(I.jsxs)(xe.a,{children:[Object(I.jsxs)(X.a,{className:"justify-content-between",children:[Object(I.jsx)(ee.a,{md:3,children:Object(I.jsxs)(ct.a,{children:[Object(I.jsx)(rt.a,{children:"Select type"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){c(e.target.value)}.bind(undefined),children:[Object(I.jsx)("option",{value:"PHARMACIST",defaultValue:!0,children:"Pharmacist"}),Object(I.jsx)("option",{value:"DERMATOLOGIST",children:"Dermatologist"}),Object(I.jsx)("option",{value:"PHARMACY",children:"Pharmacy"})]})]})}),Object(I.jsx)(ee.a,{md:7,children:Object(I.jsxs)(ct.a,{children:[Object(I.jsx)(rt.a,{children:"Select name"}),Object(I.jsx)(Ze.a,{id:"complaintTypeahead",labelKey:function(e){return v(e)},onChange:o,options:h,placeholder:"Select...",selected:i})]})})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Complaint text"}),Object(I.jsx)(u.a.Control,{as:"textarea",rows:5,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(I.jsx)(b.a,{type:"submit",children:"Submit"})]})})},ca=function(e){var t=e.complaint,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.get("/api/complaint-responses/".concat(t.id)).then((function(e){console.log(e),s(e.data?e.data.responseText:"")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(I.jsx)("div",{className:"border border-primary",children:Object(I.jsxs)(xe.a,{style:{padding:"10px",border:"1px black"},children:[Object(I.jsxs)(X.a,{className:"justify-content-between",children:[Object(I.jsx)(ee.a,{md:6,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["For: ",t.complaintOn]})})}),Object(I.jsx)(ee.a,{md:4,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Type: ",t.type]})})}),Object(I.jsx)(ee.a,{md:2,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Date: ",new Date(t.date).toLocaleDateString("sr-sp")]})})})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Complaint text"}),Object(I.jsx)(u.a.Control,{as:"textarea",value:t.content,disabled:!0})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Response text"}),Object(I.jsx)(u.a.Control,{as:"textarea",defaultValue:r,value:r,disabled:!0})]})]})})},ra=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.get("/api/complaints/patient/".concat(Q())).then((function(e){c(e.data)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(I.jsx)("div",{children:n&&n.map((function(e){return Object(I.jsx)(ca,{complaint:e},e.id)}))})},sa=function(){return Object(I.jsx)("main",{className:"home__page",children:Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",unmountOnExit:!0,children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"Submit a complaint"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"My complaints"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(tt.a,{eventKey:"first",children:Object(I.jsx)(aa,{})}),Object(I.jsx)(tt.a,{eventKey:"second",children:Object(I.jsx)(ra,{})})]})})]})})})},ia=function(e){var t=e.complaint,n=e.onSuccessfulSubmit,c=Object(a.useState)(),r=Object(l.a)(c,2),s=r[0],i=r[1];return Object(I.jsx)("div",{className:"border border-primary",children:Object(I.jsx)(u.a,{onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),s){var a={responseText:s,complaintId:t.id,adminId:Q(),date:Date.now()},c="/api/complaint-responses/".concat(t.id);y.post(c,JSON.stringify(a)).then((function(){n(),alert("Successfully submitted")})).catch((function(e){console.log(e),alert("Error. Response not submitted")}))}else alert("Please fill out response text")},children:Object(I.jsxs)(xe.a,{style:{padding:"10px",border:"1px black"},children:[Object(I.jsxs)(X.a,{className:"justify-content-between",children:[Object(I.jsx)(ee.a,{md:6,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["For: ",t.complaintOn]})})}),Object(I.jsx)(ee.a,{md:4,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Type: ",t.type]})})}),Object(I.jsx)(ee.a,{md:2,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Date: ",new Date(t.date).toLocaleDateString("sr-sp")]})})})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Complaint text"}),Object(I.jsx)(u.a.Control,{as:"textarea",rows:5,value:t.content,disabled:!0})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Response text"}),Object(I.jsx)(u.a.Control,{as:"textarea",rows:5,onChange:function(e){i(e.target.value)},required:!0})]}),Object(I.jsx)(b.a,{type:"submit",children:"Submit"})]})})})},oa=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2);s[0],s[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.get("/api/complaints/new").then((function(e){c(e.data)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()};return Object(I.jsx)("div",{children:n&&n.map((function(e){return Object(I.jsx)(ia,{complaint:e,onSuccessfulSubmit:i},e.id)}))})},la=n(329),da=function(e){var t=e.complaintResponse;return Object(I.jsx)("div",{className:"border border-primary",children:Object(I.jsxs)(xe.a,{style:{padding:"10px",border:"1px black"},children:[Object(I.jsxs)(X.a,{className:"justify-content-between",children:[Object(I.jsx)(ee.a,{md:5,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["For: ",t.complaint.complaintOn]})})}),Object(I.jsx)(ee.a,{md:3,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Type: ",t.complaint.type]})})}),Object(I.jsx)(ee.a,{md:2,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Complaint Date: ",new Date(t.complaint.date).toLocaleDateString("sr-sp")]})})}),Object(I.jsx)(ee.a,{md:2,children:Object(I.jsx)(ct.a,{children:Object(I.jsxs)(rt.a,{children:["Response Date: ",new Date(t.date).toLocaleDateString("sr-sp")]})})})]}),Object(I.jsxs)(ct.a,{children:[Object(I.jsx)(rt.a,{children:"Complaint text"}),Object(I.jsx)(la.a,{as:"textarea",value:t.complaint.content,disabled:!0})]}),Object(I.jsxs)(ct.a,{children:[Object(I.jsx)(rt.a,{children:"Response text"}),Object(I.jsx)(la.a,{as:"textarea",value:t.responseText,disabled:!0})]})]})})},ja=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.get("/api/complaint-responses/admin/".concat(Q())).then((function(e){c(e.data)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(I.jsx)("div",{children:n&&n.map((function(e){return Object(I.jsx)(da,{complaintResponse:e},e.id)}))})},ua=function(){return Object(I.jsx)("main",{style:{padding:"0px"},children:Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",unmountOnExit:!0,children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"New complaints"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"History"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(tt.a,{eventKey:"first",children:Object(I.jsx)(oa,{})}),Object(I.jsx)(tt.a,{eventKey:"second",children:Object(I.jsx)(ja,{})})]})})]})})})},ba=(n(596),function(e){var t=e.pharmacy,n=e.doBuy,c=Object(a.useState)({}),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)({}),d=Object(l.a)(o,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/patients/"+Q()+"/points");case 2:return t=e.sent,i(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/ranking-category/points/"+s);case 2:return t=e.sent,u(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(I.jsxs)(de.a,{style:{marginBottom:"20px"},children:[Object(I.jsx)(de.a.Header,{children:Object(I.jsx)(xe.a,{fluid:!0,children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{md:{span:3,offset:0},children:"".concat(t.name)}),Object(I.jsx)(ee.a,{md:{span:4,offset:5},children:Object(I.jsx)("div",{style:{float:"right"},children:"".concat(t.addressStreet,", ").concat(t.addressCity)})})]})})}),Object(I.jsx)(de.a.Body,{children:Object(I.jsx)(xe.a,{children:"Grade: ".concat(t.avgGrade)})}),Object(I.jsx)(de.a.Footer,{className:"align-content-end",children:Object(I.jsx)(xe.a,{fluid:!0,children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{md:{span:3,offset:0},children:"Total price: ".concat(t.totalPrice)}),Object(I.jsx)(ee.a,{md:{span:3,offset:1},children:j&&0!=j.discount?"Total price with discount: ".concat(t.totalPrice*(1-j.discount/100)):""}),Object(I.jsx)(ee.a,{md:{span:2,offset:3},children:Object(I.jsx)(b.a,{style:{width:"100%"},onClick:function(){n(t)},children:"Buy"})})]})})})]})}),ha=function(e){var t=e.pharmacies,n=e.doBuy;return Object(I.jsx)(xe.a,{children:t.map((function(e){return Object(I.jsx)(ba,{pharmacy:e,doBuy:function(){n(e)}})}))})};ha.defaultProps={pharmacies:[]};var Oa=ha,pa=function(e){var t=e.medicines;return Object(I.jsx)(fe.a,{style:{marginBottom:"20px"},children:t.map((function(e){return Object(I.jsx)(fe.a.Item,{children:"Code: ".concat(e.medicineCode," -- ").concat(e.medicineName,", Quantity ").concat(e.quantity," pcs")})}))})};pa.defaultProps={medicines:[]};var ma=pa,xa=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)([]),h=Object(l.a)(j,2),O=h[0],p=h[1],m=Object(a.useState)(!1),x=Object(l.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)("totalPrice"),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)("ASC"),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(a.useState)({}),P=Object(l.a)(D,2),L=P[0],E=P[1];Object(a.useEffect)((function(){var e=L;return"REJECTED"==e.state?(p([]),c("Invalid QR code!"),void v(!1)):"PROCESSED"==e.state?(p([]),c("This code has already been processed!"),void v(!1)):void y({method:"post",url:"/api/pharmacy/e-recipe?sort=".concat(C,"&order=").concat(S),data:e}).then((function(e){c(""),p(e.data),v(!0)})).catch((function(){p([]),c("Invalid QR code!"),v(!1)}))}),[L,C,S]);return Object(I.jsx)("div",{className:"consultation__insight__content",children:Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(u.a,{onSubmit:function(e){!function(e){e.preventDefault(),e.stopPropagation();var t=new FormData;t.append("file",i),y({method:"post",url:"/api/e-recipes/upload-qr/".concat(Q()),data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){E(e.data)})).catch((function(){c("Invalid QR code!")}))}(e)},children:Object(I.jsxs)(xe.a,{style:{marginBottom:"15px"},children:[Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{className:"my-auto",md:{span:4,offset:2},children:Object(I.jsxs)(u.a.File,{children:[Object(I.jsx)(u.a.File.Label,{children:"Upload QR Code"}),Object(I.jsx)(u.a.File.Input,{onChange:function(e){return function(e){d(e.target.files[0])}(e)}})]})}),Object(I.jsx)(ee.a,{className:"my-auto",md:{span:4,offset:2},children:Object(I.jsx)(b.a,{type:"submit",children:"Submit"})})]}),Object(I.jsx)("p",{children:n})]})}),Object(I.jsxs)(u.a,{hidden:!f,children:[Object(I.jsx)("p",{children:"Required medicine: "}),Object(I.jsx)(ma,{medicines:L.eRecipeItems?L.eRecipeItems:[]}),Object(I.jsx)(xe.a,{children:Object(I.jsxs)(X.a,{className:"align-content-between",children:[Object(I.jsx)(ee.a,{md:{span:3,offset:2},children:Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Sort by"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){k(e.target.value)},children:[Object(I.jsx)("option",{value:"totalPrice",selected:!0,children:"Total price"}),Object(I.jsx)("option",{value:"name",children:"Pharmacy name"}),Object(I.jsx)("option",{value:"avgGrade",children:"Pharmacy grade"}),Object(I.jsx)("option",{value:"addressCity",children:"City"}),Object(I.jsx)("option",{value:"street",children:"Street"})]})]})}),Object(I.jsx)(ee.a,{md:{span:3,offset:2},children:Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Order"}),Object(I.jsxs)(u.a.Control,{as:"select",onChange:function(e){T(e.target.value)},children:[Object(I.jsx)("option",{value:"ASC",selected:!0,children:"Ascending"}),Object(I.jsx)("option",{value:"DESC",children:"Descending"})]})]})})]})})]}),Object(I.jsx)(Oa,{pharmacies:O,doBuy:function(e){!function(e){var t=Object(o.a)(Object(o.a)({},L),{},{pharmacyId:e.id,totalPrice:e.totalPrice});y.post("/api/e-recipes/dispense-medicine/".concat(Q()),t).then((function(){alert("Success"),E([])})).catch((function(){alert("Oops")}))}(e)},children:" "})]})})};var fa=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),p=Object(l.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)("none"),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(a.useState)("none"),N=Object(l.a)(w,2),S=N[0],T=N[1],D=Object(ie.useToasts)().addToast;Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/api/e-recipes/patient/"+Q()).then((function(e){c(e.data),v(!f)})).catch((function(e){D(e.response.data,{appearance:"error"})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]),Object(a.useEffect)((function(){L()}),[f]);var P=function(e){"none"!==e&&(n.sort((function(e,t){return e.prescriptionDate-t.prescriptionDate})),"desc"===e&&n.reverse())},L=function(){if("none"!==S){for(var e=[],t=0;t<n.length;t++)("Processed"===S&&"PROCESSED"===n[t].state||"New"===S&&"NEW"===n[t].state||"Rejected"===S&&"REJECTED"===n[t].state)&&e.push(n[t]);c(e)}};return Object(I.jsxs)("div",{className:"consultation__insight__content",children:[Object(I.jsx)(X.a,{style:{justifyContent:"center",marginTop:"50px",display:0===n.length&&"none"===S?"flex":"none"},children:Object(I.jsx)("h3",{children:"You don't have any e-prescriptions!"})}),Object(I.jsxs)(X.a,{style:{justifyContent:"center",marginTop:"50px",display:0===n.length&&"none"===S?"none":"flex"},children:[Object(I.jsx)(u.a.Label,{style:{marginRight:"20px"},children:"Sorter: "}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:C}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){k("none"),P("none")},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){k("Dispensing date (ascending)"),P("asc")},children:"Dispensing date (ascending)"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){k("Dispensing date (descending)"),P("desc")},children:"Dispensing date (descending)"})]})]}),Object(I.jsx)(u.a.Label,{style:{marginRight:"20px"},children:"Filter: "}),Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(Oe.a.Toggle,{variant:"success",id:"dropdown-basic",children:S}),Object(I.jsxs)(Oe.a.Menu,{children:[Object(I.jsx)(Oe.a.Item,{onClick:function(){T("none"),h(!b),o(null)},children:"none"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){T("Processed"),h(!b),o(null)},children:"Processed"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){T("New"),h(!b),o(null)},children:"New"}),Object(I.jsx)(Oe.a.Item,{onClick:function(){T("Rejected"),h(!b),o(null)},children:"Rejected"})]})]})]}),Object(I.jsx)(X.a,{style:{justifyContent:"space-between",display:0===n.length&&"none"===S?"none":"flex"},children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"State"}),Object(I.jsx)("th",{children:"Prescription date"}),Object(I.jsx)("th",{children:"Dispensing date"})]})}),Object(I.jsx)("tbody",{children:n&&n.map((function(e){return Object(I.jsxs)("tr",{onClick:function(){return function(e){o(e)}(e)},className:(null===i||void 0===i?void 0:i.code)===e.code?"my__row__selected my__table__row":"my__table__row",children:[Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.state}),Object(I.jsx)("td",{children:me()(e.prescriptionDate).format("DD-MM-YYYY HH:mm:ss")}),Object(I.jsx)("td",{children:null!=e.dispensingDate?me()(e.dispensingDate).format("DD-MM-YYYY HH:mm:ss"):"/"})]},e.code)}))})]})}),Object(I.jsx)(X.a,{style:{justifyContent:"center",marginTop:"50px",display:null==i?"none":"flex"},children:Object(I.jsx)("h3",{children:"Medicines of e-prescription"})}),Object(I.jsx)(X.a,{style:{display:null==i?"none":"flex"},children:Object(I.jsxs)(he.a,{striped:!0,bordered:!0,variant:"light",className:"my__table__pharmacies",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Code"}),Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Quanitiy"})]})}),Object(I.jsx)("tbody",{children:i&&i.eRecipeItems.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.medicineCode}),Object(I.jsx)("td",{children:e.medicineName}),Object(I.jsx)("td",{children:e.quantity})]},e.medicineCode)}))})]})})]})};var va=function(){return Object(I.jsx)("main",{className:"home__page",children:Object(I.jsx)($.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",unmountOnExit:!0,children:Object(I.jsxs)(X.a,{className:"my-panel",children:[Object(I.jsx)(ee.a,{sm:3,md:3,lg:2,xs:12,className:"side__bar",children:Object(I.jsxs)(te.a,{variant:"pills",className:"flex-column",children:[Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"first",children:"Upload"})}),Object(I.jsx)(te.a.Item,{children:Object(I.jsx)(te.a.Link,{className:"my__nav__link",eventKey:"second",children:"Review"})})]})}),Object(I.jsx)(ee.a,{className:"my__container",sm:9,md:9,lg:10,xs:12,style:{backgroundColor:"rgba(228, 245, 245, 0.897)"},children:Object(I.jsxs)($.a.Content,{children:[Object(I.jsx)(tt.a,{eventKey:"first",children:Object(I.jsx)(xa,{})}),Object(I.jsx)(tt.a,{eventKey:"second",children:Object(I.jsx)(fa,{})})]})})]})})})},ya=function(e){var t=Object(a.useState)(e.category?e.category.name:""),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.category?e.category.pointsRequired:0),i=Object(l.a)(s,2),d=i[0],j=i[1],h=Object(a.useState)(e.category?e.category.discount:0),O=Object(l.a)(h,2),p=O[0],m=O[1];return Object(I.jsxs)(V.a,Object(o.a)(Object(o.a)({},e),{},{onEnter:function(){r(""),j(0),m(0)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(V.a.Header,{closeButton:!0,children:Object(I.jsx)(V.a.Title,{id:"contained-modal-title-vcenter",children:e.category?"Edit ".concat(e.category.name):"Add new category"})}),Object(I.jsx)(V.a.Body,{children:Object(I.jsxs)(u.a,{onSubmit:function(t){return function(t){t.preventDefault(),t.stopPropagation();var n={id:e.category?e.category.id:-1,name:c,pointsRequired:parseInt(d),discount:parseFloat(p)};y.post("/api/ranking-category/",n).then((function(){e.onAddEdit(),e.onHide()})).catch((function(){alert("Error")}))}(t)},children:[Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Name"}),Object(I.jsx)(u.a.Control,{type:"input",onChange:function(e){return r(e.target.value)},defaultValue:e.category?e.category.name:"",required:!0})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Required points"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return j(e.target.value)},defaultValue:e.category?e.category.pointsRequired:0,min:0,max:1e5,step:1,required:!0})]}),Object(I.jsxs)(u.a.Group,{children:[Object(I.jsx)(u.a.Label,{children:"Discount"}),Object(I.jsx)(u.a.Control,{type:"number",onChange:function(e){return m(e.target.value)},defaultValue:e.category?e.category.discount:0,min:0,max:100,step:.01,required:!0})]}),Object(I.jsx)(xe.a,{children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{md:{span:4,offset:0},children:Object(I.jsx)(b.a,{variant:"outline-danger",onClick:e.onHide,children:"Cancel"})}),Object(I.jsx)(ee.a,{md:{span:4,offset:4},children:Object(I.jsx)(b.a,{variant:"outline-secondary",type:"submit",children:"Confirm"})})]})})]})})]}))},ga=function(e){var t=e.category,n=e.onItemChanged,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),j=d[0],u=d[1];return Object(I.jsxs)(de.a,{style:{marginBottom:"20px"},children:[Object(I.jsx)(de.a.Header,{children:Object(I.jsx)(xe.a,{children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{md:{span:3,offset:0},children:"".concat(t.name)}),Object(I.jsx)(ee.a,{md:{span:4,offset:5},children:Object(I.jsx)("div",{style:{float:"right"},children:"".concat(t.discount,"%")})})]})})}),Object(I.jsx)(de.a.Body,{children:Object(I.jsx)(xe.a,{children:"Points required: ".concat(t.pointsRequired)})}),Object(I.jsx)(de.a.Footer,{children:Object(I.jsx)(xe.a,{children:Object(I.jsxs)(X.a,{children:[Object(I.jsx)(ee.a,{md:{span:4,offset:0},children:Object(I.jsx)(b.a,{variant:"outline-success",style:{width:"100%",marginLeft:"0"},onClick:function(){i(!0)},children:"Edit"})}),Object(I.jsx)(ee.a,{md:{span:4,offset:4},children:Object(I.jsx)(b.a,{variant:"outline-danger",style:{width:"100%"},onClick:function(){u(!0)},children:"Remove"})})]})})}),Object(I.jsx)(Gt,{title:"Remove "+t.name,show:j,onHide:function(){return u(!1)},onDelete:function(){y.delete("/api/ranking-category/".concat(t.id)).then((function(){n()})),u(!1)}}),Object(I.jsx)(ya,{show:s,category:t,onHide:function(){return i(!1)},onAddEdit:function(){n(),u(!1)}})]})},_a=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],h=j[1];Object(a.useEffect)((function(){y.get("/api/ranking-category/").then((function(e){c(e.data)}))}),[i]);return Object(I.jsxs)(xe.a,{style:{marginBottom:"30px",marginTop:"30px"},fluid:!0,children:[Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{md:{span:4,offset:4},children:Object(I.jsx)("div",{children:n.map((function(e){return Object(I.jsx)(ga,{category:e,onItemChanged:function(){o(!i)}},e.id)}))})})}),Object(I.jsx)(X.a,{children:Object(I.jsx)(ee.a,{md:{span:2,offset:5},children:Object(I.jsx)(b.a,{style:{width:"100%"},variant:"outline-secondary",onClick:function(){h(!0)},children:"Add new category"})})}),Object(I.jsx)(ya,{show:u,onHide:function(){return h(!1)},onAddEdit:function(){o(!i)}})]})},Ca=(n(597),function(e){var t=e.component,n=e.userType,c=Object(T.a)(e,["component","userType"]),r=Object(ie.useToasts)().addToast;return Object(a.useEffect)((function(){void 0!=n&&(n.includes(Z())||r("Unauthorized!",{appearance:"error"}))}),[n]),Object(I.jsx)(O.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return n.includes(Z())?Object(I.jsx)(t,Object(o.a)({},e)):Object(I.jsx)(O.a,{to:"/"})}}))});var ka=function(){return Object(I.jsx)(ie.ToastProvider,{autoDismiss:"true",autoDismissTimeout:"4000",placement:"top-center",children:Object(I.jsxs)(Ke.a,{children:[Object(I.jsxs)("div",{style:{minHeight:"100vh"},children:[Object(I.jsx)(kn,{}),Object(I.jsxs)(O.d,{children:[Object(I.jsx)(O.b,{path:"/",exact:!0,component:pt}),Object(I.jsx)(Ca,{path:"/registration",component:J,userType:[null]}),Object(I.jsx)(Ca,{path:"/login",component:H,userType:[null]}),Object(I.jsx)(Ca,{path:"/pharmacy/:id",component:Mt,userType:[null,"PATIENT"]}),Object(I.jsx)(Ca,{path:"/medicine/:id/pharmacy/:pid/price/:priceid",component:Rt,userType:[null,"PATIENT"]}),Object(I.jsx)(Ca,{path:"/profile",exact:!0,component:kt,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/infoProfile",exact:!0,component:_t,userType:["ADMIN","PHARMACIST","DERMATOLOGIST","SUPPLIER","PHARMACY_ADMIN"]}),Object(I.jsx)(Ca,{path:"/reserve-consultation/pharmacies",component:Un,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/consultations-insight",component:Wn,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/subscribed-pharmacies",component:Zn,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/rating",component:na,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/reserved-medicines",component:$n,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/checkups-insight",component:Jn,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/admin/pharmacies",component:Zt,userType:["ADMIN"]}),Object(I.jsx)(Ca,{path:"/admin/medicine",component:ln,userType:["ADMIN"]}),Object(I.jsx)(Ca,{path:"/worker/search-patients",component:hn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/worker/dermatologist_profile",component:Rn,userType:["DERMATOLOGIST"]}),Object(I.jsx)(Ca,{path:"/worker/pharmacist_profile",component:Gn,userType:["PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/admin/users",component:zn,userType:["ADMIN"]}),Object(I.jsx)(Ca,{path:"/worker/examined",component:On,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/worker/calendar",component:Pn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/worker/appointment_report",component:Mn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/worker/vacation",component:Hn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/worker/issue_medicine",component:Yn,userType:["DERMATOLOGIST","PHARMACIST"]}),Object(I.jsx)(Ca,{path:"/user/complaints",component:sa,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/admin/complaint-responses",component:ua,userType:["ADMIN"]}),Object(I.jsx)(Ca,{path:"/e-prescription",component:va,userType:["PATIENT"]}),Object(I.jsx)(Ca,{path:"/admin/loyalty",component:_a,userType:["ADMIN"]})]})]}),Object(I.jsx)(Tt,{})]})})},wa=n(100),Na=Object(wa.c)({user:C}),Sa=Object(f.a)({reducer:Na});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(h.a,{store:Sa,children:Object(I.jsx)(ka,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,n){}},[[598,1,2]]]);
//# sourceMappingURL=main.22cfe2a3.chunk.js.map